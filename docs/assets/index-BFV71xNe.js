(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function uh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jr={exports:{}},Oi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function _y(){if(Tm)return Oi;Tm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var y in c)y!=="key"&&(d[y]=c[y])}else d=c;return c=d.ref,{$$typeof:n,type:l,key:m,ref:c!==void 0?c:null,props:d}}return Oi.Fragment=e,Oi.jsx=i,Oi.jsxs=i,Oi}var Sm;function My(){return Sm||(Sm=1,Jr.exports=_y()),Jr.exports}var g=My(),Or={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function Ny(){if(Cm)return pe;Cm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function C(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,L={};function G(A,P,K){this.props=A,this.context=P,this.refs=L,this.updater=K||M}G.prototype.isReactComponent={},G.prototype.setState=function(A,P){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,P,"setState")},G.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Y(){}Y.prototype=G.prototype;function O(A,P,K){this.props=A,this.context=P,this.refs=L,this.updater=K||M}var I=O.prototype=new Y;I.constructor=O,w(I,G.prototype),I.isPureReactComponent=!0;var X=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function Q(A,P,K,$,ee,me){return K=me.ref,{$$typeof:n,type:A,key:P,ref:K!==void 0?K:null,props:me}}function j(A,P){return Q(A.type,P,void 0,void 0,void 0,A.props)}function Z(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function oe(A){var P={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(K){return P[K]})}var ie=/\/+/g;function ae(A,P){return typeof A=="object"&&A!==null&&A.key!=null?oe(""+A.key):P.toString(36)}function Xe(){}function de(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Xe,Xe):(A.status="pending",A.then(function(P){A.status==="pending"&&(A.status="fulfilled",A.value=P)},function(P){A.status==="pending"&&(A.status="rejected",A.reason=P)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ge(A,P,K,$,ee){var me=typeof A;(me==="undefined"||me==="boolean")&&(A=null);var fe=!1;if(A===null)fe=!0;else switch(me){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(A.$$typeof){case n:case e:fe=!0;break;case x:return fe=A._init,ge(fe(A._payload),P,K,$,ee)}}if(fe)return ee=ee(A),fe=$===""?"."+ae(A,0):$,X(ee)?(K="",fe!=null&&(K=fe.replace(ie,"$&/")+"/"),ge(ee,P,K,"",function(nn){return nn})):ee!=null&&(Z(ee)&&(ee=j(ee,K+(ee.key==null||A&&A.key===ee.key?"":(""+ee.key).replace(ie,"$&/")+"/")+fe)),P.push(ee)),1;fe=0;var ct=$===""?".":$+":";if(X(A))for(var ke=0;ke<A.length;ke++)$=A[ke],me=ct+ae($,ke),fe+=ge($,P,K,me,ee);else if(ke=C(A),typeof ke=="function")for(A=ke.call(A),ke=0;!($=A.next()).done;)$=$.value,me=ct+ae($,ke++),fe+=ge($,P,K,me,ee);else if(me==="object"){if(typeof A.then=="function")return ge(de(A),P,K,$,ee);throw P=String(A),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return fe}function q(A,P,K){if(A==null)return A;var $=[],ee=0;return ge(A,$,"","",function(me){return P.call(K,me,ee++)}),$}function W(A){if(A._status===-1){var P=A._result;P=P(),P.then(function(K){(A._status===0||A._status===-1)&&(A._status=1,A._result=K)},function(K){(A._status===0||A._status===-1)&&(A._status=2,A._result=K)}),A._status===-1&&(A._status=0,A._result=P)}if(A._status===1)return A._result.default;throw A._result}var le=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Te(){}return pe.Children={map:q,forEach:function(A,P,K){q(A,function(){P.apply(this,arguments)},K)},count:function(A){var P=0;return q(A,function(){P++}),P},toArray:function(A){return q(A,function(P){return P})||[]},only:function(A){if(!Z(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},pe.Component=G,pe.Fragment=i,pe.Profiler=c,pe.PureComponent=O,pe.StrictMode=l,pe.Suspense=v,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,pe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return V.H.useMemoCache(A)}},pe.cache=function(A){return function(){return A.apply(null,arguments)}},pe.cloneElement=function(A,P,K){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var $=w({},A.props),ee=A.key,me=void 0;if(P!=null)for(fe in P.ref!==void 0&&(me=void 0),P.key!==void 0&&(ee=""+P.key),P)!H.call(P,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&P.ref===void 0||($[fe]=P[fe]);var fe=arguments.length-2;if(fe===1)$.children=K;else if(1<fe){for(var ct=Array(fe),ke=0;ke<fe;ke++)ct[ke]=arguments[ke+2];$.children=ct}return Q(A.type,ee,void 0,void 0,me,$)},pe.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},pe.createElement=function(A,P,K){var $,ee={},me=null;if(P!=null)for($ in P.key!==void 0&&(me=""+P.key),P)H.call(P,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ee[$]=P[$]);var fe=arguments.length-2;if(fe===1)ee.children=K;else if(1<fe){for(var ct=Array(fe),ke=0;ke<fe;ke++)ct[ke]=arguments[ke+2];ee.children=ct}if(A&&A.defaultProps)for($ in fe=A.defaultProps,fe)ee[$]===void 0&&(ee[$]=fe[$]);return Q(A,me,void 0,void 0,null,ee)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(A){return{$$typeof:y,render:A}},pe.isValidElement=Z,pe.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:W}},pe.memo=function(A,P){return{$$typeof:h,type:A,compare:P===void 0?null:P}},pe.startTransition=function(A){var P=V.T,K={};V.T=K;try{var $=A(),ee=V.S;ee!==null&&ee(K,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Te,le)}catch(me){le(me)}finally{V.T=P}},pe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},pe.use=function(A){return V.H.use(A)},pe.useActionState=function(A,P,K){return V.H.useActionState(A,P,K)},pe.useCallback=function(A,P){return V.H.useCallback(A,P)},pe.useContext=function(A){return V.H.useContext(A)},pe.useDebugValue=function(){},pe.useDeferredValue=function(A,P){return V.H.useDeferredValue(A,P)},pe.useEffect=function(A,P,K){var $=V.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(A,P)},pe.useId=function(){return V.H.useId()},pe.useImperativeHandle=function(A,P,K){return V.H.useImperativeHandle(A,P,K)},pe.useInsertionEffect=function(A,P){return V.H.useInsertionEffect(A,P)},pe.useLayoutEffect=function(A,P){return V.H.useLayoutEffect(A,P)},pe.useMemo=function(A,P){return V.H.useMemo(A,P)},pe.useOptimistic=function(A,P){return V.H.useOptimistic(A,P)},pe.useReducer=function(A,P,K){return V.H.useReducer(A,P,K)},pe.useRef=function(A){return V.H.useRef(A)},pe.useState=function(A){return V.H.useState(A)},pe.useSyncExternalStore=function(A,P,K){return V.H.useSyncExternalStore(A,P,K)},pe.useTransition=function(){return V.H.useTransition()},pe.version="19.1.1",pe}var Em;function mu(){return Em||(Em=1,Or.exports=Ny()),Or.exports}var F=mu();const wy=uh(F);var Kr={exports:{}},Ki={},$r={exports:{}},Xr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function Ry(){return Am||(Am=1,(function(n){function e(q,W){var le=q.length;q.push(W);e:for(;0<le;){var Te=le-1>>>1,A=q[Te];if(0<c(A,W))q[Te]=W,q[le]=A,le=Te;else break e}}function i(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var W=q[0],le=q.pop();if(le!==W){q[0]=le;e:for(var Te=0,A=q.length,P=A>>>1;Te<P;){var K=2*(Te+1)-1,$=q[K],ee=K+1,me=q[ee];if(0>c($,le))ee<A&&0>c(me,$)?(q[Te]=me,q[ee]=le,Te=ee):(q[Te]=$,q[K]=le,Te=K);else if(ee<A&&0>c(me,le))q[Te]=me,q[ee]=le,Te=ee;else break e}}return W}function c(q,W){var le=q.sortIndex-W.sortIndex;return le!==0?le:q.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,y=m.now();n.unstable_now=function(){return m.now()-y}}var v=[],h=[],x=1,T=null,C=3,M=!1,w=!1,L=!1,G=!1,Y=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function X(q){for(var W=i(h);W!==null;){if(W.callback===null)l(h);else if(W.startTime<=q)l(h),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(h)}}function V(q){if(L=!1,X(q),!w)if(i(v)!==null)w=!0,H||(H=!0,ae());else{var W=i(h);W!==null&&ge(V,W.startTime-q)}}var H=!1,Q=-1,j=5,Z=-1;function oe(){return G?!0:!(n.unstable_now()-Z<j)}function ie(){if(G=!1,H){var q=n.unstable_now();Z=q;var W=!0;try{e:{w=!1,L&&(L=!1,O(Q),Q=-1),M=!0;var le=C;try{t:{for(X(q),T=i(v);T!==null&&!(T.expirationTime>q&&oe());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,C=T.priorityLevel;var A=Te(T.expirationTime<=q);if(q=n.unstable_now(),typeof A=="function"){T.callback=A,X(q),W=!0;break t}T===i(v)&&l(v),X(q)}else l(v);T=i(v)}if(T!==null)W=!0;else{var P=i(h);P!==null&&ge(V,P.startTime-q),W=!1}}break e}finally{T=null,C=le,M=!1}W=void 0}}finally{W?ae():H=!1}}}var ae;if(typeof I=="function")ae=function(){I(ie)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,de=Xe.port2;Xe.port1.onmessage=ie,ae=function(){de.postMessage(null)}}else ae=function(){Y(ie,0)};function ge(q,W){Q=Y(function(){q(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(q){switch(C){case 1:case 2:case 3:var W=3;break;default:W=C}var le=C;C=W;try{return q()}finally{C=le}},n.unstable_requestPaint=function(){G=!0},n.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var le=C;C=q;try{return W()}finally{C=le}},n.unstable_scheduleCallback=function(q,W,le){var Te=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Te+le:Te):le=Te,q){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=le+A,q={id:x++,callback:W,priorityLevel:q,startTime:le,expirationTime:A,sortIndex:-1},le>Te?(q.sortIndex=le,e(h,q),i(v)===null&&q===i(h)&&(L?(O(Q),Q=-1):L=!0,ge(V,le-Te))):(q.sortIndex=A,e(v,q),w||M||(w=!0,H||(H=!0,ae()))),q},n.unstable_shouldYield=oe,n.unstable_wrapCallback=function(q){var W=C;return function(){var le=C;C=W;try{return q.apply(this,arguments)}finally{C=le}}}})(Xr)),Xr}var _m;function by(){return _m||(_m=1,$r.exports=Ry()),$r.exports}var Qr={exports:{}},tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function Dy(){if(Mm)return tt;Mm=1;var n=mu();function e(v){var h="https://react.dev/errors/"+v;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,h,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:v,containerInfo:h,implementation:x}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,h){if(v==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,tt.createPortal=function(v,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return d(v,h,null,x)},tt.flushSync=function(v){var h=m.T,x=l.p;try{if(m.T=null,l.p=2,v)return v()}finally{m.T=h,l.p=x,l.d.f()}},tt.preconnect=function(v,h){typeof v=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(v,h))},tt.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},tt.preinit=function(v,h){if(typeof v=="string"&&h&&typeof h.as=="string"){var x=h.as,T=y(x,h.crossOrigin),C=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?l.d.S(v,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:M}):x==="script"&&l.d.X(v,{crossOrigin:T,integrity:C,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tt.preinitModule=function(v,h){if(typeof v=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=y(h.as,h.crossOrigin);l.d.M(v,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(v)},tt.preload=function(v,h){if(typeof v=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,T=y(x,h.crossOrigin);l.d.L(v,x,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tt.preloadModule=function(v,h){if(typeof v=="string")if(h){var x=y(h.as,h.crossOrigin);l.d.m(v,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(v)},tt.requestFormReset=function(v){l.d.r(v)},tt.unstable_batchedUpdates=function(v,h){return v(h)},tt.useFormState=function(v,h,x){return m.H.useFormState(v,h,x)},tt.useFormStatus=function(){return m.H.useHostTransitionStatus()},tt.version="19.1.1",tt}var Nm;function Iy(){if(Nm)return Qr.exports;Nm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qr.exports=Dy(),Qr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function Uy(){if(wm)return Ki;wm=1;var n=by(),e=mu(),i=Iy();function l(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var o=t,s=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(s=o.return),t=o.return;while(t)}return o.tag===3?s:null}function m(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function y(t){if(d(t)!==t)throw Error(l(188))}function v(t){var o=t.alternate;if(!o){if(o=d(t),o===null)throw Error(l(188));return o!==t?null:t}for(var s=t,u=o;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return y(f),t;if(p===u)return y(f),o;p=p.sibling}throw Error(l(188))}if(s.return!==u.return)s=f,u=p;else{for(var S=!1,E=f.child;E;){if(E===s){S=!0,s=f,u=p;break}if(E===u){S=!0,u=f,s=p;break}E=E.sibling}if(!S){for(E=p.child;E;){if(E===s){S=!0,s=p,u=f;break}if(E===u){S=!0,u=p,s=f;break}E=E.sibling}if(!S)throw Error(l(189))}}if(s.alternate!==u)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:o}function h(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t;for(t=t.child;t!==null;){if(o=h(t),o!==null)return o;t=t.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),I=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Xe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case G:return"Profiler";case L:return"StrictMode";case V:return"Suspense";case H:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case I:return(t.displayName||"Context")+".Provider";case O:return(t._context.displayName||"Context")+".Consumer";case X:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return o=t.displayName||null,o!==null?o:de(t.type)||"Memo";case j:o=t._payload,t=t._init;try{return de(t(o))}catch{}}return null}var ge=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Te=[],A=-1;function P(t){return{current:t}}function K(t){0>A||(t.current=Te[A],Te[A]=null,A--)}function $(t,o){A++,Te[A]=t.current,t.current=o}var ee=P(null),me=P(null),fe=P(null),ct=P(null);function ke(t,o){switch($(fe,o),$(me,t),$(ee,null),o.nodeType){case 9:case 11:t=(t=o.documentElement)&&(t=t.namespaceURI)?$d(t):0;break;default:if(t=o.tagName,o=o.namespaceURI)o=$d(o),t=Xd(o,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ee),$(ee,t)}function nn(){K(ee),K(me),K(fe)}function bs(t){t.memoizedState!==null&&$(ct,t);var o=ee.current,s=Xd(o,t.type);o!==s&&($(me,t),$(ee,s))}function Wi(t){me.current===t&&(K(ee),K(me)),ct.current===t&&(K(ct),Bi._currentValue=le)}var Ds=Object.prototype.hasOwnProperty,Is=n.unstable_scheduleCallback,Us=n.unstable_cancelCallback,og=n.unstable_shouldYield,ig=n.unstable_requestPaint,kt=n.unstable_now,lg=n.unstable_getCurrentPriorityLevel,Nu=n.unstable_ImmediatePriority,wu=n.unstable_UserBlockingPriority,ji=n.unstable_NormalPriority,sg=n.unstable_LowPriority,Ru=n.unstable_IdlePriority,ag=n.log,rg=n.unstable_setDisableYieldValue,Xo=null,ft=null;function on(t){if(typeof ag=="function"&&rg(t),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Xo,t)}catch{}}var dt=Math.clz32?Math.clz32:fg,ug=Math.log,cg=Math.LN2;function fg(t){return t>>>=0,t===0?32:31-(ug(t)/cg|0)|0}var el=256,tl=4194304;function wn(t){var o=t&42;if(o!==0)return o;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nl(t,o,s){var u=t.pendingLanes;if(u===0)return 0;var f=0,p=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~p,u!==0?f=wn(u):(S&=E,S!==0?f=wn(S):s||(s=E&~t,s!==0&&(f=wn(s))))):(E=u&~p,E!==0?f=wn(E):S!==0?f=wn(S):s||(s=u&~t,s!==0&&(f=wn(s)))),f===0?0:o!==0&&o!==f&&(o&p)===0&&(p=f&-f,s=o&-o,p>=s||p===32&&(s&4194048)!==0)?o:f}function Qo(t,o){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&o)===0}function dg(t,o){switch(t){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bu(){var t=el;return el<<=1,(el&4194048)===0&&(el=256),t}function Du(){var t=tl;return tl<<=1,(tl&62914560)===0&&(tl=4194304),t}function ks(t){for(var o=[],s=0;31>s;s++)o.push(t);return o}function Zo(t,o){t.pendingLanes|=o,o!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mg(t,o,s,u,f,p){var S=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,_=t.expirationTimes,D=t.hiddenUpdates;for(s=S&~s;0<s;){var B=31-dt(s),J=1<<B;E[B]=0,_[B]=-1;var U=D[B];if(U!==null)for(D[B]=null,B=0;B<U.length;B++){var k=U[B];k!==null&&(k.lane&=-536870913)}s&=~J}u!==0&&Iu(t,u,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(S&~o))}function Iu(t,o,s){t.pendingLanes|=o,t.suspendedLanes&=~o;var u=31-dt(o);t.entangledLanes|=o,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function Uu(t,o){var s=t.entangledLanes|=o;for(t=t.entanglements;s;){var u=31-dt(s),f=1<<u;f&o|t[u]&o&&(t[u]|=o),s&=~f}}function Ls(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ku(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:pm(t.type))}function pg(t,o){var s=W.p;try{return W.p=t,o()}finally{W.p=s}}var ln=Math.random().toString(36).slice(2),je="__reactFiber$"+ln,lt="__reactProps$"+ln,Qn="__reactContainer$"+ln,Ps="__reactEvents$"+ln,hg="__reactListeners$"+ln,gg="__reactHandles$"+ln,Lu="__reactResources$"+ln,Wo="__reactMarker$"+ln;function qs(t){delete t[je],delete t[lt],delete t[Ps],delete t[hg],delete t[gg]}function Zn(t){var o=t[je];if(o)return o;for(var s=t.parentNode;s;){if(o=s[Qn]||s[je]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(t=jd(t);t!==null;){if(s=t[je])return s;t=jd(t)}return o}t=s,s=t.parentNode}return null}function Wn(t){if(t=t[je]||t[Qn]){var o=t.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return t}return null}function jo(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t.stateNode;throw Error(l(33))}function jn(t){var o=t[Lu];return o||(o=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Je(t){t[Wo]=!0}var Vu=new Set,Pu={};function Rn(t,o){eo(t,o),eo(t+"Capture",o)}function eo(t,o){for(Pu[t]=o,t=0;t<o.length;t++)Vu.add(o[t])}var yg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qu={},Gu={};function vg(t){return Ds.call(Gu,t)?!0:Ds.call(qu,t)?!1:yg.test(t)?Gu[t]=!0:(qu[t]=!0,!1)}function ol(t,o,s){if(vg(o))if(s===null)t.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(o);return}}t.setAttribute(o,""+s)}}function il(t,o,s){if(s===null)t.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttribute(o,""+s)}}function Ht(t,o,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(o,s,""+u)}}var Gs,Hu;function to(t){if(Gs===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);Gs=o&&o[1]||"",Hu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+t+Hu}var Hs=!1;function Bs(t,o){if(!t||Hs)return"";Hs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(k){var U=k}Reflect.construct(t,[],J)}else{try{J.call()}catch(k){U=k}t.call(J.prototype)}}else{try{throw Error()}catch(k){U=k}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(k){if(k&&U&&typeof k.stack=="string")return[k.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],E=p[1];if(S&&E){var _=S.split(`
`),D=E.split(`
`);for(f=u=0;u<_.length&&!_[u].includes("DetermineComponentFrameRoot");)u++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(u===_.length||f===D.length)for(u=_.length-1,f=D.length-1;1<=u&&0<=f&&_[u]!==D[f];)f--;for(;1<=u&&0<=f;u--,f--)if(_[u]!==D[f]){if(u!==1||f!==1)do if(u--,f--,0>f||_[u]!==D[f]){var B=`
`+_[u].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=u&&0<=f);break}}}finally{Hs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?to(s):""}function xg(t){switch(t.tag){case 26:case 27:case 5:return to(t.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 15:return Bs(t.type,!1);case 11:return Bs(t.type.render,!1);case 1:return Bs(t.type,!0);case 31:return to("Activity");default:return""}}function Bu(t){try{var o="";do o+=xg(t),t=t.return;while(t);return o}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fu(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Tg(t){var o=Fu(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),u=""+t[o];if(!t.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return f.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(t,o,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function ll(t){t._valueTracker||(t._valueTracker=Tg(t))}function zu(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var s=o.getValue(),u="";return t&&(u=Fu(t)?t.checked?"true":"false":t.value),t=u,t!==s?(o.setValue(t),!0):!1}function sl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sg=/[\n"\\]/g;function St(t){return t.replace(Sg,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Fs(t,o,s,u,f,p,S,E){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),o!=null?S==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+Tt(o)):t.value!==""+Tt(o)&&(t.value=""+Tt(o)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),o!=null?zs(t,S,Tt(o)):s!=null?zs(t,S,Tt(s)):u!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Tt(E):t.removeAttribute("name")}function Yu(t,o,s,u,f,p,S,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),o!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||o!=null))return;s=s!=null?""+Tt(s):"",o=o!=null?""+Tt(o):s,E||o===t.value||(t.value=o),t.defaultValue=o}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S)}function zs(t,o,s){o==="number"&&sl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function no(t,o,s,u){if(t=t.options,o){o={};for(var f=0;f<s.length;f++)o["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=o.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Tt(s),o=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}o!==null||t[f].disabled||(o=t[f])}o!==null&&(o.selected=!0)}}function Ju(t,o,s){if(o!=null&&(o=""+Tt(o),o!==t.value&&(t.value=o),s==null)){t.defaultValue!==o&&(t.defaultValue=o);return}t.defaultValue=s!=null?""+Tt(s):""}function Ou(t,o,s,u){if(o==null){if(u!=null){if(s!=null)throw Error(l(92));if(ge(u)){if(1<u.length)throw Error(l(93));u=u[0]}s=u}s==null&&(s=""),o=s}s=Tt(o),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function oo(t,o){if(o){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=o;return}}t.textContent=o}var Cg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(t,o,s){var u=o.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="":u?t.setProperty(o,s):typeof s!="number"||s===0||Cg.has(o)?o==="float"?t.cssFloat=s:t[o]=(""+s).trim():t[o]=s+"px"}function $u(t,o,s){if(o!=null&&typeof o!="object")throw Error(l(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in o)u=o[f],o.hasOwnProperty(f)&&s[f]!==u&&Ku(t,f,u)}else for(var p in o)o.hasOwnProperty(p)&&Ku(t,p,o[p])}function Ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ag=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(t){return Ag.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Js=null;function Os(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var io=null,lo=null;function Xu(t){var o=Wn(t);if(o&&(t=o.stateNode)){var s=t[lt]||null;e:switch(t=o.stateNode,o.type){case"input":if(Fs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),o=s.name,s.type==="radio"&&o!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+St(""+o)+'"][type="radio"]'),o=0;o<s.length;o++){var u=s[o];if(u!==t&&u.form===t.form){var f=u[lt]||null;if(!f)throw Error(l(90));Fs(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(o=0;o<s.length;o++)u=s[o],u.form===t.form&&zu(u)}break e;case"textarea":Ju(t,s.value,s.defaultValue);break e;case"select":o=s.value,o!=null&&no(t,!!s.multiple,o,!1)}}}var Ks=!1;function Qu(t,o,s){if(Ks)return t(o,s);Ks=!0;try{var u=t(o);return u}finally{if(Ks=!1,(io!==null||lo!==null)&&(Ol(),io&&(o=io,t=lo,lo=io=null,Xu(o),t)))for(o=0;o<t.length;o++)Xu(t[o])}}function ei(t,o){var s=t.stateNode;if(s===null)return null;var u=s[lt]||null;if(u===null)return null;s=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,o,typeof s));return s}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(Bt)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){$s=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{$s=!1}var sn=null,Xs=null,rl=null;function Zu(){if(rl)return rl;var t,o=Xs,s=o.length,u,f="value"in sn?sn.value:sn.textContent,p=f.length;for(t=0;t<s&&o[t]===f[t];t++);var S=s-t;for(u=1;u<=S&&o[s-u]===f[p-u];u++);return rl=f.slice(t,1<u?1-u:void 0)}function ul(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function cl(){return!0}function Wu(){return!1}function st(t){function o(s,u,f,p,S){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?cl:Wu,this.isPropagationStopped=Wu,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),o}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=st(bn),ni=x({},bn,{view:0,detail:0}),_g=st(ni),Qs,Zs,oi,dl=x({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(Qs=t.screenX-oi.screenX,Zs=t.screenY-oi.screenY):Zs=Qs=0,oi=t),Qs)},movementY:function(t){return"movementY"in t?t.movementY:Zs}}),ju=st(dl),Mg=x({},dl,{dataTransfer:0}),Ng=st(Mg),wg=x({},ni,{relatedTarget:0}),Ws=st(wg),Rg=x({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),bg=st(Rg),Dg=x({},bn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ig=st(Dg),Ug=x({},bn,{data:0}),ec=st(Ug),kg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pg(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=Vg[t])?!!o[t]:!1}function js(){return Pg}var qg=x({},ni,{key:function(t){if(t.key){var o=kg[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gg=st(qg),Hg=x({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tc=st(Hg),Bg=x({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),Fg=st(Bg),zg=x({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yg=st(zg),Jg=x({},dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Og=st(Jg),Kg=x({},bn,{newState:0,oldState:0}),$g=st(Kg),Xg=[9,13,27,32],ea=Bt&&"CompositionEvent"in window,ii=null;Bt&&"documentMode"in document&&(ii=document.documentMode);var Qg=Bt&&"TextEvent"in window&&!ii,nc=Bt&&(!ea||ii&&8<ii&&11>=ii),oc=" ",ic=!1;function lc(t,o){switch(t){case"keyup":return Xg.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function Zg(t,o){switch(t){case"compositionend":return sc(o);case"keypress":return o.which!==32?null:(ic=!0,oc);case"textInput":return t=o.data,t===oc&&ic?null:t;default:return null}}function Wg(t,o){if(so)return t==="compositionend"||!ea&&lc(t,o)?(t=Zu(),rl=Xs=sn=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return nc&&o.locale!=="ko"?null:o.data;default:return null}}var jg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!jg[t.type]:o==="textarea"}function rc(t,o,s,u){io?lo?lo.push(u):lo=[u]:io=u,o=Wl(o,"onChange"),0<o.length&&(s=new fl("onChange","change",null,s,u),t.push({event:s,listeners:o}))}var li=null,si=null;function e0(t){zd(t,0)}function ml(t){var o=jo(t);if(zu(o))return t}function uc(t,o){if(t==="change")return o}var cc=!1;if(Bt){var ta;if(Bt){var na="oninput"in document;if(!na){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),na=typeof fc.oninput=="function"}ta=na}else ta=!1;cc=ta&&(!document.documentMode||9<document.documentMode)}function dc(){li&&(li.detachEvent("onpropertychange",mc),si=li=null)}function mc(t){if(t.propertyName==="value"&&ml(si)){var o=[];rc(o,si,t,Os(t)),Qu(e0,o)}}function t0(t,o,s){t==="focusin"?(dc(),li=o,si=s,li.attachEvent("onpropertychange",mc)):t==="focusout"&&dc()}function n0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ml(si)}function o0(t,o){if(t==="click")return ml(o)}function i0(t,o){if(t==="input"||t==="change")return ml(o)}function l0(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var mt=typeof Object.is=="function"?Object.is:l0;function ai(t,o){if(mt(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var s=Object.keys(t),u=Object.keys(o);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!Ds.call(o,f)||!mt(t[f],o[f]))return!1}return!0}function pc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hc(t,o){var s=pc(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=o&&u>=o)return{node:s,offset:o-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pc(s)}}function gc(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?gc(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function yc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var o=sl(t.document);o instanceof t.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)t=o.contentWindow;else break;o=sl(t.document)}return o}function oa(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}var s0=Bt&&"documentMode"in document&&11>=document.documentMode,ao=null,ia=null,ri=null,la=!1;function vc(t,o,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;la||ao==null||ao!==sl(u)||(u=ao,"selectionStart"in u&&oa(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ri&&ai(ri,u)||(ri=u,u=Wl(ia,"onSelect"),0<u.length&&(o=new fl("onSelect","select",null,o,s),t.push({event:o,listeners:u}),o.target=ao)))}function Dn(t,o){var s={};return s[t.toLowerCase()]=o.toLowerCase(),s["Webkit"+t]="webkit"+o,s["Moz"+t]="moz"+o,s}var ro={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionrun:Dn("Transition","TransitionRun"),transitionstart:Dn("Transition","TransitionStart"),transitioncancel:Dn("Transition","TransitionCancel"),transitionend:Dn("Transition","TransitionEnd")},sa={},xc={};Bt&&(xc=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function In(t){if(sa[t])return sa[t];if(!ro[t])return t;var o=ro[t],s;for(s in o)if(o.hasOwnProperty(s)&&s in xc)return sa[t]=o[s];return t}var Tc=In("animationend"),Sc=In("animationiteration"),Cc=In("animationstart"),a0=In("transitionrun"),r0=In("transitionstart"),u0=In("transitioncancel"),Ec=In("transitionend"),Ac=new Map,aa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");aa.push("scrollEnd");function bt(t,o){Ac.set(t,o),Rn(o,[t])}var _c=new WeakMap;function Ct(t,o){if(typeof t=="object"&&t!==null){var s=_c.get(t);return s!==void 0?s:(o={value:t,source:o,stack:Bu(o)},_c.set(t,o),o)}return{value:t,source:o,stack:Bu(o)}}var Et=[],uo=0,ra=0;function pl(){for(var t=uo,o=ra=uo=0;o<t;){var s=Et[o];Et[o++]=null;var u=Et[o];Et[o++]=null;var f=Et[o];Et[o++]=null;var p=Et[o];if(Et[o++]=null,u!==null&&f!==null){var S=u.pending;S===null?f.next=f:(f.next=S.next,S.next=f),u.pending=f}p!==0&&Mc(s,f,p)}}function hl(t,o,s,u){Et[uo++]=t,Et[uo++]=o,Et[uo++]=s,Et[uo++]=u,ra|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function ua(t,o,s,u){return hl(t,o,s,u),gl(t)}function co(t,o){return hl(t,null,null,o),gl(t)}function Mc(t,o,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var f=!1,p=t.return;p!==null;)p.childLanes|=s,u=p.alternate,u!==null&&(u.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&o!==null&&(f=31-dt(s),t=p.hiddenUpdates,u=t[f],u===null?t[f]=[o]:u.push(o),o.lane=s|536870912),p):null}function gl(t){if(50<Ui)throw Ui=0,hr=null,Error(l(185));for(var o=t.return;o!==null;)t=o,o=t.return;return t.tag===3?t.stateNode:null}var fo={};function c0(t,o,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,o,s,u){return new c0(t,o,s,u)}function ca(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ft(t,o){var s=t.alternate;return s===null?(s=pt(t.tag,o,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=o,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,o=t.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Nc(t,o){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=o,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,o=s.dependencies,t.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t}function yl(t,o,s,u,f,p){var S=0;if(u=t,typeof t=="function")ca(t)&&(S=1);else if(typeof t=="string")S=dy(t,s,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Z:return t=pt(31,s,o,f),t.elementType=Z,t.lanes=p,t;case w:return Un(s.children,f,p,o);case L:S=8,f|=24;break;case G:return t=pt(12,s,o,f|2),t.elementType=G,t.lanes=p,t;case V:return t=pt(13,s,o,f),t.elementType=V,t.lanes=p,t;case H:return t=pt(19,s,o,f),t.elementType=H,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case I:S=10;break e;case O:S=9;break e;case X:S=11;break e;case Q:S=14;break e;case j:S=16,u=null;break e}S=29,s=Error(l(130,t===null?"null":typeof t,"")),u=null}return o=pt(S,s,o,f),o.elementType=t,o.type=u,o.lanes=p,o}function Un(t,o,s,u){return t=pt(7,t,u,o),t.lanes=s,t}function fa(t,o,s){return t=pt(6,t,null,o),t.lanes=s,t}function da(t,o,s){return o=pt(4,t.children!==null?t.children:[],t.key,o),o.lanes=s,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}var mo=[],po=0,vl=null,xl=0,At=[],_t=0,kn=null,zt=1,Yt="";function Ln(t,o){mo[po++]=xl,mo[po++]=vl,vl=t,xl=o}function wc(t,o,s){At[_t++]=zt,At[_t++]=Yt,At[_t++]=kn,kn=t;var u=zt;t=Yt;var f=32-dt(u)-1;u&=~(1<<f),s+=1;var p=32-dt(o)+f;if(30<p){var S=f-f%5;p=(u&(1<<S)-1).toString(32),u>>=S,f-=S,zt=1<<32-dt(o)+f|s<<f|u,Yt=p+t}else zt=1<<p|s<<f|u,Yt=t}function ma(t){t.return!==null&&(Ln(t,1),wc(t,1,0))}function pa(t){for(;t===vl;)vl=mo[--po],mo[po]=null,xl=mo[--po],mo[po]=null;for(;t===kn;)kn=At[--_t],At[_t]=null,Yt=At[--_t],At[_t]=null,zt=At[--_t],At[_t]=null}var it=null,Pe=null,Ae=!1,Vn=null,Lt=!1,ha=Error(l(519));function Pn(t){var o=Error(l(418,""));throw fi(Ct(o,t)),ha}function Rc(t){var o=t.stateNode,s=t.type,u=t.memoizedProps;switch(o[je]=t,o[lt]=u,s){case"dialog":xe("cancel",o),xe("close",o);break;case"iframe":case"object":case"embed":xe("load",o);break;case"video":case"audio":for(s=0;s<Li.length;s++)xe(Li[s],o);break;case"source":xe("error",o);break;case"img":case"image":case"link":xe("error",o),xe("load",o);break;case"details":xe("toggle",o);break;case"input":xe("invalid",o),Yu(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ll(o);break;case"select":xe("invalid",o);break;case"textarea":xe("invalid",o),Ou(o,u.value,u.defaultValue,u.children),ll(o)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||o.textContent===""+s||u.suppressHydrationWarning===!0||Kd(o.textContent,s)?(u.popover!=null&&(xe("beforetoggle",o),xe("toggle",o)),u.onScroll!=null&&xe("scroll",o),u.onScrollEnd!=null&&xe("scrollend",o),u.onClick!=null&&(o.onclick=jl),o=!0):o=!1,o||Pn(t)}function bc(t){for(it=t.return;it;)switch(it.tag){case 5:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:it=it.return}}function ui(t){if(t!==it)return!1;if(!Ae)return bc(t),Ae=!0,!1;var o=t.tag,s;if((s=o!==3&&o!==27)&&((s=o===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Dr(t.type,t.memoizedProps)),s=!s),s&&Pe&&Pn(t),bc(t),o===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(o===0){Pe=It(t.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++;t=t.nextSibling}Pe=null}}else o===27?(o=Pe,Cn(t.type)?(t=Lr,Lr=null,Pe=t):Pe=o):Pe=it?It(t.stateNode.nextSibling):null;return!0}function ci(){Pe=it=null,Ae=!1}function Dc(){var t=Vn;return t!==null&&(ut===null?ut=t:ut.push.apply(ut,t),Vn=null),t}function fi(t){Vn===null?Vn=[t]:Vn.push(t)}var ga=P(null),qn=null,Jt=null;function an(t,o,s){$(ga,o._currentValue),o._currentValue=s}function Ot(t){t._currentValue=ga.current,K(ga)}function ya(t,o,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),t===s)break;t=t.return}}function va(t,o,s,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var S=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var _=0;_<o.length;_++)if(E.context===o[_]){p.lanes|=s,E=p.alternate,E!==null&&(E.lanes|=s),ya(p.return,s,t),u||(S=null);break e}p=E.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(l(341));S.lanes|=s,p=S.alternate,p!==null&&(p.lanes|=s),ya(S,s,t),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===t){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function di(t,o,s,u){t=null;for(var f=o,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(l(387));if(S=S.memoizedProps,S!==null){var E=f.type;mt(f.pendingProps.value,S.value)||(t!==null?t.push(E):t=[E])}}else if(f===ct.current){if(S=f.alternate,S===null)throw Error(l(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Bi):t=[Bi])}f=f.return}t!==null&&va(o,t,s,u),o.flags|=262144}function Tl(t){for(t=t.firstContext;t!==null;){if(!mt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gn(t){qn=t,Jt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function et(t){return Ic(qn,t)}function Sl(t,o){return qn===null&&Gn(t),Ic(t,o)}function Ic(t,o){var s=o._currentValue;if(o={context:o,memoizedValue:s,next:null},Jt===null){if(t===null)throw Error(l(308));Jt=o,t.dependencies={lanes:0,firstContext:o},t.flags|=524288}else Jt=Jt.next=o;return s}var f0=typeof AbortController<"u"?AbortController:function(){var t=[],o=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){o.aborted=!0,t.forEach(function(s){return s()})}},d0=n.unstable_scheduleCallback,m0=n.unstable_NormalPriority,ze={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xa(){return{controller:new f0,data:new Map,refCount:0}}function mi(t){t.refCount--,t.refCount===0&&d0(m0,function(){t.controller.abort()})}var pi=null,Ta=0,ho=0,go=null;function p0(t,o){if(pi===null){var s=pi=[];Ta=0,ho=Cr(),go={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Ta++,o.then(Uc,Uc),o}function Uc(){if(--Ta===0&&pi!==null){go!==null&&(go.status="fulfilled");var t=pi;pi=null,ho=0,go=null;for(var o=0;o<t.length;o++)(0,t[o])()}}function h0(t,o){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){u.status="fulfilled",u.value=o;for(var f=0;f<s.length;f++)(0,s[f])(o)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}var kc=q.S;q.S=function(t,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&p0(t,o),kc!==null&&kc(t,o)};var Hn=P(null);function Sa(){var t=Hn.current;return t!==null?t:Ie.pooledCache}function Cl(t,o){o===null?$(Hn,Hn.current):$(Hn,o.pool)}function Lc(){var t=Sa();return t===null?null:{parent:ze._currentValue,pool:t}}var hi=Error(l(460)),Vc=Error(l(474)),El=Error(l(542)),Ca={then:function(){}};function Pc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Al(){}function qc(t,o,s){switch(s=t[s],s===void 0?t.push(o):s!==o&&(o.then(Al,Al),o=s),o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Hc(t),t;default:if(typeof o.status=="string")o.then(Al,Al);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=o,t.status="pending",t.then(function(u){if(o.status==="pending"){var f=o;f.status="fulfilled",f.value=u}},function(u){if(o.status==="pending"){var f=o;f.status="rejected",f.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Hc(t),t}throw gi=o,hi}}var gi=null;function Gc(){if(gi===null)throw Error(l(459));var t=gi;return gi=null,t}function Hc(t){if(t===hi||t===El)throw Error(l(483))}var rn=!1;function Ea(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Aa(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function un(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function cn(t,o,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(_e&2)!==0){var f=u.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),u.pending=o,o=gl(t),Mc(t,null,s),o}return hl(t,u,o,s),gl(t)}function yi(t,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194048)!==0)){var u=o.lanes;u&=t.pendingLanes,s|=u,o.lanes=s,Uu(t,s)}}function _a(t,o){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=S:p=p.next=S,s=s.next}while(s!==null);p===null?f=p=o:p=p.next=o}else f=p=o;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=o:t.next=o,s.lastBaseUpdate=o}var Ma=!1;function vi(){if(Ma){var t=go;if(t!==null)throw t}}function xi(t,o,s,u){Ma=!1;var f=t.updateQueue;rn=!1;var p=f.firstBaseUpdate,S=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var _=E,D=_.next;_.next=null,S===null?p=D:S.next=D,S=_;var B=t.alternate;B!==null&&(B=B.updateQueue,E=B.lastBaseUpdate,E!==S&&(E===null?B.firstBaseUpdate=D:E.next=D,B.lastBaseUpdate=_))}if(p!==null){var J=f.baseState;S=0,B=D=_=null,E=p;do{var U=E.lane&-536870913,k=U!==E.lane;if(k?(Se&U)===U:(u&U)===U){U!==0&&U===ho&&(Ma=!0),B!==null&&(B=B.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,re=E;U=o;var Re=s;switch(re.tag){case 1:if(ce=re.payload,typeof ce=="function"){J=ce.call(Re,J,U);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=re.payload,U=typeof ce=="function"?ce.call(Re,J,U):ce,U==null)break e;J=x({},J,U);break e;case 2:rn=!0}}U=E.callback,U!==null&&(t.flags|=64,k&&(t.flags|=8192),k=f.callbacks,k===null?f.callbacks=[U]:k.push(U))}else k={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},B===null?(D=B=k,_=J):B=B.next=k,S|=U;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;k=E,E=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);B===null&&(_=J),f.baseState=_,f.firstBaseUpdate=D,f.lastBaseUpdate=B,p===null&&(f.shared.lanes=0),vn|=S,t.lanes=S,t.memoizedState=J}}function Bc(t,o){if(typeof t!="function")throw Error(l(191,t));t.call(o)}function Fc(t,o){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Bc(s[t],o)}var yo=P(null),_l=P(0);function zc(t,o){t=jt,$(_l,t),$(yo,o),jt=t|o.baseLanes}function Na(){$(_l,jt),$(yo,yo.current)}function wa(){jt=_l.current,K(yo),K(_l)}var fn=0,he=null,Ne=null,Be=null,Ml=!1,vo=!1,Bn=!1,Nl=0,Ti=0,xo=null,g0=0;function Ge(){throw Error(l(321))}function Ra(t,o){if(o===null)return!1;for(var s=0;s<o.length&&s<t.length;s++)if(!mt(t[s],o[s]))return!1;return!0}function ba(t,o,s,u,f,p){return fn=p,he=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,q.H=t===null||t.memoizedState===null?Nf:wf,Bn=!1,p=s(u,f),Bn=!1,vo&&(p=Jc(o,s,u,f)),Yc(t),p}function Yc(t){q.H=Ul;var o=Ne!==null&&Ne.next!==null;if(fn=0,Be=Ne=he=null,Ml=!1,Ti=0,xo=null,o)throw Error(l(300));t===null||Oe||(t=t.dependencies,t!==null&&Tl(t)&&(Oe=!0))}function Jc(t,o,s,u){he=t;var f=0;do{if(vo&&(xo=null),Ti=0,vo=!1,25<=f)throw Error(l(301));if(f+=1,Be=Ne=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=E0,p=o(s,u)}while(vo);return p}function y0(){var t=q.H,o=t.useState()[0];return o=typeof o.then=="function"?Si(o):o,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(he.flags|=1024),o}function Da(){var t=Nl!==0;return Nl=0,t}function Ia(t,o,s){o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~s}function Ua(t){if(Ml){for(t=t.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}Ml=!1}fn=0,Be=Ne=he=null,vo=!1,Ti=Nl=0,xo=null}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?he.memoizedState=Be=t:Be=Be.next=t,Be}function Fe(){if(Ne===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var o=Be===null?he.memoizedState:Be.next;if(o!==null)Be=o,Ne=t;else{if(t===null)throw he.alternate===null?Error(l(467)):Error(l(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Be===null?he.memoizedState=Be=t:Be=Be.next=t}return Be}function ka(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Si(t){var o=Ti;return Ti+=1,xo===null&&(xo=[]),t=qc(xo,t,o),o=he,(Be===null?o.memoizedState:Be.next)===null&&(o=o.alternate,q.H=o===null||o.memoizedState===null?Nf:wf),t}function wl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Si(t);if(t.$$typeof===I)return et(t)}throw Error(l(438,String(t)))}function La(t){var o=null,s=he.updateQueue;if(s!==null&&(o=s.memoCache),o==null){var u=he.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(f){return f.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),s===null&&(s=ka(),he.updateQueue=s),s.memoCache=o,s=o.data[o.index],s===void 0)for(s=o.data[o.index]=Array(t),u=0;u<t;u++)s[u]=oe;return o.index++,s}function Kt(t,o){return typeof o=="function"?o(t):o}function Rl(t){var o=Fe();return Va(o,Ne,t)}function Va(t,o,s){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=s;var f=t.baseQueue,p=u.pending;if(p!==null){if(f!==null){var S=f.next;f.next=p.next,p.next=S}o.baseQueue=f=p,u.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{o=f.next;var E=S=null,_=null,D=o,B=!1;do{var J=D.lane&-536870913;if(J!==D.lane?(Se&J)===J:(fn&J)===J){var U=D.revertLane;if(U===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),J===ho&&(B=!0);else if((fn&U)===U){D=D.next,U===ho&&(B=!0);continue}else J={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(E=_=J,S=p):_=_.next=J,he.lanes|=U,vn|=U;J=D.action,Bn&&s(p,J),p=D.hasEagerState?D.eagerState:s(p,J)}else U={lane:J,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(E=_=U,S=p):_=_.next=U,he.lanes|=J,vn|=J;D=D.next}while(D!==null&&D!==o);if(_===null?S=p:_.next=E,!mt(p,t.memoizedState)&&(Oe=!0,B&&(s=go,s!==null)))throw s;t.memoizedState=p,t.baseState=S,t.baseQueue=_,u.lastRenderedState=p}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Pa(t){var o=Fe(),s=o.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var u=s.dispatch,f=s.pending,p=o.memoizedState;if(f!==null){s.pending=null;var S=f=f.next;do p=t(p,S.action),S=S.next;while(S!==f);mt(p,o.memoizedState)||(Oe=!0),o.memoizedState=p,o.baseQueue===null&&(o.baseState=p),s.lastRenderedState=p}return[p,u]}function Oc(t,o,s){var u=he,f=Fe(),p=Ae;if(p){if(s===void 0)throw Error(l(407));s=s()}else s=o();var S=!mt((Ne||f).memoizedState,s);S&&(f.memoizedState=s,Oe=!0),f=f.queue;var E=Xc.bind(null,u,f,t);if(Ci(2048,8,E,[t]),f.getSnapshot!==o||S||Be!==null&&Be.memoizedState.tag&1){if(u.flags|=2048,To(9,bl(),$c.bind(null,u,f,s,o),null),Ie===null)throw Error(l(349));p||(fn&124)!==0||Kc(u,o,s)}return s}function Kc(t,o,s){t.flags|=16384,t={getSnapshot:o,value:s},o=he.updateQueue,o===null?(o=ka(),he.updateQueue=o,o.stores=[t]):(s=o.stores,s===null?o.stores=[t]:s.push(t))}function $c(t,o,s,u){o.value=s,o.getSnapshot=u,Qc(o)&&Zc(t)}function Xc(t,o,s){return s(function(){Qc(o)&&Zc(t)})}function Qc(t){var o=t.getSnapshot;t=t.value;try{var s=o();return!mt(t,s)}catch{return!0}}function Zc(t){var o=co(t,2);o!==null&&xt(o,t,2)}function qa(t){var o=at();if(typeof t=="function"){var s=t;if(t=s(),Bn){on(!0);try{s()}finally{on(!1)}}}return o.memoizedState=o.baseState=t,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:t},o}function Wc(t,o,s,u){return t.baseState=s,Va(t,Ne,typeof u=="function"?u:Kt)}function v0(t,o,s,u,f){if(Il(t))throw Error(l(485));if(t=o.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};q.T!==null?s(!0):p.isTransition=!1,u(p),s=o.pending,s===null?(p.next=o.pending=p,jc(o,p)):(p.next=s.next,o.pending=s.next=p)}}function jc(t,o){var s=o.action,u=o.payload,f=t.state;if(o.isTransition){var p=q.T,S={};q.T=S;try{var E=s(f,u),_=q.S;_!==null&&_(S,E),ef(t,o,E)}catch(D){Ga(t,o,D)}finally{q.T=p}}else try{p=s(f,u),ef(t,o,p)}catch(D){Ga(t,o,D)}}function ef(t,o,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){tf(t,o,u)},function(u){return Ga(t,o,u)}):tf(t,o,s)}function tf(t,o,s){o.status="fulfilled",o.value=s,nf(o),t.state=s,o=t.pending,o!==null&&(s=o.next,s===o?t.pending=null:(s=s.next,o.next=s,jc(t,s)))}function Ga(t,o,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=s,nf(o),o=o.next;while(o!==u)}t.action=null}function nf(t){t=t.listeners;for(var o=0;o<t.length;o++)(0,t[o])()}function of(t,o){return o}function lf(t,o){if(Ae){var s=Ie.formState;if(s!==null){e:{var u=he;if(Ae){if(Pe){t:{for(var f=Pe,p=Lt;f.nodeType!==8;){if(!p){f=null;break t}if(f=It(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Pe=It(f.nextSibling),u=f.data==="F!";break e}}Pn(u)}u=!1}u&&(o=s[0])}}return s=at(),s.memoizedState=s.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:o},s.queue=u,s=Af.bind(null,he,u),u.dispatch=s,u=qa(!1),p=Ya.bind(null,he,!1,u.queue),u=at(),f={state:o,dispatch:null,action:t,pending:null},u.queue=f,s=v0.bind(null,he,f,p,s),f.dispatch=s,u.memoizedState=t,[o,s,!1]}function sf(t){var o=Fe();return af(o,Ne,t)}function af(t,o,s){if(o=Va(t,o,of)[0],t=Rl(Kt)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=Si(o)}catch(S){throw S===hi?El:S}else u=o;o=Fe();var f=o.queue,p=f.dispatch;return s!==o.memoizedState&&(he.flags|=2048,To(9,bl(),x0.bind(null,f,s),null)),[u,p,t]}function x0(t,o){t.action=o}function rf(t){var o=Fe(),s=Ne;if(s!==null)return af(o,s,t);Fe(),o=o.memoizedState,s=Fe();var u=s.queue.dispatch;return s.memoizedState=t,[o,u,!1]}function To(t,o,s,u){return t={tag:t,create:s,deps:u,inst:o,next:null},o=he.updateQueue,o===null&&(o=ka(),he.updateQueue=o),s=o.lastEffect,s===null?o.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,o.lastEffect=t),t}function bl(){return{destroy:void 0,resource:void 0}}function uf(){return Fe().memoizedState}function Dl(t,o,s,u){var f=at();u=u===void 0?null:u,he.flags|=t,f.memoizedState=To(1|o,bl(),s,u)}function Ci(t,o,s,u){var f=Fe();u=u===void 0?null:u;var p=f.memoizedState.inst;Ne!==null&&u!==null&&Ra(u,Ne.memoizedState.deps)?f.memoizedState=To(o,p,s,u):(he.flags|=t,f.memoizedState=To(1|o,p,s,u))}function cf(t,o){Dl(8390656,8,t,o)}function ff(t,o){Ci(2048,8,t,o)}function df(t,o){return Ci(4,2,t,o)}function mf(t,o){return Ci(4,4,t,o)}function pf(t,o){if(typeof o=="function"){t=t();var s=o(t);return function(){typeof s=="function"?s():o(null)}}if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function hf(t,o,s){s=s!=null?s.concat([t]):null,Ci(4,4,pf.bind(null,o,t),s)}function Ha(){}function gf(t,o){var s=Fe();o=o===void 0?null:o;var u=s.memoizedState;return o!==null&&Ra(o,u[1])?u[0]:(s.memoizedState=[t,o],t)}function yf(t,o){var s=Fe();o=o===void 0?null:o;var u=s.memoizedState;if(o!==null&&Ra(o,u[1]))return u[0];if(u=t(),Bn){on(!0);try{t()}finally{on(!1)}}return s.memoizedState=[u,o],u}function Ba(t,o,s){return s===void 0||(fn&1073741824)!==0?t.memoizedState=o:(t.memoizedState=s,t=Td(),he.lanes|=t,vn|=t,s)}function vf(t,o,s,u){return mt(s,o)?s:yo.current!==null?(t=Ba(t,s,u),mt(t,o)||(Oe=!0),t):(fn&42)===0?(Oe=!0,t.memoizedState=s):(t=Td(),he.lanes|=t,vn|=t,o)}function xf(t,o,s,u,f){var p=W.p;W.p=p!==0&&8>p?p:8;var S=q.T,E={};q.T=E,Ya(t,!1,o,s);try{var _=f(),D=q.S;if(D!==null&&D(E,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var B=h0(_,u);Ei(t,o,B,vt(t))}else Ei(t,o,u,vt(t))}catch(J){Ei(t,o,{then:function(){},status:"rejected",reason:J},vt())}finally{W.p=p,q.T=S}}function T0(){}function Fa(t,o,s,u){if(t.tag!==5)throw Error(l(476));var f=Tf(t).queue;xf(t,f,o,le,s===null?T0:function(){return Sf(t),s(u)})}function Tf(t){var o=t.memoizedState;if(o!==null)return o;o={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:le},next:null};var s={};return o.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:s},next:null},t.memoizedState=o,t=t.alternate,t!==null&&(t.memoizedState=o),o}function Sf(t){var o=Tf(t).next.queue;Ei(t,o,{},vt())}function za(){return et(Bi)}function Cf(){return Fe().memoizedState}function Ef(){return Fe().memoizedState}function S0(t){for(var o=t.return;o!==null;){switch(o.tag){case 24:case 3:var s=vt();t=un(s);var u=cn(o,t,s);u!==null&&(xt(u,o,s),yi(u,o,s)),o={cache:xa()},t.payload=o;return}o=o.return}}function C0(t,o,s){var u=vt();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Il(t)?_f(o,s):(s=ua(t,o,s,u),s!==null&&(xt(s,t,u),Mf(s,o,u)))}function Af(t,o,s){var u=vt();Ei(t,o,s,u)}function Ei(t,o,s,u){var f={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Il(t))_f(o,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=o.lastRenderedReducer,p!==null))try{var S=o.lastRenderedState,E=p(S,s);if(f.hasEagerState=!0,f.eagerState=E,mt(E,S))return hl(t,o,f,0),Ie===null&&pl(),!1}catch{}finally{}if(s=ua(t,o,f,u),s!==null)return xt(s,t,u),Mf(s,o,u),!0}return!1}function Ya(t,o,s,u){if(u={lane:2,revertLane:Cr(),action:u,hasEagerState:!1,eagerState:null,next:null},Il(t)){if(o)throw Error(l(479))}else o=ua(t,s,u,2),o!==null&&xt(o,t,2)}function Il(t){var o=t.alternate;return t===he||o!==null&&o===he}function _f(t,o){vo=Ml=!0;var s=t.pending;s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o}function Mf(t,o,s){if((s&4194048)!==0){var u=o.lanes;u&=t.pendingLanes,s|=u,o.lanes=s,Uu(t,s)}}var Ul={readContext:et,use:wl,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},Nf={readContext:et,use:wl,useCallback:function(t,o){return at().memoizedState=[t,o===void 0?null:o],t},useContext:et,useEffect:cf,useImperativeHandle:function(t,o,s){s=s!=null?s.concat([t]):null,Dl(4194308,4,pf.bind(null,o,t),s)},useLayoutEffect:function(t,o){return Dl(4194308,4,t,o)},useInsertionEffect:function(t,o){Dl(4,2,t,o)},useMemo:function(t,o){var s=at();o=o===void 0?null:o;var u=t();if(Bn){on(!0);try{t()}finally{on(!1)}}return s.memoizedState=[u,o],u},useReducer:function(t,o,s){var u=at();if(s!==void 0){var f=s(o);if(Bn){on(!0);try{s(o)}finally{on(!1)}}}else f=o;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=C0.bind(null,he,t),[u.memoizedState,t]},useRef:function(t){var o=at();return t={current:t},o.memoizedState=t},useState:function(t){t=qa(t);var o=t.queue,s=Af.bind(null,he,o);return o.dispatch=s,[t.memoizedState,s]},useDebugValue:Ha,useDeferredValue:function(t,o){var s=at();return Ba(s,t,o)},useTransition:function(){var t=qa(!1);return t=xf.bind(null,he,t.queue,!0,!1),at().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,o,s){var u=he,f=at();if(Ae){if(s===void 0)throw Error(l(407));s=s()}else{if(s=o(),Ie===null)throw Error(l(349));(Se&124)!==0||Kc(u,o,s)}f.memoizedState=s;var p={value:s,getSnapshot:o};return f.queue=p,cf(Xc.bind(null,u,p,t),[t]),u.flags|=2048,To(9,bl(),$c.bind(null,u,p,s,o),null),s},useId:function(){var t=at(),o=Ie.identifierPrefix;if(Ae){var s=Yt,u=zt;s=(u&~(1<<32-dt(u)-1)).toString(32)+s,o=""+o+"R"+s,s=Nl++,0<s&&(o+="H"+s.toString(32)),o+=""}else s=g0++,o=""+o+"r"+s.toString(32)+"";return t.memoizedState=o},useHostTransitionStatus:za,useFormState:lf,useActionState:lf,useOptimistic:function(t){var o=at();o.memoizedState=o.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=s,o=Ya.bind(null,he,!0,s),s.dispatch=o,[t,o]},useMemoCache:La,useCacheRefresh:function(){return at().memoizedState=S0.bind(null,he)}},wf={readContext:et,use:wl,useCallback:gf,useContext:et,useEffect:ff,useImperativeHandle:hf,useInsertionEffect:df,useLayoutEffect:mf,useMemo:yf,useReducer:Rl,useRef:uf,useState:function(){return Rl(Kt)},useDebugValue:Ha,useDeferredValue:function(t,o){var s=Fe();return vf(s,Ne.memoizedState,t,o)},useTransition:function(){var t=Rl(Kt)[0],o=Fe().memoizedState;return[typeof t=="boolean"?t:Si(t),o]},useSyncExternalStore:Oc,useId:Cf,useHostTransitionStatus:za,useFormState:sf,useActionState:sf,useOptimistic:function(t,o){var s=Fe();return Wc(s,Ne,t,o)},useMemoCache:La,useCacheRefresh:Ef},E0={readContext:et,use:wl,useCallback:gf,useContext:et,useEffect:ff,useImperativeHandle:hf,useInsertionEffect:df,useLayoutEffect:mf,useMemo:yf,useReducer:Pa,useRef:uf,useState:function(){return Pa(Kt)},useDebugValue:Ha,useDeferredValue:function(t,o){var s=Fe();return Ne===null?Ba(s,t,o):vf(s,Ne.memoizedState,t,o)},useTransition:function(){var t=Pa(Kt)[0],o=Fe().memoizedState;return[typeof t=="boolean"?t:Si(t),o]},useSyncExternalStore:Oc,useId:Cf,useHostTransitionStatus:za,useFormState:rf,useActionState:rf,useOptimistic:function(t,o){var s=Fe();return Ne!==null?Wc(s,Ne,t,o):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:La,useCacheRefresh:Ef},So=null,Ai=0;function kl(t){var o=Ai;return Ai+=1,So===null&&(So=[]),qc(So,t,o)}function _i(t,o){o=o.props.ref,t.ref=o!==void 0?o:null}function Ll(t,o){throw o.$$typeof===T?Error(l(525)):(t=Object.prototype.toString.call(o),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t)))}function Rf(t){var o=t._init;return o(t._payload)}function bf(t){function o(R,N){if(t){var b=R.deletions;b===null?(R.deletions=[N],R.flags|=16):b.push(N)}}function s(R,N){if(!t)return null;for(;N!==null;)o(R,N),N=N.sibling;return null}function u(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function f(R,N){return R=Ft(R,N),R.index=0,R.sibling=null,R}function p(R,N,b){return R.index=b,t?(b=R.alternate,b!==null?(b=b.index,b<N?(R.flags|=67108866,N):b):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function S(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function E(R,N,b,z){return N===null||N.tag!==6?(N=fa(b,R.mode,z),N.return=R,N):(N=f(N,b),N.return=R,N)}function _(R,N,b,z){var ne=b.type;return ne===w?B(R,N,b.props.children,z,b.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===j&&Rf(ne)===N.type)?(N=f(N,b.props),_i(N,b),N.return=R,N):(N=yl(b.type,b.key,b.props,null,R.mode,z),_i(N,b),N.return=R,N)}function D(R,N,b,z){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=da(b,R.mode,z),N.return=R,N):(N=f(N,b.children||[]),N.return=R,N)}function B(R,N,b,z,ne){return N===null||N.tag!==7?(N=Un(b,R.mode,z,ne),N.return=R,N):(N=f(N,b),N.return=R,N)}function J(R,N,b){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=fa(""+N,R.mode,b),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return b=yl(N.type,N.key,N.props,null,R.mode,b),_i(b,N),b.return=R,b;case M:return N=da(N,R.mode,b),N.return=R,N;case j:var z=N._init;return N=z(N._payload),J(R,N,b)}if(ge(N)||ae(N))return N=Un(N,R.mode,b,null),N.return=R,N;if(typeof N.then=="function")return J(R,kl(N),b);if(N.$$typeof===I)return J(R,Sl(R,N),b);Ll(R,N)}return null}function U(R,N,b,z){var ne=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return ne!==null?null:E(R,N,""+b,z);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C:return b.key===ne?_(R,N,b,z):null;case M:return b.key===ne?D(R,N,b,z):null;case j:return ne=b._init,b=ne(b._payload),U(R,N,b,z)}if(ge(b)||ae(b))return ne!==null?null:B(R,N,b,z,null);if(typeof b.then=="function")return U(R,N,kl(b),z);if(b.$$typeof===I)return U(R,N,Sl(R,b),z);Ll(R,b)}return null}function k(R,N,b,z,ne){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return R=R.get(b)||null,E(N,R,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return R=R.get(z.key===null?b:z.key)||null,_(N,R,z,ne);case M:return R=R.get(z.key===null?b:z.key)||null,D(N,R,z,ne);case j:var ye=z._init;return z=ye(z._payload),k(R,N,b,z,ne)}if(ge(z)||ae(z))return R=R.get(b)||null,B(N,R,z,ne,null);if(typeof z.then=="function")return k(R,N,b,kl(z),ne);if(z.$$typeof===I)return k(R,N,b,Sl(N,z),ne);Ll(N,z)}return null}function ce(R,N,b,z){for(var ne=null,ye=null,se=N,ue=N=0,$e=null;se!==null&&ue<b.length;ue++){se.index>ue?($e=se,se=null):$e=se.sibling;var Ce=U(R,se,b[ue],z);if(Ce===null){se===null&&(se=$e);break}t&&se&&Ce.alternate===null&&o(R,se),N=p(Ce,N,ue),ye===null?ne=Ce:ye.sibling=Ce,ye=Ce,se=$e}if(ue===b.length)return s(R,se),Ae&&Ln(R,ue),ne;if(se===null){for(;ue<b.length;ue++)se=J(R,b[ue],z),se!==null&&(N=p(se,N,ue),ye===null?ne=se:ye.sibling=se,ye=se);return Ae&&Ln(R,ue),ne}for(se=u(se);ue<b.length;ue++)$e=k(se,R,ue,b[ue],z),$e!==null&&(t&&$e.alternate!==null&&se.delete($e.key===null?ue:$e.key),N=p($e,N,ue),ye===null?ne=$e:ye.sibling=$e,ye=$e);return t&&se.forEach(function(Nn){return o(R,Nn)}),Ae&&Ln(R,ue),ne}function re(R,N,b,z){if(b==null)throw Error(l(151));for(var ne=null,ye=null,se=N,ue=N=0,$e=null,Ce=b.next();se!==null&&!Ce.done;ue++,Ce=b.next()){se.index>ue?($e=se,se=null):$e=se.sibling;var Nn=U(R,se,Ce.value,z);if(Nn===null){se===null&&(se=$e);break}t&&se&&Nn.alternate===null&&o(R,se),N=p(Nn,N,ue),ye===null?ne=Nn:ye.sibling=Nn,ye=Nn,se=$e}if(Ce.done)return s(R,se),Ae&&Ln(R,ue),ne;if(se===null){for(;!Ce.done;ue++,Ce=b.next())Ce=J(R,Ce.value,z),Ce!==null&&(N=p(Ce,N,ue),ye===null?ne=Ce:ye.sibling=Ce,ye=Ce);return Ae&&Ln(R,ue),ne}for(se=u(se);!Ce.done;ue++,Ce=b.next())Ce=k(se,R,ue,Ce.value,z),Ce!==null&&(t&&Ce.alternate!==null&&se.delete(Ce.key===null?ue:Ce.key),N=p(Ce,N,ue),ye===null?ne=Ce:ye.sibling=Ce,ye=Ce);return t&&se.forEach(function(Ay){return o(R,Ay)}),Ae&&Ln(R,ue),ne}function Re(R,N,b,z){if(typeof b=="object"&&b!==null&&b.type===w&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case C:e:{for(var ne=b.key;N!==null;){if(N.key===ne){if(ne=b.type,ne===w){if(N.tag===7){s(R,N.sibling),z=f(N,b.props.children),z.return=R,R=z;break e}}else if(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===j&&Rf(ne)===N.type){s(R,N.sibling),z=f(N,b.props),_i(z,b),z.return=R,R=z;break e}s(R,N);break}else o(R,N);N=N.sibling}b.type===w?(z=Un(b.props.children,R.mode,z,b.key),z.return=R,R=z):(z=yl(b.type,b.key,b.props,null,R.mode,z),_i(z,b),z.return=R,R=z)}return S(R);case M:e:{for(ne=b.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){s(R,N.sibling),z=f(N,b.children||[]),z.return=R,R=z;break e}else{s(R,N);break}else o(R,N);N=N.sibling}z=da(b,R.mode,z),z.return=R,R=z}return S(R);case j:return ne=b._init,b=ne(b._payload),Re(R,N,b,z)}if(ge(b))return ce(R,N,b,z);if(ae(b)){if(ne=ae(b),typeof ne!="function")throw Error(l(150));return b=ne.call(b),re(R,N,b,z)}if(typeof b.then=="function")return Re(R,N,kl(b),z);if(b.$$typeof===I)return Re(R,N,Sl(R,b),z);Ll(R,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,N!==null&&N.tag===6?(s(R,N.sibling),z=f(N,b),z.return=R,R=z):(s(R,N),z=fa(b,R.mode,z),z.return=R,R=z),S(R)):s(R,N)}return function(R,N,b,z){try{Ai=0;var ne=Re(R,N,b,z);return So=null,ne}catch(se){if(se===hi||se===El)throw se;var ye=pt(29,se,null,R.mode);return ye.lanes=z,ye.return=R,ye}finally{}}}var Co=bf(!0),Df=bf(!1),Mt=P(null),Vt=null;function dn(t){var o=t.alternate;$(Ye,Ye.current&1),$(Mt,t),Vt===null&&(o===null||yo.current!==null||o.memoizedState!==null)&&(Vt=t)}function If(t){if(t.tag===22){if($(Ye,Ye.current),$(Mt,t),Vt===null){var o=t.alternate;o!==null&&o.memoizedState!==null&&(Vt=t)}}else mn()}function mn(){$(Ye,Ye.current),$(Mt,Mt.current)}function $t(t){K(Mt),Vt===t&&(Vt=null),K(Ye)}var Ye=P(0);function Vl(t){for(var o=t;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||kr(s)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Ja(t,o,s,u){o=t.memoizedState,s=s(u,o),s=s==null?o:x({},o,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Oa={enqueueSetState:function(t,o,s){t=t._reactInternals;var u=vt(),f=un(u);f.payload=o,s!=null&&(f.callback=s),o=cn(t,f,u),o!==null&&(xt(o,t,u),yi(o,t,u))},enqueueReplaceState:function(t,o,s){t=t._reactInternals;var u=vt(),f=un(u);f.tag=1,f.payload=o,s!=null&&(f.callback=s),o=cn(t,f,u),o!==null&&(xt(o,t,u),yi(o,t,u))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var s=vt(),u=un(s);u.tag=2,o!=null&&(u.callback=o),o=cn(t,u,s),o!==null&&(xt(o,t,s),yi(o,t,s))}};function Uf(t,o,s,u,f,p,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,S):o.prototype&&o.prototype.isPureReactComponent?!ai(s,u)||!ai(f,p):!0}function kf(t,o,s,u){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,u),o.state!==t&&Oa.enqueueReplaceState(o,o.state,null)}function Fn(t,o){var s=o;if("ref"in o){s={};for(var u in o)u!=="ref"&&(s[u]=o[u])}if(t=t.defaultProps){s===o&&(s=x({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Pl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Lf(t){Pl(t)}function Vf(t){console.error(t)}function Pf(t){Pl(t)}function ql(t,o){try{var s=t.onUncaughtError;s(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function qf(t,o,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ka(t,o,s){return s=un(s),s.tag=3,s.payload={element:null},s.callback=function(){ql(t,o)},s}function Gf(t){return t=un(t),t.tag=3,t}function Hf(t,o,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;t.payload=function(){return f(p)},t.callback=function(){qf(o,s,u)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){qf(o,s,u),typeof f!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function A0(t,o,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=s.alternate,o!==null&&di(o,s,f,!0),s=Mt.current,s!==null){switch(s.tag){case 13:return Vt===null?yr():s.alternate===null&&qe===0&&(qe=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===Ca?s.flags|=16384:(o=s.updateQueue,o===null?s.updateQueue=new Set([u]):o.add(u),xr(t,u,f)),!1;case 22:return s.flags|=65536,u===Ca?s.flags|=16384:(o=s.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=o):(s=o.retryQueue,s===null?o.retryQueue=new Set([u]):s.add(u)),xr(t,u,f)),!1}throw Error(l(435,s.tag))}return xr(t,u,f),yr(),!1}if(Ae)return o=Mt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=f,u!==ha&&(t=Error(l(422),{cause:u}),fi(Ct(t,s)))):(u!==ha&&(o=Error(l(423),{cause:u}),fi(Ct(o,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=Ct(u,s),f=Ka(t.stateNode,u,f),_a(t,f),qe!==4&&(qe=2)),!1;var p=Error(l(520),{cause:u});if(p=Ct(p,s),Ii===null?Ii=[p]:Ii.push(p),qe!==4&&(qe=2),o===null)return!0;u=Ct(u,s),s=o;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Ka(s.stateNode,u,t),_a(s,t),!1;case 1:if(o=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(xn===null||!xn.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Gf(f),Hf(f,t,s,u),_a(s,f),!1}s=s.return}while(s!==null);return!1}var Bf=Error(l(461)),Oe=!1;function Qe(t,o,s,u){o.child=t===null?Df(o,null,s,u):Co(o,t.child,s,u)}function Ff(t,o,s,u,f){s=s.render;var p=o.ref;if("ref"in u){var S={};for(var E in u)E!=="ref"&&(S[E]=u[E])}else S=u;return Gn(o),u=ba(t,o,s,S,p,f),E=Da(),t!==null&&!Oe?(Ia(t,o,f),Xt(t,o,f)):(Ae&&E&&ma(o),o.flags|=1,Qe(t,o,u,f),o.child)}function zf(t,o,s,u,f){if(t===null){var p=s.type;return typeof p=="function"&&!ca(p)&&p.defaultProps===void 0&&s.compare===null?(o.tag=15,o.type=p,Yf(t,o,p,u,f)):(t=yl(s.type,null,u,o,o.mode,f),t.ref=o.ref,t.return=o,o.child=t)}if(p=t.child,!tr(t,f)){var S=p.memoizedProps;if(s=s.compare,s=s!==null?s:ai,s(S,u)&&t.ref===o.ref)return Xt(t,o,f)}return o.flags|=1,t=Ft(p,u),t.ref=o.ref,t.return=o,o.child=t}function Yf(t,o,s,u,f){if(t!==null){var p=t.memoizedProps;if(ai(p,u)&&t.ref===o.ref)if(Oe=!1,o.pendingProps=u=p,tr(t,f))(t.flags&131072)!==0&&(Oe=!0);else return o.lanes=t.lanes,Xt(t,o,f)}return $a(t,o,s,u,f)}function Jf(t,o,s){var u=o.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((o.flags&128)!==0){if(u=p!==null?p.baseLanes|s:s,t!==null){for(f=o.child=t.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;o.childLanes=p&~u}else o.childLanes=0,o.child=null;return Of(t,o,u,s)}if((s&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cl(o,p!==null?p.cachePool:null),p!==null?zc(o,p):Na(),If(o);else return o.lanes=o.childLanes=536870912,Of(t,o,p!==null?p.baseLanes|s:s,s)}else p!==null?(Cl(o,p.cachePool),zc(o,p),mn(),o.memoizedState=null):(t!==null&&Cl(o,null),Na(),mn());return Qe(t,o,f,s),o.child}function Of(t,o,s,u){var f=Sa();return f=f===null?null:{parent:ze._currentValue,pool:f},o.memoizedState={baseLanes:s,cachePool:f},t!==null&&Cl(o,null),Na(),If(o),t!==null&&di(t,o,u,!0),null}function Gl(t,o){var s=o.ref;if(s===null)t!==null&&t.ref!==null&&(o.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(o.flags|=4194816)}}function $a(t,o,s,u,f){return Gn(o),s=ba(t,o,s,u,void 0,f),u=Da(),t!==null&&!Oe?(Ia(t,o,f),Xt(t,o,f)):(Ae&&u&&ma(o),o.flags|=1,Qe(t,o,s,f),o.child)}function Kf(t,o,s,u,f,p){return Gn(o),o.updateQueue=null,s=Jc(o,u,s,f),Yc(t),u=Da(),t!==null&&!Oe?(Ia(t,o,p),Xt(t,o,p)):(Ae&&u&&ma(o),o.flags|=1,Qe(t,o,s,p),o.child)}function $f(t,o,s,u,f){if(Gn(o),o.stateNode===null){var p=fo,S=s.contextType;typeof S=="object"&&S!==null&&(p=et(S)),p=new s(u,p),o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Oa,o.stateNode=p,p._reactInternals=o,p=o.stateNode,p.props=u,p.state=o.memoizedState,p.refs={},Ea(o),S=s.contextType,p.context=typeof S=="object"&&S!==null?et(S):fo,p.state=o.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Ja(o,s,S,u),p.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Oa.enqueueReplaceState(p,p.state,null),xi(o,u,p,f),vi(),p.state=o.memoizedState),typeof p.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(t===null){p=o.stateNode;var E=o.memoizedProps,_=Fn(s,E);p.props=_;var D=p.context,B=s.contextType;S=fo,typeof B=="object"&&B!==null&&(S=et(B));var J=s.getDerivedStateFromProps;B=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=o.pendingProps!==E,B||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||D!==S)&&kf(o,p,u,S),rn=!1;var U=o.memoizedState;p.state=U,xi(o,u,p,f),vi(),D=o.memoizedState,E||U!==D||rn?(typeof J=="function"&&(Ja(o,s,J,u),D=o.memoizedState),(_=rn||Uf(o,s,_,u,U,D,S))?(B||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(o.flags|=4194308)):(typeof p.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=D),p.props=u,p.state=D,p.context=S,u=_):(typeof p.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{p=o.stateNode,Aa(t,o),S=o.memoizedProps,B=Fn(s,S),p.props=B,J=o.pendingProps,U=p.context,D=s.contextType,_=fo,typeof D=="object"&&D!==null&&(_=et(D)),E=s.getDerivedStateFromProps,(D=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==J||U!==_)&&kf(o,p,u,_),rn=!1,U=o.memoizedState,p.state=U,xi(o,u,p,f),vi();var k=o.memoizedState;S!==J||U!==k||rn||t!==null&&t.dependencies!==null&&Tl(t.dependencies)?(typeof E=="function"&&(Ja(o,s,E,u),k=o.memoizedState),(B=rn||Uf(o,s,B,u,U,k,_)||t!==null&&t.dependencies!==null&&Tl(t.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,k,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,k,_)),typeof p.componentDidUpdate=="function"&&(o.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(o.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=k),p.props=u,p.state=k,p.context=_,u=B):(typeof p.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(o.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(o.flags|=1024),u=!1)}return p=u,Gl(t,o),u=(o.flags&128)!==0,p||u?(p=o.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:p.render(),o.flags|=1,t!==null&&u?(o.child=Co(o,t.child,null,f),o.child=Co(o,null,s,f)):Qe(t,o,s,f),o.memoizedState=p.state,t=o.child):t=Xt(t,o,f),t}function Xf(t,o,s,u){return ci(),o.flags|=256,Qe(t,o,s,u),o.child}var Xa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qa(t){return{baseLanes:t,cachePool:Lc()}}function Za(t,o,s){return t=t!==null?t.childLanes&~s:0,o&&(t|=Nt),t}function Qf(t,o,s){var u=o.pendingProps,f=!1,p=(o.flags&128)!==0,S;if((S=p)||(S=t!==null&&t.memoizedState===null?!1:(Ye.current&2)!==0),S&&(f=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,t===null){if(Ae){if(f?dn(o):mn(),Ae){var E=Pe,_;if(_=E){e:{for(_=E,E=Lt;_.nodeType!==8;){if(!E){E=null;break e}if(_=It(_.nextSibling),_===null){E=null;break e}}E=_}E!==null?(o.memoizedState={dehydrated:E,treeContext:kn!==null?{id:zt,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},_=pt(18,null,null,0),_.stateNode=E,_.return=o,o.child=_,it=o,Pe=null,_=!0):_=!1}_||Pn(o)}if(E=o.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return kr(E)?o.lanes=32:o.lanes=536870912,null;$t(o)}return E=u.children,u=u.fallback,f?(mn(),f=o.mode,E=Hl({mode:"hidden",children:E},f),u=Un(u,f,s,null),E.return=o,u.return=o,E.sibling=u,o.child=E,f=o.child,f.memoizedState=Qa(s),f.childLanes=Za(t,S,s),o.memoizedState=Xa,u):(dn(o),Wa(o,E))}if(_=t.memoizedState,_!==null&&(E=_.dehydrated,E!==null)){if(p)o.flags&256?(dn(o),o.flags&=-257,o=ja(t,o,s)):o.memoizedState!==null?(mn(),o.child=t.child,o.flags|=128,o=null):(mn(),f=u.fallback,E=o.mode,u=Hl({mode:"visible",children:u.children},E),f=Un(f,E,s,null),f.flags|=2,u.return=o,f.return=o,u.sibling=f,o.child=u,Co(o,t.child,null,s),u=o.child,u.memoizedState=Qa(s),u.childLanes=Za(t,S,s),o.memoizedState=Xa,o=f);else if(dn(o),kr(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var D=S.dgst;S=D,u=Error(l(419)),u.stack="",u.digest=S,fi({value:u,source:null,stack:null}),o=ja(t,o,s)}else if(Oe||di(t,o,s,!1),S=(s&t.childLanes)!==0,Oe||S){if(S=Ie,S!==null&&(u=s&-s,u=(u&42)!==0?1:Ls(u),u=(u&(S.suspendedLanes|s))!==0?0:u,u!==0&&u!==_.retryLane))throw _.retryLane=u,co(t,u),xt(S,t,u),Bf;E.data==="$?"||yr(),o=ja(t,o,s)}else E.data==="$?"?(o.flags|=192,o.child=t.child,o=null):(t=_.treeContext,Pe=It(E.nextSibling),it=o,Ae=!0,Vn=null,Lt=!1,t!==null&&(At[_t++]=zt,At[_t++]=Yt,At[_t++]=kn,zt=t.id,Yt=t.overflow,kn=o),o=Wa(o,u.children),o.flags|=4096);return o}return f?(mn(),f=u.fallback,E=o.mode,_=t.child,D=_.sibling,u=Ft(_,{mode:"hidden",children:u.children}),u.subtreeFlags=_.subtreeFlags&65011712,D!==null?f=Ft(D,f):(f=Un(f,E,s,null),f.flags|=2),f.return=o,u.return=o,u.sibling=f,o.child=u,u=f,f=o.child,E=t.child.memoizedState,E===null?E=Qa(s):(_=E.cachePool,_!==null?(D=ze._currentValue,_=_.parent!==D?{parent:D,pool:D}:_):_=Lc(),E={baseLanes:E.baseLanes|s,cachePool:_}),f.memoizedState=E,f.childLanes=Za(t,S,s),o.memoizedState=Xa,u):(dn(o),s=t.child,t=s.sibling,s=Ft(s,{mode:"visible",children:u.children}),s.return=o,s.sibling=null,t!==null&&(S=o.deletions,S===null?(o.deletions=[t],o.flags|=16):S.push(t)),o.child=s,o.memoizedState=null,s)}function Wa(t,o){return o=Hl({mode:"visible",children:o},t.mode),o.return=t,t.child=o}function Hl(t,o){return t=pt(22,t,null,o),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ja(t,o,s){return Co(o,t.child,null,s),t=Wa(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function Zf(t,o,s){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o),ya(t.return,o,s)}function er(t,o,s,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(p.isBackwards=o,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=f)}function Wf(t,o,s){var u=o.pendingProps,f=u.revealOrder,p=u.tail;if(Qe(t,o,u.children,s),u=Ye.current,(u&2)!==0)u=u&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zf(t,s,o);else if(t.tag===19)Zf(t,s,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch($(Ye,u),f){case"forwards":for(s=o.child,f=null;s!==null;)t=s.alternate,t!==null&&Vl(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=o.child,o.child=null):(f=s.sibling,s.sibling=null),er(o,!1,f,s,p);break;case"backwards":for(s=null,f=o.child,o.child=null;f!==null;){if(t=f.alternate,t!==null&&Vl(t)===null){o.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}er(o,!0,s,null,p);break;case"together":er(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Xt(t,o,s){if(t!==null&&(o.dependencies=t.dependencies),vn|=o.lanes,(s&o.childLanes)===0)if(t!==null){if(di(t,o,s,!1),(s&o.childLanes)===0)return null}else return null;if(t!==null&&o.child!==t.child)throw Error(l(153));if(o.child!==null){for(t=o.child,s=Ft(t,t.pendingProps),o.child=s,s.return=o;t.sibling!==null;)t=t.sibling,s=s.sibling=Ft(t,t.pendingProps),s.return=o;s.sibling=null}return o.child}function tr(t,o){return(t.lanes&o)!==0?!0:(t=t.dependencies,!!(t!==null&&Tl(t)))}function _0(t,o,s){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),an(o,ze,t.memoizedState.cache),ci();break;case 27:case 5:bs(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:an(o,o.type,o.memoizedProps.value);break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(dn(o),o.flags|=128,null):(s&o.child.childLanes)!==0?Qf(t,o,s):(dn(o),t=Xt(t,o,s),t!==null?t.sibling:null);dn(o);break;case 19:var f=(t.flags&128)!==0;if(u=(s&o.childLanes)!==0,u||(di(t,o,s,!1),u=(s&o.childLanes)!==0),f){if(u)return Wf(t,o,s);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(Ye,Ye.current),u)break;return null;case 22:case 23:return o.lanes=0,Jf(t,o,s);case 24:an(o,ze,t.memoizedState.cache)}return Xt(t,o,s)}function jf(t,o,s){if(t!==null)if(t.memoizedProps!==o.pendingProps)Oe=!0;else{if(!tr(t,s)&&(o.flags&128)===0)return Oe=!1,_0(t,o,s);Oe=(t.flags&131072)!==0}else Oe=!1,Ae&&(o.flags&1048576)!==0&&wc(o,xl,o.index);switch(o.lanes=0,o.tag){case 16:e:{t=o.pendingProps;var u=o.elementType,f=u._init;if(u=f(u._payload),o.type=u,typeof u=="function")ca(u)?(t=Fn(u,t),o.tag=1,o=$f(null,o,u,t,s)):(o.tag=0,o=$a(null,o,u,t,s));else{if(u!=null){if(f=u.$$typeof,f===X){o.tag=11,o=Ff(null,o,u,t,s);break e}else if(f===Q){o.tag=14,o=zf(null,o,u,t,s);break e}}throw o=de(u)||u,Error(l(306,o,""))}}return o;case 0:return $a(t,o,o.type,o.pendingProps,s);case 1:return u=o.type,f=Fn(u,o.pendingProps),$f(t,o,u,f,s);case 3:e:{if(ke(o,o.stateNode.containerInfo),t===null)throw Error(l(387));u=o.pendingProps;var p=o.memoizedState;f=p.element,Aa(t,o),xi(o,u,null,s);var S=o.memoizedState;if(u=S.cache,an(o,ze,u),u!==p.cache&&va(o,[ze],s,!0),vi(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=p,o.memoizedState=p,o.flags&256){o=Xf(t,o,u,s);break e}else if(u!==f){f=Ct(Error(l(424)),o),fi(f),o=Xf(t,o,u,s);break e}else{switch(t=o.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pe=It(t.firstChild),it=o,Ae=!0,Vn=null,Lt=!0,s=Df(o,null,u,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ci(),u===f){o=Xt(t,o,s);break e}Qe(t,o,u,s)}o=o.child}return o;case 26:return Gl(t,o),t===null?(s=om(o.type,null,o.pendingProps,null))?o.memoizedState=s:Ae||(s=o.type,t=o.pendingProps,u=es(fe.current).createElement(s),u[je]=o,u[lt]=t,We(u,s,t),Je(u),o.stateNode=u):o.memoizedState=om(o.type,t.memoizedProps,o.pendingProps,t.memoizedState),null;case 27:return bs(o),t===null&&Ae&&(u=o.stateNode=em(o.type,o.pendingProps,fe.current),it=o,Lt=!0,f=Pe,Cn(o.type)?(Lr=f,Pe=It(u.firstChild)):Pe=f),Qe(t,o,o.pendingProps.children,s),Gl(t,o),t===null&&(o.flags|=4194304),o.child;case 5:return t===null&&Ae&&((f=u=Pe)&&(u=j0(u,o.type,o.pendingProps,Lt),u!==null?(o.stateNode=u,it=o,Pe=It(u.firstChild),Lt=!1,f=!0):f=!1),f||Pn(o)),bs(o),f=o.type,p=o.pendingProps,S=t!==null?t.memoizedProps:null,u=p.children,Dr(f,p)?u=null:S!==null&&Dr(f,S)&&(o.flags|=32),o.memoizedState!==null&&(f=ba(t,o,y0,null,null,s),Bi._currentValue=f),Gl(t,o),Qe(t,o,u,s),o.child;case 6:return t===null&&Ae&&((t=s=Pe)&&(s=ey(s,o.pendingProps,Lt),s!==null?(o.stateNode=s,it=o,Pe=null,t=!0):t=!1),t||Pn(o)),null;case 13:return Qf(t,o,s);case 4:return ke(o,o.stateNode.containerInfo),u=o.pendingProps,t===null?o.child=Co(o,null,u,s):Qe(t,o,u,s),o.child;case 11:return Ff(t,o,o.type,o.pendingProps,s);case 7:return Qe(t,o,o.pendingProps,s),o.child;case 8:return Qe(t,o,o.pendingProps.children,s),o.child;case 12:return Qe(t,o,o.pendingProps.children,s),o.child;case 10:return u=o.pendingProps,an(o,o.type,u.value),Qe(t,o,u.children,s),o.child;case 9:return f=o.type._context,u=o.pendingProps.children,Gn(o),f=et(f),u=u(f),o.flags|=1,Qe(t,o,u,s),o.child;case 14:return zf(t,o,o.type,o.pendingProps,s);case 15:return Yf(t,o,o.type,o.pendingProps,s);case 19:return Wf(t,o,s);case 31:return u=o.pendingProps,s=o.mode,u={mode:u.mode,children:u.children},t===null?(s=Hl(u,s),s.ref=o.ref,o.child=s,s.return=o,o=s):(s=Ft(t.child,u),s.ref=o.ref,o.child=s,s.return=o,o=s),o;case 22:return Jf(t,o,s);case 24:return Gn(o),u=et(ze),t===null?(f=Sa(),f===null&&(f=Ie,p=xa(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),o.memoizedState={parent:u,cache:f},Ea(o),an(o,ze,f)):((t.lanes&s)!==0&&(Aa(t,o),xi(o,null,null,s),vi()),f=t.memoizedState,p=o.memoizedState,f.parent!==u?(f={parent:u,cache:u},o.memoizedState=f,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=f),an(o,ze,u)):(u=p.cache,an(o,ze,u),u!==f.cache&&va(o,[ze],s,!0))),Qe(t,o,o.pendingProps.children,s),o.child;case 29:throw o.pendingProps}throw Error(l(156,o.tag))}function Qt(t){t.flags|=4}function ed(t,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!rm(o)){if(o=Mt.current,o!==null&&((Se&4194048)===Se?Vt!==null:(Se&62914560)!==Se&&(Se&536870912)===0||o!==Vt))throw gi=Ca,Vc;t.flags|=8192}}function Bl(t,o){o!==null&&(t.flags|=4),t.flags&16384&&(o=t.tag!==22?Du():536870912,t.lanes|=o,Mo|=o)}function Mi(t,o){if(!Ae)switch(t.tailMode){case"hidden":o=t.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ve(t){var o=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(o)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=s,o}function M0(t,o,s){var u=o.pendingProps;switch(pa(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(o),null;case 1:return Ve(o),null;case 3:return s=o.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ot(ze),nn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ui(o)?Qt(o):t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Dc())),Ve(o),null;case 26:return s=o.memoizedState,t===null?(Qt(o),s!==null?(Ve(o),ed(o,s)):(Ve(o),o.flags&=-16777217)):s?s!==t.memoizedState?(Qt(o),Ve(o),ed(o,s)):(Ve(o),o.flags&=-16777217):(t.memoizedProps!==u&&Qt(o),Ve(o),o.flags&=-16777217),null;case 27:Wi(o),s=fe.current;var f=o.type;if(t!==null&&o.stateNode!=null)t.memoizedProps!==u&&Qt(o);else{if(!u){if(o.stateNode===null)throw Error(l(166));return Ve(o),null}t=ee.current,ui(o)?Rc(o):(t=em(f,u,s),o.stateNode=t,Qt(o))}return Ve(o),null;case 5:if(Wi(o),s=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==u&&Qt(o);else{if(!u){if(o.stateNode===null)throw Error(l(166));return Ve(o),null}if(t=ee.current,ui(o))Rc(o);else{switch(f=es(fe.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(s,{is:u.is}):f.createElement(s)}}t[je]=o,t[lt]=u;e:for(f=o.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break e;for(;f.sibling===null;){if(f.return===null||f.return===o)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o.stateNode=t;e:switch(We(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Qt(o)}}return Ve(o),o.flags&=-16777217,null;case 6:if(t&&o.stateNode!=null)t.memoizedProps!==u&&Qt(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(l(166));if(t=fe.current,ui(o)){if(t=o.stateNode,s=o.memoizedProps,u=null,f=it,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[je]=o,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Kd(t.nodeValue,s)),t||Pn(o)}else t=es(t).createTextNode(u),t[je]=o,o.stateNode=t}return Ve(o),null;case 13:if(u=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ui(o),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(l(318));if(f=o.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[je]=o}else ci(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ve(o),f=!1}else f=Dc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return o.flags&256?($t(o),o):($t(o),null)}if($t(o),(o.flags&128)!==0)return o.lanes=s,o;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=o.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return s!==t&&s&&(o.child.flags|=8192),Bl(o,o.updateQueue),Ve(o),null;case 4:return nn(),t===null&&Mr(o.stateNode.containerInfo),Ve(o),null;case 10:return Ot(o.type),Ve(o),null;case 19:if(K(Ye),f=o.memoizedState,f===null)return Ve(o),null;if(u=(o.flags&128)!==0,p=f.rendering,p===null)if(u)Mi(f,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(p=Vl(t),p!==null){for(o.flags|=128,Mi(f,!1),t=p.updateQueue,o.updateQueue=t,Bl(o,t),o.subtreeFlags=0,t=s,s=o.child;s!==null;)Nc(s,t),s=s.sibling;return $(Ye,Ye.current&1|2),o.child}t=t.sibling}f.tail!==null&&kt()>Yl&&(o.flags|=128,u=!0,Mi(f,!1),o.lanes=4194304)}else{if(!u)if(t=Vl(p),t!==null){if(o.flags|=128,u=!0,t=t.updateQueue,o.updateQueue=t,Bl(o,t),Mi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ae)return Ve(o),null}else 2*kt()-f.renderingStartTime>Yl&&s!==536870912&&(o.flags|=128,u=!0,Mi(f,!1),o.lanes=4194304);f.isBackwards?(p.sibling=o.child,o.child=p):(t=f.last,t!==null?t.sibling=p:o.child=p,f.last=p)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=kt(),o.sibling=null,t=Ye.current,$(Ye,u?t&1|2:t&1),o):(Ve(o),null);case 22:case 23:return $t(o),wa(),u=o.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(s&536870912)!==0&&(o.flags&128)===0&&(Ve(o),o.subtreeFlags&6&&(o.flags|=8192)):Ve(o),s=o.updateQueue,s!==null&&Bl(o,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==s&&(o.flags|=2048),t!==null&&K(Hn),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),o.memoizedState.cache!==s&&(o.flags|=2048),Ot(ze),Ve(o),null;case 25:return null;case 30:return null}throw Error(l(156,o.tag))}function N0(t,o){switch(pa(o),o.tag){case 1:return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Ot(ze),nn(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 26:case 27:case 5:return Wi(o),null;case 13:if($t(o),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(l(340));ci()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return K(Ye),null;case 4:return nn(),null;case 10:return Ot(o.type),null;case 22:case 23:return $t(o),wa(),t!==null&&K(Hn),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 24:return Ot(ze),null;case 25:return null;default:return null}}function td(t,o){switch(pa(o),o.tag){case 3:Ot(ze),nn();break;case 26:case 27:case 5:Wi(o);break;case 4:nn();break;case 13:$t(o);break;case 19:K(Ye);break;case 10:Ot(o.type);break;case 22:case 23:$t(o),wa(),t!==null&&K(Hn);break;case 24:Ot(ze)}}function Ni(t,o){try{var s=o.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&t)===t){u=void 0;var p=s.create,S=s.inst;u=p(),S.destroy=u}s=s.next}while(s!==f)}}catch(E){De(o,o.return,E)}}function pn(t,o,s){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&t)===t){var S=u.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,f=o;var _=s,D=E;try{D()}catch(B){De(f,_,B)}}}u=u.next}while(u!==p)}}catch(B){De(o,o.return,B)}}function nd(t){var o=t.updateQueue;if(o!==null){var s=t.stateNode;try{Fc(o,s)}catch(u){De(t,t.return,u)}}}function od(t,o,s){s.props=Fn(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){De(t,o,u)}}function wi(t,o){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(f){De(t,o,f)}}function Pt(t,o){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){De(t,o,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){De(t,o,f)}else s.current=null}function id(t){var o=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(f){De(t,t.return,f)}}function nr(t,o,s){try{var u=t.stateNode;$0(u,t.type,s,o),u[lt]=o}catch(f){De(t,t.return,f)}}function ld(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cn(t.type)||t.tag===4}function or(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ld(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ir(t,o,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,o?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,o):(o=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.appendChild(t),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=jl));else if(u!==4&&(u===27&&Cn(t.type)&&(s=t.stateNode,o=null),t=t.child,t!==null))for(ir(t,o,s),t=t.sibling;t!==null;)ir(t,o,s),t=t.sibling}function Fl(t,o,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,o?s.insertBefore(t,o):s.appendChild(t);else if(u!==4&&(u===27&&Cn(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Fl(t,o,s),t=t.sibling;t!==null;)Fl(t,o,s),t=t.sibling}function sd(t){var o=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,f=o.attributes;f.length;)o.removeAttributeNode(f[0]);We(o,u,s),o[je]=t,o[lt]=s}catch(p){De(t,t.return,p)}}var Zt=!1,He=!1,lr=!1,ad=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function w0(t,o){if(t=t.containerInfo,Rr=ss,t=yc(t),oa(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var S=0,E=-1,_=-1,D=0,B=0,J=t,U=null;t:for(;;){for(var k;J!==s||f!==0&&J.nodeType!==3||(E=S+f),J!==p||u!==0&&J.nodeType!==3||(_=S+u),J.nodeType===3&&(S+=J.nodeValue.length),(k=J.firstChild)!==null;)U=J,J=k;for(;;){if(J===t)break t;if(U===s&&++D===f&&(E=S),U===p&&++B===u&&(_=S),(k=J.nextSibling)!==null)break;J=U,U=J.parentNode}J=k}s=E===-1||_===-1?null:{start:E,end:_}}else s=null}s=s||{start:0,end:0}}else s=null;for(br={focusedElem:t,selectionRange:s},ss=!1,Ke=o;Ke!==null;)if(o=Ke,t=o.child,(o.subtreeFlags&1024)!==0&&t!==null)t.return=o,Ke=t;else for(;Ke!==null;){switch(o=Ke,p=o.alternate,t=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=o,f=p.memoizedProps,p=p.memoizedState,u=s.stateNode;try{var ce=Fn(s.type,f,s.elementType===s.type);t=u.getSnapshotBeforeUpdate(ce,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(re){De(s,s.return,re)}}break;case 3:if((t&1024)!==0){if(t=o.stateNode.containerInfo,s=t.nodeType,s===9)Ur(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ur(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=o.sibling,t!==null){t.return=o.return,Ke=t;break}Ke=o.return}}function rd(t,o,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:hn(t,s),u&4&&Ni(5,s);break;case 1:if(hn(t,s),u&4)if(t=s.stateNode,o===null)try{t.componentDidMount()}catch(S){De(s,s.return,S)}else{var f=Fn(s.type,o.memoizedProps);o=o.memoizedState;try{t.componentDidUpdate(f,o,t.__reactInternalSnapshotBeforeUpdate)}catch(S){De(s,s.return,S)}}u&64&&nd(s),u&512&&wi(s,s.return);break;case 3:if(hn(t,s),u&64&&(t=s.updateQueue,t!==null)){if(o=null,s.child!==null)switch(s.child.tag){case 27:case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}try{Fc(t,o)}catch(S){De(s,s.return,S)}}break;case 27:o===null&&u&4&&sd(s);case 26:case 5:hn(t,s),o===null&&u&4&&id(s),u&512&&wi(s,s.return);break;case 12:hn(t,s);break;case 13:hn(t,s),u&4&&fd(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=P0.bind(null,s),ty(t,s))));break;case 22:if(u=s.memoizedState!==null||Zt,!u){o=o!==null&&o.memoizedState!==null||He,f=Zt;var p=He;Zt=u,(He=o)&&!p?gn(t,s,(s.subtreeFlags&8772)!==0):hn(t,s),Zt=f,He=p}break;case 30:break;default:hn(t,s)}}function ud(t){var o=t.alternate;o!==null&&(t.alternate=null,ud(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&qs(o)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Le=null,rt=!1;function Wt(t,o,s){for(s=s.child;s!==null;)cd(t,o,s),s=s.sibling}function cd(t,o,s){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Xo,s)}catch{}switch(s.tag){case 26:He||Pt(s,o),Wt(t,o,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:He||Pt(s,o);var u=Le,f=rt;Cn(s.type)&&(Le=s.stateNode,rt=!1),Wt(t,o,s),Pi(s.stateNode),Le=u,rt=f;break;case 5:He||Pt(s,o);case 6:if(u=Le,f=rt,Le=null,Wt(t,o,s),Le=u,rt=f,Le!==null)if(rt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(s.stateNode)}catch(p){De(s,o,p)}else try{Le.removeChild(s.stateNode)}catch(p){De(s,o,p)}break;case 18:Le!==null&&(rt?(t=Le,Wd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ji(t)):Wd(Le,s.stateNode));break;case 4:u=Le,f=rt,Le=s.stateNode.containerInfo,rt=!0,Wt(t,o,s),Le=u,rt=f;break;case 0:case 11:case 14:case 15:He||pn(2,s,o),He||pn(4,s,o),Wt(t,o,s);break;case 1:He||(Pt(s,o),u=s.stateNode,typeof u.componentWillUnmount=="function"&&od(s,o,u)),Wt(t,o,s);break;case 21:Wt(t,o,s);break;case 22:He=(u=He)||s.memoizedState!==null,Wt(t,o,s),He=u;break;default:Wt(t,o,s)}}function fd(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ji(t)}catch(s){De(o,o.return,s)}}function R0(t){switch(t.tag){case 13:case 19:var o=t.stateNode;return o===null&&(o=t.stateNode=new ad),o;case 22:return t=t.stateNode,o=t._retryCache,o===null&&(o=t._retryCache=new ad),o;default:throw Error(l(435,t.tag))}}function sr(t,o){var s=R0(t);o.forEach(function(u){var f=q0.bind(null,t,u);s.has(u)||(s.add(u),u.then(f,f))})}function ht(t,o){var s=o.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],p=t,S=o,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(Cn(E.type)){Le=E.stateNode,rt=!1;break e}break;case 5:Le=E.stateNode,rt=!1;break e;case 3:case 4:Le=E.stateNode.containerInfo,rt=!0;break e}E=E.return}if(Le===null)throw Error(l(160));cd(p,S,f),Le=null,rt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)dd(o,t),o=o.sibling}var Dt=null;function dd(t,o){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ht(o,t),gt(t),u&4&&(pn(3,t,t.return),Ni(3,t),pn(5,t,t.return));break;case 1:ht(o,t),gt(t),u&512&&(He||s===null||Pt(s,s.return)),u&64&&Zt&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var f=Dt;if(ht(o,t),gt(t),u&512&&(He||s===null||Pt(s,s.return)),u&4){var p=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Wo]||p[je]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),We(p,u,s),p[je]=t,Je(p),u=p;break e;case"link":var S=sm("link","href",f).get(u+(s.href||""));if(S){for(var E=0;E<S.length;E++)if(p=S[E],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(E,1);break t}}p=f.createElement(u),We(p,u,s),f.head.appendChild(p);break;case"meta":if(S=sm("meta","content",f).get(u+(s.content||""))){for(E=0;E<S.length;E++)if(p=S[E],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(E,1);break t}}p=f.createElement(u),We(p,u,s),f.head.appendChild(p);break;default:throw Error(l(468,u))}p[je]=t,Je(p),u=p}t.stateNode=u}else am(f,t.type,t.stateNode);else t.stateNode=lm(f,u,t.memoizedProps);else p!==u?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,u===null?am(f,t.type,t.stateNode):lm(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&nr(t,t.memoizedProps,s.memoizedProps)}break;case 27:ht(o,t),gt(t),u&512&&(He||s===null||Pt(s,s.return)),s!==null&&u&4&&nr(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ht(o,t),gt(t),u&512&&(He||s===null||Pt(s,s.return)),t.flags&32){f=t.stateNode;try{oo(f,"")}catch(k){De(t,t.return,k)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,nr(t,f,s!==null?s.memoizedProps:f)),u&1024&&(lr=!0);break;case 6:if(ht(o,t),gt(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(k){De(t,t.return,k)}}break;case 3:if(os=null,f=Dt,Dt=ts(o.containerInfo),ht(o,t),Dt=f,gt(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Ji(o.containerInfo)}catch(k){De(t,t.return,k)}lr&&(lr=!1,md(t));break;case 4:u=Dt,Dt=ts(t.stateNode.containerInfo),ht(o,t),gt(t),Dt=u;break;case 12:ht(o,t),gt(t);break;case 13:ht(o,t),gt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(dr=kt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,sr(t,u)));break;case 22:f=t.memoizedState!==null;var _=s!==null&&s.memoizedState!==null,D=Zt,B=He;if(Zt=D||f,He=B||_,ht(o,t),He=B,Zt=D,gt(t),u&8192)e:for(o=t.stateNode,o._visibility=f?o._visibility&-2:o._visibility|1,f&&(s===null||_||Zt||He||zn(t)),s=null,o=t;;){if(o.tag===5||o.tag===26){if(s===null){_=s=o;try{if(p=_.stateNode,f)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=_.stateNode;var J=_.memoizedProps.style,U=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(k){De(_,_.return,k)}}}else if(o.tag===6){if(s===null){_=o;try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(k){De(_,_.return,k)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;s===o&&(s=null),o=o.return}s===o&&(s=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,sr(t,s))));break;case 19:ht(o,t),gt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,sr(t,u)));break;case 30:break;case 21:break;default:ht(o,t),gt(t)}}function gt(t){var o=t.flags;if(o&2){try{for(var s,u=t.return;u!==null;){if(ld(u)){s=u;break}u=u.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var f=s.stateNode,p=or(t);Fl(t,p,f);break;case 5:var S=s.stateNode;s.flags&32&&(oo(S,""),s.flags&=-33);var E=or(t);Fl(t,E,S);break;case 3:case 4:var _=s.stateNode.containerInfo,D=or(t);ir(t,D,_);break;default:throw Error(l(161))}}catch(B){De(t,t.return,B)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function md(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var o=t;md(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),t=t.sibling}}function hn(t,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)rd(t,o.alternate,o),o=o.sibling}function zn(t){for(t=t.child;t!==null;){var o=t;switch(o.tag){case 0:case 11:case 14:case 15:pn(4,o,o.return),zn(o);break;case 1:Pt(o,o.return);var s=o.stateNode;typeof s.componentWillUnmount=="function"&&od(o,o.return,s),zn(o);break;case 27:Pi(o.stateNode);case 26:case 5:Pt(o,o.return),zn(o);break;case 22:o.memoizedState===null&&zn(o);break;case 30:zn(o);break;default:zn(o)}t=t.sibling}}function gn(t,o,s){for(s=s&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,f=t,p=o,S=p.flags;switch(p.tag){case 0:case 11:case 15:gn(f,p,s),Ni(4,p);break;case 1:if(gn(f,p,s),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){De(u,u.return,D)}if(u=p,f=u.updateQueue,f!==null){var E=u.stateNode;try{var _=f.shared.hiddenCallbacks;if(_!==null)for(f.shared.hiddenCallbacks=null,f=0;f<_.length;f++)Bc(_[f],E)}catch(D){De(u,u.return,D)}}s&&S&64&&nd(p),wi(p,p.return);break;case 27:sd(p);case 26:case 5:gn(f,p,s),s&&u===null&&S&4&&id(p),wi(p,p.return);break;case 12:gn(f,p,s);break;case 13:gn(f,p,s),s&&S&4&&fd(f,p);break;case 22:p.memoizedState===null&&gn(f,p,s),wi(p,p.return);break;case 30:break;default:gn(f,p,s)}o=o.sibling}}function ar(t,o){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(t=o.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&mi(s))}function rr(t,o){t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&mi(t))}function qt(t,o,s,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pd(t,o,s,u),o=o.sibling}function pd(t,o,s,u){var f=o.flags;switch(o.tag){case 0:case 11:case 15:qt(t,o,s,u),f&2048&&Ni(9,o);break;case 1:qt(t,o,s,u);break;case 3:qt(t,o,s,u),f&2048&&(t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&mi(t)));break;case 12:if(f&2048){qt(t,o,s,u),t=o.stateNode;try{var p=o.memoizedProps,S=p.id,E=p.onPostCommit;typeof E=="function"&&E(S,o.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){De(o,o.return,_)}}else qt(t,o,s,u);break;case 13:qt(t,o,s,u);break;case 23:break;case 22:p=o.stateNode,S=o.alternate,o.memoizedState!==null?p._visibility&2?qt(t,o,s,u):Ri(t,o):p._visibility&2?qt(t,o,s,u):(p._visibility|=2,Eo(t,o,s,u,(o.subtreeFlags&10256)!==0)),f&2048&&ar(S,o);break;case 24:qt(t,o,s,u),f&2048&&rr(o.alternate,o);break;default:qt(t,o,s,u)}}function Eo(t,o,s,u,f){for(f=f&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var p=t,S=o,E=s,_=u,D=S.flags;switch(S.tag){case 0:case 11:case 15:Eo(p,S,E,_,f),Ni(8,S);break;case 23:break;case 22:var B=S.stateNode;S.memoizedState!==null?B._visibility&2?Eo(p,S,E,_,f):Ri(p,S):(B._visibility|=2,Eo(p,S,E,_,f)),f&&D&2048&&ar(S.alternate,S);break;case 24:Eo(p,S,E,_,f),f&&D&2048&&rr(S.alternate,S);break;default:Eo(p,S,E,_,f)}o=o.sibling}}function Ri(t,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var s=t,u=o,f=u.flags;switch(u.tag){case 22:Ri(s,u),f&2048&&ar(u.alternate,u);break;case 24:Ri(s,u),f&2048&&rr(u.alternate,u);break;default:Ri(s,u)}o=o.sibling}}var bi=8192;function Ao(t){if(t.subtreeFlags&bi)for(t=t.child;t!==null;)hd(t),t=t.sibling}function hd(t){switch(t.tag){case 26:Ao(t),t.flags&bi&&t.memoizedState!==null&&py(Dt,t.memoizedState,t.memoizedProps);break;case 5:Ao(t);break;case 3:case 4:var o=Dt;Dt=ts(t.stateNode.containerInfo),Ao(t),Dt=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=bi,bi=16777216,Ao(t),bi=o):Ao(t));break;default:Ao(t)}}function gd(t){var o=t.alternate;if(o!==null&&(t=o.child,t!==null)){o.child=null;do o=t.sibling,t.sibling=null,t=o;while(t!==null)}}function Di(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var s=0;s<o.length;s++){var u=o[s];Ke=u,vd(u,t)}gd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yd(t),t=t.sibling}function yd(t){switch(t.tag){case 0:case 11:case 15:Di(t),t.flags&2048&&pn(9,t,t.return);break;case 3:Di(t);break;case 12:Di(t);break;case 22:var o=t.stateNode;t.memoizedState!==null&&o._visibility&2&&(t.return===null||t.return.tag!==13)?(o._visibility&=-3,zl(t)):Di(t);break;default:Di(t)}}function zl(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var s=0;s<o.length;s++){var u=o[s];Ke=u,vd(u,t)}gd(t)}for(t=t.child;t!==null;){switch(o=t,o.tag){case 0:case 11:case 15:pn(8,o,o.return),zl(o);break;case 22:s=o.stateNode,s._visibility&2&&(s._visibility&=-3,zl(o));break;default:zl(o)}t=t.sibling}}function vd(t,o){for(;Ke!==null;){var s=Ke;switch(s.tag){case 0:case 11:case 15:pn(8,s,o);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mi(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Ke=u;else e:for(s=t;Ke!==null;){u=Ke;var f=u.sibling,p=u.return;if(ud(u),u===s){Ke=null;break e}if(f!==null){f.return=p,Ke=f;break e}Ke=p}}}var b0={getCacheForType:function(t){var o=et(ze),s=o.data.get(t);return s===void 0&&(s=t(),o.data.set(t,s)),s}},D0=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ie=null,ve=null,Se=0,Me=0,yt=null,yn=!1,_o=!1,ur=!1,jt=0,qe=0,vn=0,Yn=0,cr=0,Nt=0,Mo=0,Ii=null,ut=null,fr=!1,dr=0,Yl=1/0,Jl=null,xn=null,Ze=0,Tn=null,No=null,wo=0,mr=0,pr=null,xd=null,Ui=0,hr=null;function vt(){if((_e&2)!==0&&Se!==0)return Se&-Se;if(q.T!==null){var t=ho;return t!==0?t:Cr()}return ku()}function Td(){Nt===0&&(Nt=(Se&536870912)===0||Ae?bu():536870912);var t=Mt.current;return t!==null&&(t.flags|=32),Nt}function xt(t,o,s){(t===Ie&&(Me===2||Me===9)||t.cancelPendingCommit!==null)&&(Ro(t,0),Sn(t,Se,Nt,!1)),Zo(t,s),((_e&2)===0||t!==Ie)&&(t===Ie&&((_e&2)===0&&(Yn|=s),qe===4&&Sn(t,Se,Nt,!1)),Gt(t))}function Sd(t,o,s){if((_e&6)!==0)throw Error(l(327));var u=!s&&(o&124)===0&&(o&t.expiredLanes)===0||Qo(t,o),f=u?k0(t,o):vr(t,o,!0),p=u;do{if(f===0){_o&&!u&&Sn(t,o,0,!1);break}else{if(s=t.current.alternate,p&&!I0(s)){f=vr(t,o,!1),p=!1;continue}if(f===2){if(p=o,t.errorRecoveryDisabledLanes&p)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var E=t;f=Ii;var _=E.current.memoizedState.isDehydrated;if(_&&(Ro(E,S).flags|=256),S=vr(E,S,!1),S!==2){if(ur&&!_){E.errorRecoveryDisabledLanes|=p,Yn|=p,f=4;break e}p=ut,ut=f,p!==null&&(ut===null?ut=p:ut.push.apply(ut,p))}f=S}if(p=!1,f!==2)continue}}if(f===1){Ro(t,0),Sn(t,o,0,!0);break}e:{switch(u=t,p=f,p){case 0:case 1:throw Error(l(345));case 4:if((o&4194048)!==o)break;case 6:Sn(u,o,Nt,!yn);break e;case 2:ut=null;break;case 3:case 5:break;default:throw Error(l(329))}if((o&62914560)===o&&(f=dr+300-kt(),10<f)){if(Sn(u,o,Nt,!yn),nl(u,0,!0)!==0)break e;u.timeoutHandle=Qd(Cd.bind(null,u,s,ut,Jl,fr,o,Nt,Yn,Mo,yn,p,2,-0,0),f);break e}Cd(u,s,ut,Jl,fr,o,Nt,Yn,Mo,yn,p,0,-0,0)}}break}while(!0);Gt(t)}function Cd(t,o,s,u,f,p,S,E,_,D,B,J,U,k){if(t.timeoutHandle=-1,J=o.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Hi={stylesheets:null,count:0,unsuspend:my},hd(o),J=hy(),J!==null)){t.cancelPendingCommit=J(Rd.bind(null,t,o,p,s,u,f,S,E,_,B,1,U,k)),Sn(t,p,S,!D);return}Rd(t,o,p,s,u,f,S,E,_)}function I0(t){for(var o=t;;){var s=o.tag;if((s===0||s===11||s===15)&&o.flags&16384&&(s=o.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],p=f.getSnapshot;f=f.value;try{if(!mt(p(),f))return!1}catch{return!1}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Sn(t,o,s,u){o&=~cr,o&=~Yn,t.suspendedLanes|=o,t.pingedLanes&=~o,u&&(t.warmLanes|=o),u=t.expirationTimes;for(var f=o;0<f;){var p=31-dt(f),S=1<<p;u[p]=-1,f&=~S}s!==0&&Iu(t,s,o)}function Ol(){return(_e&6)===0?(ki(0),!1):!0}function gr(){if(ve!==null){if(Me===0)var t=ve.return;else t=ve,Jt=qn=null,Ua(t),So=null,Ai=0,t=ve;for(;t!==null;)td(t.alternate,t),t=t.return;ve=null}}function Ro(t,o){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Q0(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),gr(),Ie=t,ve=s=Ft(t.current,null),Se=o,Me=0,yt=null,yn=!1,_o=Qo(t,o),ur=!1,Mo=Nt=cr=Yn=vn=qe=0,ut=Ii=null,fr=!1,(o&8)!==0&&(o|=o&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=o;0<u;){var f=31-dt(u),p=1<<f;o|=t[f],u&=~p}return jt=o,pl(),s}function Ed(t,o){he=null,q.H=Ul,o===hi||o===El?(o=Gc(),Me=3):o===Vc?(o=Gc(),Me=4):Me=o===Bf?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,yt=o,ve===null&&(qe=1,ql(t,Ct(o,t.current)))}function Ad(){var t=q.H;return q.H=Ul,t===null?Ul:t}function _d(){var t=q.A;return q.A=b0,t}function yr(){qe=4,yn||(Se&4194048)!==Se&&Mt.current!==null||(_o=!0),(vn&134217727)===0&&(Yn&134217727)===0||Ie===null||Sn(Ie,Se,Nt,!1)}function vr(t,o,s){var u=_e;_e|=2;var f=Ad(),p=_d();(Ie!==t||Se!==o)&&(Jl=null,Ro(t,o)),o=!1;var S=qe;e:do try{if(Me!==0&&ve!==null){var E=ve,_=yt;switch(Me){case 8:gr(),S=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(o=!0);var D=Me;if(Me=0,yt=null,bo(t,E,_,D),s&&_o){S=0;break e}break;default:D=Me,Me=0,yt=null,bo(t,E,_,D)}}U0(),S=qe;break}catch(B){Ed(t,B)}while(!0);return o&&t.shellSuspendCounter++,Jt=qn=null,_e=u,q.H=f,q.A=p,ve===null&&(Ie=null,Se=0,pl()),S}function U0(){for(;ve!==null;)Md(ve)}function k0(t,o){var s=_e;_e|=2;var u=Ad(),f=_d();Ie!==t||Se!==o?(Jl=null,Yl=kt()+500,Ro(t,o)):_o=Qo(t,o);e:do try{if(Me!==0&&ve!==null){o=ve;var p=yt;t:switch(Me){case 1:Me=0,yt=null,bo(t,o,p,1);break;case 2:case 9:if(Pc(p)){Me=0,yt=null,Nd(o);break}o=function(){Me!==2&&Me!==9||Ie!==t||(Me=7),Gt(t)},p.then(o,o);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Pc(p)?(Me=0,yt=null,Nd(o)):(Me=0,yt=null,bo(t,o,p,7));break;case 5:var S=null;switch(ve.tag){case 26:S=ve.memoizedState;case 5:case 27:var E=ve;if(!S||rm(S)){Me=0,yt=null;var _=E.sibling;if(_!==null)ve=_;else{var D=E.return;D!==null?(ve=D,Kl(D)):ve=null}break t}}Me=0,yt=null,bo(t,o,p,5);break;case 6:Me=0,yt=null,bo(t,o,p,6);break;case 8:gr(),qe=6;break e;default:throw Error(l(462))}}L0();break}catch(B){Ed(t,B)}while(!0);return Jt=qn=null,q.H=u,q.A=f,_e=s,ve!==null?0:(Ie=null,Se=0,pl(),qe)}function L0(){for(;ve!==null&&!og();)Md(ve)}function Md(t){var o=jf(t.alternate,t,jt);t.memoizedProps=t.pendingProps,o===null?Kl(t):ve=o}function Nd(t){var o=t,s=o.alternate;switch(o.tag){case 15:case 0:o=Kf(s,o,o.pendingProps,o.type,void 0,Se);break;case 11:o=Kf(s,o,o.pendingProps,o.type.render,o.ref,Se);break;case 5:Ua(o);default:td(s,o),o=ve=Nc(o,jt),o=jf(s,o,jt)}t.memoizedProps=t.pendingProps,o===null?Kl(t):ve=o}function bo(t,o,s,u){Jt=qn=null,Ua(o),So=null,Ai=0;var f=o.return;try{if(A0(t,f,o,s,Se)){qe=1,ql(t,Ct(s,t.current)),ve=null;return}}catch(p){if(f!==null)throw ve=f,p;qe=1,ql(t,Ct(s,t.current)),ve=null;return}o.flags&32768?(Ae||u===1?t=!0:_o||(Se&536870912)!==0?t=!1:(yn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Mt.current,u!==null&&u.tag===13&&(u.flags|=16384))),wd(o,t)):Kl(o)}function Kl(t){var o=t;do{if((o.flags&32768)!==0){wd(o,yn);return}t=o.return;var s=M0(o.alternate,o,jt);if(s!==null){ve=s;return}if(o=o.sibling,o!==null){ve=o;return}ve=o=t}while(o!==null);qe===0&&(qe=5)}function wd(t,o){do{var s=N0(t.alternate,t);if(s!==null){s.flags&=32767,ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!o&&(t=t.sibling,t!==null)){ve=t;return}ve=t=s}while(t!==null);qe=6,ve=null}function Rd(t,o,s,u,f,p,S,E,_){t.cancelPendingCommit=null;do $l();while(Ze!==0);if((_e&6)!==0)throw Error(l(327));if(o!==null){if(o===t.current)throw Error(l(177));if(p=o.lanes|o.childLanes,p|=ra,mg(t,s,p,S,E,_),t===Ie&&(ve=Ie=null,Se=0),No=o,Tn=t,wo=s,mr=p,pr=f,xd=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,G0(ji,function(){return kd(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,f=W.p,W.p=2,S=_e,_e|=4;try{w0(t,o,s)}finally{_e=S,W.p=f,q.T=u}}Ze=1,bd(),Dd(),Id()}}function bd(){if(Ze===1){Ze=0;var t=Tn,o=No,s=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var u=W.p;W.p=2;var f=_e;_e|=4;try{dd(o,t);var p=br,S=yc(t.containerInfo),E=p.focusedElem,_=p.selectionRange;if(S!==E&&E&&E.ownerDocument&&gc(E.ownerDocument.documentElement,E)){if(_!==null&&oa(E)){var D=_.start,B=_.end;if(B===void 0&&(B=D),"selectionStart"in E)E.selectionStart=D,E.selectionEnd=Math.min(B,E.value.length);else{var J=E.ownerDocument||document,U=J&&J.defaultView||window;if(U.getSelection){var k=U.getSelection(),ce=E.textContent.length,re=Math.min(_.start,ce),Re=_.end===void 0?re:Math.min(_.end,ce);!k.extend&&re>Re&&(S=Re,Re=re,re=S);var R=hc(E,re),N=hc(E,Re);if(R&&N&&(k.rangeCount!==1||k.anchorNode!==R.node||k.anchorOffset!==R.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var b=J.createRange();b.setStart(R.node,R.offset),k.removeAllRanges(),re>Re?(k.addRange(b),k.extend(N.node,N.offset)):(b.setEnd(N.node,N.offset),k.addRange(b))}}}}for(J=[],k=E;k=k.parentNode;)k.nodeType===1&&J.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var z=J[E];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}ss=!!Rr,br=Rr=null}finally{_e=f,W.p=u,q.T=s}}t.current=o,Ze=2}}function Dd(){if(Ze===2){Ze=0;var t=Tn,o=No,s=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var u=W.p;W.p=2;var f=_e;_e|=4;try{rd(t,o.alternate,o)}finally{_e=f,W.p=u,q.T=s}}Ze=3}}function Id(){if(Ze===4||Ze===3){Ze=0,ig();var t=Tn,o=No,s=wo,u=xd;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ze=5:(Ze=0,No=Tn=null,Ud(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(xn=null),Vs(s),o=o.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Xo,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=q.T,f=W.p,W.p=2,q.T=null;try{for(var p=t.onRecoverableError,S=0;S<u.length;S++){var E=u[S];p(E.value,{componentStack:E.stack})}}finally{q.T=o,W.p=f}}(wo&3)!==0&&$l(),Gt(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===hr?Ui++:(Ui=0,hr=t):Ui=0,ki(0)}}function Ud(t,o){(t.pooledCacheLanes&=o)===0&&(o=t.pooledCache,o!=null&&(t.pooledCache=null,mi(o)))}function $l(t){return bd(),Dd(),Id(),kd()}function kd(){if(Ze!==5)return!1;var t=Tn,o=mr;mr=0;var s=Vs(wo),u=q.T,f=W.p;try{W.p=32>s?32:s,q.T=null,s=pr,pr=null;var p=Tn,S=wo;if(Ze=0,No=Tn=null,wo=0,(_e&6)!==0)throw Error(l(331));var E=_e;if(_e|=4,yd(p.current),pd(p,p.current,S,s),_e=E,ki(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Xo,p)}catch{}return!0}finally{W.p=f,q.T=u,Ud(t,o)}}function Ld(t,o,s){o=Ct(s,o),o=Ka(t.stateNode,o,2),t=cn(t,o,2),t!==null&&(Zo(t,2),Gt(t))}function De(t,o,s){if(t.tag===3)Ld(t,t,s);else for(;o!==null;){if(o.tag===3){Ld(o,t,s);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xn===null||!xn.has(u))){t=Ct(s,t),s=Gf(2),u=cn(o,s,2),u!==null&&(Hf(s,u,o,t),Zo(u,2),Gt(u));break}}o=o.return}}function xr(t,o,s){var u=t.pingCache;if(u===null){u=t.pingCache=new D0;var f=new Set;u.set(o,f)}else f=u.get(o),f===void 0&&(f=new Set,u.set(o,f));f.has(s)||(ur=!0,f.add(s),t=V0.bind(null,t,o,s),o.then(t,t))}function V0(t,o,s){var u=t.pingCache;u!==null&&u.delete(o),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ie===t&&(Se&s)===s&&(qe===4||qe===3&&(Se&62914560)===Se&&300>kt()-dr?(_e&2)===0&&Ro(t,0):cr|=s,Mo===Se&&(Mo=0)),Gt(t)}function Vd(t,o){o===0&&(o=Du()),t=co(t,o),t!==null&&(Zo(t,o),Gt(t))}function P0(t){var o=t.memoizedState,s=0;o!==null&&(s=o.retryLane),Vd(t,s)}function q0(t,o){var s=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(o),Vd(t,s)}function G0(t,o){return Is(t,o)}var Xl=null,Do=null,Tr=!1,Ql=!1,Sr=!1,Jn=0;function Gt(t){t!==Do&&t.next===null&&(Do===null?Xl=Do=t:Do=Do.next=t),Ql=!0,Tr||(Tr=!0,B0())}function ki(t,o){if(!Sr&&Ql){Sr=!0;do for(var s=!1,u=Xl;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var S=u.suspendedLanes,E=u.pingedLanes;p=(1<<31-dt(42|t)+1)-1,p&=f&~(S&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,Hd(u,p))}else p=Se,p=nl(u,u===Ie?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Qo(u,p)||(s=!0,Hd(u,p));u=u.next}while(s);Sr=!1}}function H0(){Pd()}function Pd(){Ql=Tr=!1;var t=0;Jn!==0&&(X0()&&(t=Jn),Jn=0);for(var o=kt(),s=null,u=Xl;u!==null;){var f=u.next,p=qd(u,o);p===0?(u.next=null,s===null?Xl=f:s.next=f,f===null&&(Do=s)):(s=u,(t!==0||(p&3)!==0)&&(Ql=!0)),u=f}ki(t)}function qd(t,o){for(var s=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var S=31-dt(p),E=1<<S,_=f[S];_===-1?((E&s)===0||(E&u)!==0)&&(f[S]=dg(E,o)):_<=o&&(t.expiredLanes|=E),p&=~E}if(o=Ie,s=Se,s=nl(t,t===o?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===o&&(Me===2||Me===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Us(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Qo(t,s)){if(o=s&-s,o===t.callbackPriority)return o;switch(u!==null&&Us(u),Vs(s)){case 2:case 8:s=wu;break;case 32:s=ji;break;case 268435456:s=Ru;break;default:s=ji}return u=Gd.bind(null,t),s=Is(s,u),t.callbackPriority=o,t.callbackNode=s,o}return u!==null&&u!==null&&Us(u),t.callbackPriority=2,t.callbackNode=null,2}function Gd(t,o){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if($l()&&t.callbackNode!==s)return null;var u=Se;return u=nl(t,t===Ie?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Sd(t,u,o),qd(t,kt()),t.callbackNode!=null&&t.callbackNode===s?Gd.bind(null,t):null)}function Hd(t,o){if($l())return null;Sd(t,o,!0)}function B0(){Z0(function(){(_e&6)!==0?Is(Nu,H0):Pd()})}function Cr(){return Jn===0&&(Jn=bu()),Jn}function Bd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:al(""+t)}function Fd(t,o){var s=o.ownerDocument.createElement("input");return s.name=o.name,s.value=o.value,t.id&&s.setAttribute("form",t.id),o.parentNode.insertBefore(s,o),t=new FormData(t),s.parentNode.removeChild(s),t}function F0(t,o,s,u,f){if(o==="submit"&&s&&s.stateNode===f){var p=Bd((f[lt]||null).action),S=u.submitter;S&&(o=(o=S[lt]||null)?Bd(o.formAction):S.getAttribute("formAction"),o!==null&&(p=o,S=null));var E=new fl("action","action",null,u,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Jn!==0){var _=S?Fd(f,S):new FormData(f);Fa(s,{pending:!0,data:_,method:f.method,action:p},null,_)}}else typeof p=="function"&&(E.preventDefault(),_=S?Fd(f,S):new FormData(f),Fa(s,{pending:!0,data:_,method:f.method,action:p},p,_))},currentTarget:f}]})}}for(var Er=0;Er<aa.length;Er++){var Ar=aa[Er],z0=Ar.toLowerCase(),Y0=Ar[0].toUpperCase()+Ar.slice(1);bt(z0,"on"+Y0)}bt(Tc,"onAnimationEnd"),bt(Sc,"onAnimationIteration"),bt(Cc,"onAnimationStart"),bt("dblclick","onDoubleClick"),bt("focusin","onFocus"),bt("focusout","onBlur"),bt(a0,"onTransitionRun"),bt(r0,"onTransitionStart"),bt(u0,"onTransitionCancel"),bt(Ec,"onTransitionEnd"),eo("onMouseEnter",["mouseout","mouseover"]),eo("onMouseLeave",["mouseout","mouseover"]),eo("onPointerEnter",["pointerout","pointerover"]),eo("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Li));function zd(t,o){o=(o&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],f=u.event;u=u.listeners;e:{var p=void 0;if(o)for(var S=u.length-1;0<=S;S--){var E=u[S],_=E.instance,D=E.currentTarget;if(E=E.listener,_!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=D;try{p(f)}catch(B){Pl(B)}f.currentTarget=null,p=_}else for(S=0;S<u.length;S++){if(E=u[S],_=E.instance,D=E.currentTarget,E=E.listener,_!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=D;try{p(f)}catch(B){Pl(B)}f.currentTarget=null,p=_}}}}function xe(t,o){var s=o[Ps];s===void 0&&(s=o[Ps]=new Set);var u=t+"__bubble";s.has(u)||(Yd(o,t,2,!1),s.add(u))}function _r(t,o,s){var u=0;o&&(u|=4),Yd(s,t,u,o)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Mr(t){if(!t[Zl]){t[Zl]=!0,Vu.forEach(function(s){s!=="selectionchange"&&(J0.has(s)||_r(s,!1,t),_r(s,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[Zl]||(o[Zl]=!0,_r("selectionchange",!1,o))}}function Yd(t,o,s,u){switch(pm(o)){case 2:var f=vy;break;case 8:f=xy;break;default:f=Hr}s=f.bind(null,o,s,t),f=void 0,!$s||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(o,s,{capture:!0,passive:f}):t.addEventListener(o,s,!0):f!==void 0?t.addEventListener(o,s,{passive:f}):t.addEventListener(o,s,!1)}function Nr(t,o,s,u,f){var p=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var E=u.stateNode.containerInfo;if(E===f)break;if(S===4)for(S=u.return;S!==null;){var _=S.tag;if((_===3||_===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;E!==null;){if(S=Zn(E),S===null)return;if(_=S.tag,_===5||_===6||_===26||_===27){u=p=S;continue e}E=E.parentNode}}u=u.return}Qu(function(){var D=p,B=Os(s),J=[];e:{var U=Ac.get(t);if(U!==void 0){var k=fl,ce=t;switch(t){case"keypress":if(ul(s)===0)break e;case"keydown":case"keyup":k=Gg;break;case"focusin":ce="focus",k=Ws;break;case"focusout":ce="blur",k=Ws;break;case"beforeblur":case"afterblur":k=Ws;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Fg;break;case Tc:case Sc:case Cc:k=bg;break;case Ec:k=Yg;break;case"scroll":case"scrollend":k=_g;break;case"wheel":k=Og;break;case"copy":case"cut":case"paste":k=Ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=tc;break;case"toggle":case"beforetoggle":k=$g}var re=(o&4)!==0,Re=!re&&(t==="scroll"||t==="scrollend"),R=re?U!==null?U+"Capture":null:U;re=[];for(var N=D,b;N!==null;){var z=N;if(b=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||b===null||R===null||(z=ei(N,R),z!=null&&re.push(Vi(N,z,b))),Re)break;N=N.return}0<re.length&&(U=new k(U,ce,null,s,B),J.push({event:U,listeners:re}))}}if((o&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",U&&s!==Js&&(ce=s.relatedTarget||s.fromElement)&&(Zn(ce)||ce[Qn]))break e;if((k||U)&&(U=B.window===B?B:(U=B.ownerDocument)?U.defaultView||U.parentWindow:window,k?(ce=s.relatedTarget||s.toElement,k=D,ce=ce?Zn(ce):null,ce!==null&&(Re=d(ce),re=ce.tag,ce!==Re||re!==5&&re!==27&&re!==6)&&(ce=null)):(k=null,ce=D),k!==ce)){if(re=ju,z="onMouseLeave",R="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(re=tc,z="onPointerLeave",R="onPointerEnter",N="pointer"),Re=k==null?U:jo(k),b=ce==null?U:jo(ce),U=new re(z,N+"leave",k,s,B),U.target=Re,U.relatedTarget=b,z=null,Zn(B)===D&&(re=new re(R,N+"enter",ce,s,B),re.target=b,re.relatedTarget=Re,z=re),Re=z,k&&ce)t:{for(re=k,R=ce,N=0,b=re;b;b=Io(b))N++;for(b=0,z=R;z;z=Io(z))b++;for(;0<N-b;)re=Io(re),N--;for(;0<b-N;)R=Io(R),b--;for(;N--;){if(re===R||R!==null&&re===R.alternate)break t;re=Io(re),R=Io(R)}re=null}else re=null;k!==null&&Jd(J,U,k,re,!1),ce!==null&&Re!==null&&Jd(J,Re,ce,re,!0)}}e:{if(U=D?jo(D):window,k=U.nodeName&&U.nodeName.toLowerCase(),k==="select"||k==="input"&&U.type==="file")var ne=uc;else if(ac(U))if(cc)ne=i0;else{ne=n0;var ye=t0}else k=U.nodeName,!k||k.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&Ys(D.elementType)&&(ne=uc):ne=o0;if(ne&&(ne=ne(t,D))){rc(J,ne,s,B);break e}ye&&ye(t,U,D),t==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&zs(U,"number",U.value)}switch(ye=D?jo(D):window,t){case"focusin":(ac(ye)||ye.contentEditable==="true")&&(ao=ye,ia=D,ri=null);break;case"focusout":ri=ia=ao=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,vc(J,s,B);break;case"selectionchange":if(s0)break;case"keydown":case"keyup":vc(J,s,B)}var se;if(ea)e:{switch(t){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else so?lc(t,s)&&(ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ue="onCompositionStart");ue&&(nc&&s.locale!=="ko"&&(so||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&so&&(se=Zu()):(sn=B,Xs="value"in sn?sn.value:sn.textContent,so=!0)),ye=Wl(D,ue),0<ye.length&&(ue=new ec(ue,t,null,s,B),J.push({event:ue,listeners:ye}),se?ue.data=se:(se=sc(s),se!==null&&(ue.data=se)))),(se=Qg?Zg(t,s):Wg(t,s))&&(ue=Wl(D,"onBeforeInput"),0<ue.length&&(ye=new ec("onBeforeInput","beforeinput",null,s,B),J.push({event:ye,listeners:ue}),ye.data=se)),F0(J,t,D,s,B)}zd(J,o)})}function Vi(t,o,s){return{instance:t,listener:o,currentTarget:s}}function Wl(t,o){for(var s=o+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ei(t,s),f!=null&&u.unshift(Vi(t,f,p)),f=ei(t,o),f!=null&&u.push(Vi(t,f,p))),t.tag===3)return u;t=t.return}return[]}function Io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jd(t,o,s,u,f){for(var p=o._reactName,S=[];s!==null&&s!==u;){var E=s,_=E.alternate,D=E.stateNode;if(E=E.tag,_!==null&&_===u)break;E!==5&&E!==26&&E!==27||D===null||(_=D,f?(D=ei(s,p),D!=null&&S.unshift(Vi(s,D,_))):f||(D=ei(s,p),D!=null&&S.push(Vi(s,D,_)))),s=s.return}S.length!==0&&t.push({event:o,listeners:S})}var O0=/\r\n?/g,K0=/\u0000|\uFFFD/g;function Od(t){return(typeof t=="string"?t:""+t).replace(O0,`
`).replace(K0,"")}function Kd(t,o){return o=Od(o),Od(t)===o}function jl(){}function we(t,o,s,u,f,p){switch(s){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||oo(t,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&oo(t,""+u);break;case"className":il(t,"class",u);break;case"tabIndex":il(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":il(t,s,u);break;case"style":$u(t,u,p);break;case"data":if(o!=="object"){il(t,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=al(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(o!=="input"&&we(t,o,"name",f.name,f,null),we(t,o,"formEncType",f.formEncType,f,null),we(t,o,"formMethod",f.formMethod,f,null),we(t,o,"formTarget",f.formTarget,f,null)):(we(t,o,"encType",f.encType,f,null),we(t,o,"method",f.method,f,null),we(t,o,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=al(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=jl);break;case"onScroll":u!=null&&xe("scroll",t);break;case"onScrollEnd":u!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=al(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ol(t,"popover",u);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ol(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Eg.get(s)||s,ol(t,s,u))}}function wr(t,o,s,u,f,p){switch(s){case"style":$u(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof u=="string"?oo(t,u):(typeof u=="number"||typeof u=="bigint")&&oo(t,""+u);break;case"onScroll":u!=null&&xe("scroll",t);break;case"onScrollEnd":u!=null&&xe("scrollend",t);break;case"onClick":u!=null&&(t.onclick=jl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pu.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),o=s.slice(2,f?s.length-7:void 0),p=t[lt]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(o,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(o,u,f);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):ol(t,s,u)}}}function We(t,o,s){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var u=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var S=s[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,o));default:we(t,o,p,S,s,null)}}f&&we(t,o,"srcSet",s.srcSet,s,null),u&&we(t,o,"src",s.src,s,null);return;case"input":xe("invalid",t);var E=p=S=f=null,_=null,D=null;for(u in s)if(s.hasOwnProperty(u)){var B=s[u];if(B!=null)switch(u){case"name":f=B;break;case"type":S=B;break;case"checked":_=B;break;case"defaultChecked":D=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,o));break;default:we(t,o,u,B,s,null)}}Yu(t,p,E,_,D,S,f,!1),ll(t);return;case"select":xe("invalid",t),u=S=p=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":S=E;break;case"multiple":u=E;default:we(t,o,f,E,s,null)}o=p,s=S,t.multiple=!!u,o!=null?no(t,!!u,o,!1):s!=null&&no(t,!!u,s,!0);return;case"textarea":xe("invalid",t),p=f=u=null;for(S in s)if(s.hasOwnProperty(S)&&(E=s[S],E!=null))switch(S){case"value":u=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:we(t,o,S,E,s,null)}Ou(t,u,f,p),ll(t);return;case"option":for(_ in s)if(s.hasOwnProperty(_)&&(u=s[_],u!=null))switch(_){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:we(t,o,_,u,s,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(u=0;u<Li.length;u++)xe(Li[u],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in s)if(s.hasOwnProperty(D)&&(u=s[D],u!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,o));default:we(t,o,D,u,s,null)}return;default:if(Ys(o)){for(B in s)s.hasOwnProperty(B)&&(u=s[B],u!==void 0&&wr(t,o,B,u,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(u=s[E],u!=null&&we(t,o,E,u,s,null))}function $0(t,o,s,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,S=null,E=null,_=null,D=null,B=null;for(k in s){var J=s[k];if(s.hasOwnProperty(k)&&J!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":_=J;default:u.hasOwnProperty(k)||we(t,o,k,null,u,J)}}for(var U in u){var k=u[U];if(J=s[U],u.hasOwnProperty(U)&&(k!=null||J!=null))switch(U){case"type":p=k;break;case"name":f=k;break;case"checked":D=k;break;case"defaultChecked":B=k;break;case"value":S=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,o));break;default:k!==J&&we(t,o,U,k,u,J)}}Fs(t,S,E,_,D,B,p,f);return;case"select":k=S=E=U=null;for(p in s)if(_=s[p],s.hasOwnProperty(p)&&_!=null)switch(p){case"value":break;case"multiple":k=_;default:u.hasOwnProperty(p)||we(t,o,p,null,u,_)}for(f in u)if(p=u[f],_=s[f],u.hasOwnProperty(f)&&(p!=null||_!=null))switch(f){case"value":U=p;break;case"defaultValue":E=p;break;case"multiple":S=p;default:p!==_&&we(t,o,f,p,u,_)}o=E,s=S,u=k,U!=null?no(t,!!s,U,!1):!!u!=!!s&&(o!=null?no(t,!!s,o,!0):no(t,!!s,s?[]:"",!1));return;case"textarea":k=U=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:we(t,o,E,null,u,f)}for(S in u)if(f=u[S],p=s[S],u.hasOwnProperty(S)&&(f!=null||p!=null))switch(S){case"value":U=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==p&&we(t,o,S,f,u,p)}Ju(t,U,k);return;case"option":for(var ce in s)if(U=s[ce],s.hasOwnProperty(ce)&&U!=null&&!u.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:we(t,o,ce,null,u,U)}for(_ in u)if(U=u[_],k=s[_],u.hasOwnProperty(_)&&U!==k&&(U!=null||k!=null))switch(_){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:we(t,o,_,U,u,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in s)U=s[re],s.hasOwnProperty(re)&&U!=null&&!u.hasOwnProperty(re)&&we(t,o,re,null,u,U);for(D in u)if(U=u[D],k=s[D],u.hasOwnProperty(D)&&U!==k&&(U!=null||k!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,o));break;default:we(t,o,D,U,u,k)}return;default:if(Ys(o)){for(var Re in s)U=s[Re],s.hasOwnProperty(Re)&&U!==void 0&&!u.hasOwnProperty(Re)&&wr(t,o,Re,void 0,u,U);for(B in u)U=u[B],k=s[B],!u.hasOwnProperty(B)||U===k||U===void 0&&k===void 0||wr(t,o,B,U,u,k);return}}for(var R in s)U=s[R],s.hasOwnProperty(R)&&U!=null&&!u.hasOwnProperty(R)&&we(t,o,R,null,u,U);for(J in u)U=u[J],k=s[J],!u.hasOwnProperty(J)||U===k||U==null&&k==null||we(t,o,J,U,u,k)}var Rr=null,br=null;function es(t){return t.nodeType===9?t:t.ownerDocument}function $d(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xd(t,o){if(t===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&o==="foreignObject"?0:t}function Dr(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ir=null;function X0(){var t=window.event;return t&&t.type==="popstate"?t===Ir?!1:(Ir=t,!0):(Ir=null,!1)}var Qd=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,Z0=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(t){return Zd.resolve(null).then(t).catch(W0)}:Qd;function W0(t){setTimeout(function(){throw t})}function Cn(t){return t==="head"}function Wd(t,o){var s=o,u=0,f=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<u&&8>u){s=u;var S=t.ownerDocument;if(s&1&&Pi(S.documentElement),s&2&&Pi(S.body),s&4)for(s=S.head,Pi(s),S=s.firstChild;S;){var E=S.nextSibling,_=S.nodeName;S[Wo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&S.rel.toLowerCase()==="stylesheet"||s.removeChild(S),S=E}}if(f===0){t.removeChild(p),Ji(o);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:u=s.charCodeAt(0)-48;else u=0;s=p}while(s);Ji(o)}function Ur(t){var o=t.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var s=o;switch(o=o.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ur(s),qs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function j0(t,o,s,u){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Wo])switch(o){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(o==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=It(t.nextSibling),t===null)break}return null}function ey(t,o,s){if(o==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=It(t.nextSibling),t===null))return null;return t}function kr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ty(t,o){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")o();else{var u=function(){o(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function It(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return t}var Lr=null;function jd(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return t;o--}else s==="/$"&&o++}t=t.previousSibling}return null}function em(t,o,s){switch(o=es(s),t){case"html":if(t=o.documentElement,!t)throw Error(l(452));return t;case"head":if(t=o.head,!t)throw Error(l(453));return t;case"body":if(t=o.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Pi(t){for(var o=t.attributes;o.length;)t.removeAttributeNode(o[0]);qs(t)}var wt=new Map,tm=new Set;function ts(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var en=W.d;W.d={f:ny,r:oy,D:iy,C:ly,L:sy,m:ay,X:uy,S:ry,M:cy};function ny(){var t=en.f(),o=Ol();return t||o}function oy(t){var o=Wn(t);o!==null&&o.tag===5&&o.type==="form"?Sf(o):en.r(t)}var Uo=typeof document>"u"?null:document;function nm(t,o,s){var u=Uo;if(u&&typeof o=="string"&&o){var f=St(o);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),tm.has(f)||(tm.add(f),t={rel:t,crossOrigin:s,href:o},u.querySelector(f)===null&&(o=u.createElement("link"),We(o,"link",t),Je(o),u.head.appendChild(o)))}}function iy(t){en.D(t),nm("dns-prefetch",t,null)}function ly(t,o){en.C(t,o),nm("preconnect",t,o)}function sy(t,o,s){en.L(t,o,s);var u=Uo;if(u&&t&&o){var f='link[rel="preload"][as="'+St(o)+'"]';o==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+St(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+St(s.imageSizes)+'"]')):f+='[href="'+St(t)+'"]';var p=f;switch(o){case"style":p=ko(t);break;case"script":p=Lo(t)}wt.has(p)||(t=x({rel:"preload",href:o==="image"&&s&&s.imageSrcSet?void 0:t,as:o},s),wt.set(p,t),u.querySelector(f)!==null||o==="style"&&u.querySelector(qi(p))||o==="script"&&u.querySelector(Gi(p))||(o=u.createElement("link"),We(o,"link",t),Je(o),u.head.appendChild(o)))}}function ay(t,o){en.m(t,o);var s=Uo;if(s&&t){var u=o&&typeof o.as=="string"?o.as:"script",f='link[rel="modulepreload"][as="'+St(u)+'"][href="'+St(t)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Lo(t)}if(!wt.has(p)&&(t=x({rel:"modulepreload",href:t},o),wt.set(p,t),s.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gi(p)))return}u=s.createElement("link"),We(u,"link",t),Je(u),s.head.appendChild(u)}}}function ry(t,o,s){en.S(t,o,s);var u=Uo;if(u&&t){var f=jn(u).hoistableStyles,p=ko(t);o=o||"default";var S=f.get(p);if(!S){var E={loading:0,preload:null};if(S=u.querySelector(qi(p)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":o},s),(s=wt.get(p))&&Vr(t,s);var _=S=u.createElement("link");Je(_),We(_,"link",t),_._p=new Promise(function(D,B){_.onload=D,_.onerror=B}),_.addEventListener("load",function(){E.loading|=1}),_.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ns(S,o,u)}S={type:"stylesheet",instance:S,count:1,state:E},f.set(p,S)}}}function uy(t,o){en.X(t,o);var s=Uo;if(s&&t){var u=jn(s).hoistableScripts,f=Lo(t),p=u.get(f);p||(p=s.querySelector(Gi(f)),p||(t=x({src:t,async:!0},o),(o=wt.get(f))&&Pr(t,o),p=s.createElement("script"),Je(p),We(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function cy(t,o){en.M(t,o);var s=Uo;if(s&&t){var u=jn(s).hoistableScripts,f=Lo(t),p=u.get(f);p||(p=s.querySelector(Gi(f)),p||(t=x({src:t,async:!0,type:"module"},o),(o=wt.get(f))&&Pr(t,o),p=s.createElement("script"),Je(p),We(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function om(t,o,s,u){var f=(f=fe.current)?ts(f):null;if(!f)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(o=ko(s.href),s=jn(f).hoistableStyles,u=s.get(o),u||(u={type:"style",instance:null,count:0,state:null},s.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ko(s.href);var p=jn(f).hoistableStyles,S=p.get(t);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,S),(p=f.querySelector(qi(t)))&&!p._p&&(S.instance=p,S.state.loading=5),wt.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wt.set(t,s),p||fy(f,t,s,S.state))),o&&u===null)throw Error(l(528,""));return S}if(o&&u!==null)throw Error(l(529,""));return null;case"script":return o=s.async,s=s.src,typeof s=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Lo(s),s=jn(f).hoistableScripts,u=s.get(o),u||(u={type:"script",instance:null,count:0,state:null},s.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ko(t){return'href="'+St(t)+'"'}function qi(t){return'link[rel="stylesheet"]['+t+"]"}function im(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function fy(t,o,s,u){t.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=t.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),We(o,"link",s),Je(o),t.head.appendChild(o))}function Lo(t){return'[src="'+St(t)+'"]'}function Gi(t){return"script[async]"+t}function lm(t,o,s){if(o.count++,o.instance===null)switch(o.type){case"style":var u=t.querySelector('style[data-href~="'+St(s.href)+'"]');if(u)return o.instance=u,Je(u),u;var f=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Je(u),We(u,"style",f),ns(u,s.precedence,t),o.instance=u;case"stylesheet":f=ko(s.href);var p=t.querySelector(qi(f));if(p)return o.state.loading|=4,o.instance=p,Je(p),p;u=im(s),(f=wt.get(f))&&Vr(u,f),p=(t.ownerDocument||t).createElement("link"),Je(p);var S=p;return S._p=new Promise(function(E,_){S.onload=E,S.onerror=_}),We(p,"link",u),o.state.loading|=4,ns(p,s.precedence,t),o.instance=p;case"script":return p=Lo(s.src),(f=t.querySelector(Gi(p)))?(o.instance=f,Je(f),f):(u=s,(f=wt.get(p))&&(u=x({},s),Pr(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),Je(f),We(f,"link",u),t.head.appendChild(f),o.instance=f);case"void":return null;default:throw Error(l(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,ns(u,s.precedence,t));return o.instance}function ns(t,o,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,S=0;S<u.length;S++){var E=u[S];if(E.dataset.precedence===o)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(o=s.nodeType===9?s.head:s,o.insertBefore(t,o.firstChild))}function Vr(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.title==null&&(t.title=o.title)}function Pr(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.integrity==null&&(t.integrity=o.integrity)}var os=null;function sm(t,o,s){if(os===null){var u=new Map,f=os=new Map;f.set(s,u)}else f=os,u=f.get(s),u||(u=new Map,f.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var p=s[f];if(!(p[Wo]||p[je]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(o)||"";S=t+S;var E=u.get(S);E?E.push(p):u.set(S,[p])}}return u}function am(t,o,s){t=t.ownerDocument||t,t.head.insertBefore(s,o==="title"?t.querySelector("head > title"):null)}function dy(t,o,s){if(s===1||o.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return t=o.disabled,typeof o.precedence=="string"&&t==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function rm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Hi=null;function my(){}function py(t,o,s){if(Hi===null)throw Error(l(475));var u=Hi;if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ko(s.href),p=t.querySelector(qi(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=is.bind(u),t.then(u,u)),o.state.loading|=4,o.instance=p,Je(p);return}p=t.ownerDocument||t,s=im(s),(f=wt.get(f))&&Vr(s,f),p=p.createElement("link"),Je(p);var S=p;S._p=new Promise(function(E,_){S.onload=E,S.onerror=_}),We(p,"link",s),o.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(o,t),(t=o.state.preload)&&(o.state.loading&3)===0&&(u.count++,o=is.bind(u),t.addEventListener("load",o),t.addEventListener("error",o))}}function hy(){if(Hi===null)throw Error(l(475));var t=Hi;return t.stylesheets&&t.count===0&&qr(t,t.stylesheets),0<t.count?function(o){var s=setTimeout(function(){if(t.stylesheets&&qr(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(s)}}:null}function is(){if(this.count--,this.count===0){if(this.stylesheets)qr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ls=null;function qr(t,o){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ls=new Map,o.forEach(gy,t),ls=null,is.call(t))}function gy(t,o){if(!(o.state.loading&4)){var s=ls.get(t);if(s)var u=s.get(null);else{s=new Map,ls.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var S=f[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),u=S)}u&&s.set(null,u)}f=o.instance,S=f.getAttribute("data-precedence"),p=s.get(S)||u,p===u&&s.set(null,f),s.set(S,f),this.count++,u=is.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),o.state.loading|=4}}var Bi={$$typeof:I,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function yy(t,o,s,u,f,p,S,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.hiddenUpdates=ks(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function um(t,o,s,u,f,p,S,E,_,D,B,J){return t=new yy(t,o,s,S,E,_,D,J),o=1,p===!0&&(o|=24),p=pt(3,null,null,o),t.current=p,p.stateNode=t,o=xa(),o.refCount++,t.pooledCache=o,o.refCount++,p.memoizedState={element:u,isDehydrated:s,cache:o},Ea(p),t}function cm(t){return t?(t=fo,t):fo}function fm(t,o,s,u,f,p){f=cm(f),u.context===null?u.context=f:u.pendingContext=f,u=un(o),u.payload={element:s},p=p===void 0?null:p,p!==null&&(u.callback=p),s=cn(t,u,o),s!==null&&(xt(s,t,o),yi(s,t,o))}function dm(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<o?s:o}}function Gr(t,o){dm(t,o),(t=t.alternate)&&dm(t,o)}function mm(t){if(t.tag===13){var o=co(t,67108864);o!==null&&xt(o,t,67108864),Gr(t,67108864)}}var ss=!0;function vy(t,o,s,u){var f=q.T;q.T=null;var p=W.p;try{W.p=2,Hr(t,o,s,u)}finally{W.p=p,q.T=f}}function xy(t,o,s,u){var f=q.T;q.T=null;var p=W.p;try{W.p=8,Hr(t,o,s,u)}finally{W.p=p,q.T=f}}function Hr(t,o,s,u){if(ss){var f=Br(u);if(f===null)Nr(t,o,u,as,s),hm(t,u);else if(Sy(f,t,o,s,u))u.stopPropagation();else if(hm(t,u),o&4&&-1<Ty.indexOf(t)){for(;f!==null;){var p=Wn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=wn(p.pendingLanes);if(S!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var _=1<<31-dt(S);E.entanglements[1]|=_,S&=~_}Gt(p),(_e&6)===0&&(Yl=kt()+500,ki(0))}}break;case 13:E=co(p,2),E!==null&&xt(E,p,2),Ol(),Gr(p,2)}if(p=Br(u),p===null&&Nr(t,o,u,as,s),p===f)break;f=p}f!==null&&u.stopPropagation()}else Nr(t,o,u,null,s)}}function Br(t){return t=Os(t),Fr(t)}var as=null;function Fr(t){if(as=null,t=Zn(t),t!==null){var o=d(t);if(o===null)t=null;else{var s=o.tag;if(s===13){if(t=m(o),t!==null)return t;t=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null)}}return as=t,null}function pm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lg()){case Nu:return 2;case wu:return 8;case ji:case sg:return 32;case Ru:return 268435456;default:return 32}default:return 32}}var zr=!1,En=null,An=null,_n=null,Fi=new Map,zi=new Map,Mn=[],Ty="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hm(t,o){switch(t){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Fi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(o.pointerId)}}function Yi(t,o,s,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:o,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},o!==null&&(o=Wn(o),o!==null&&mm(o)),t):(t.eventSystemFlags|=u,o=t.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),t)}function Sy(t,o,s,u,f){switch(o){case"focusin":return En=Yi(En,t,o,s,u,f),!0;case"dragenter":return An=Yi(An,t,o,s,u,f),!0;case"mouseover":return _n=Yi(_n,t,o,s,u,f),!0;case"pointerover":var p=f.pointerId;return Fi.set(p,Yi(Fi.get(p)||null,t,o,s,u,f)),!0;case"gotpointercapture":return p=f.pointerId,zi.set(p,Yi(zi.get(p)||null,t,o,s,u,f)),!0}return!1}function gm(t){var o=Zn(t.target);if(o!==null){var s=d(o);if(s!==null){if(o=s.tag,o===13){if(o=m(s),o!==null){t.blockedOn=o,pg(t.priority,function(){if(s.tag===13){var u=vt();u=Ls(u);var f=co(s,u);f!==null&&xt(f,s,u),Gr(s,u)}});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rs(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var s=Br(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Js=u,s.target.dispatchEvent(u),Js=null}else return o=Wn(s),o!==null&&mm(o),t.blockedOn=s,!1;o.shift()}return!0}function ym(t,o,s){rs(t)&&s.delete(o)}function Cy(){zr=!1,En!==null&&rs(En)&&(En=null),An!==null&&rs(An)&&(An=null),_n!==null&&rs(_n)&&(_n=null),Fi.forEach(ym),zi.forEach(ym)}function us(t,o){t.blockedOn===o&&(t.blockedOn=null,zr||(zr=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Cy)))}var cs=null;function vm(t){cs!==t&&(cs=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){cs===t&&(cs=null);for(var o=0;o<t.length;o+=3){var s=t[o],u=t[o+1],f=t[o+2];if(typeof u!="function"){if(Fr(u||s)===null)continue;break}var p=Wn(s);p!==null&&(t.splice(o,3),o-=3,Fa(p,{pending:!0,data:f,method:s.method,action:u},u,f))}}))}function Ji(t){function o(_){return us(_,t)}En!==null&&us(En,t),An!==null&&us(An,t),_n!==null&&us(_n,t),Fi.forEach(o),zi.forEach(o);for(var s=0;s<Mn.length;s++){var u=Mn[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Mn.length&&(s=Mn[0],s.blockedOn===null);)gm(s),s.blockedOn===null&&Mn.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var f=s[u],p=s[u+1],S=f[lt]||null;if(typeof p=="function")S||vm(s);else if(S){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,S=p[lt]||null)E=S.formAction;else if(Fr(f)!==null)continue}else E=S.action;typeof E=="function"?s[u+1]=E:(s.splice(u,3),u-=3),vm(s)}}}function Yr(t){this._internalRoot=t}fs.prototype.render=Yr.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(l(409));var s=o.current,u=vt();fm(s,u,t,o,null,null)},fs.prototype.unmount=Yr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;fm(t.current,2,null,t,null,null),Ol(),o[Qn]=null}};function fs(t){this._internalRoot=t}fs.prototype.unstable_scheduleHydration=function(t){if(t){var o=ku();t={blockedOn:null,target:t,priority:o};for(var s=0;s<Mn.length&&o!==0&&o<Mn[s].priority;s++);Mn.splice(s,0,t),s===0&&gm(t)}};var xm=e.version;if(xm!=="19.1.1")throw Error(l(527,xm,"19.1.1"));W.findDOMNode=function(t){var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=v(o),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var Ey={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{Xo=ds.inject(Ey),ft=ds}catch{}}return Ki.createRoot=function(t,o){if(!c(t))throw Error(l(299));var s=!1,u="",f=Lf,p=Vf,S=Pf,E=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(f=o.onUncaughtError),o.onCaughtError!==void 0&&(p=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(E=o.unstable_transitionCallbacks)),o=um(t,1,!1,null,null,s,u,f,p,S,E,null),t[Qn]=o.current,Mr(t),new Yr(o)},Ki.hydrateRoot=function(t,o,s){if(!c(t))throw Error(l(299));var u=!1,f="",p=Lf,S=Vf,E=Pf,_=null,D=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks),s.formState!==void 0&&(D=s.formState)),o=um(t,1,!0,o,s??null,u,f,p,S,E,_,D),o.context=cm(null),s=o.current,u=vt(),u=Ls(u),f=un(u),f.callback=null,cn(s,f,u),s=u,o.current.lanes=s,Zo(o,s),Gt(o),t[Qn]=o.current,Mr(t),new fs(o)},Ki.version="19.1.1",Ki}var Rm;function ky(){if(Rm)return Kr.exports;Rm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kr.exports=Uy(),Kr.exports}var Ly=ky();const Vy=uh(Ly),Qi=({className:n="h-16 w-16"})=>g.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:"8",y1:"7",x2:"16",y2:"7",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("line",{x1:"8",y1:"11",x2:"13",y2:"11",strokeWidth:"2",strokeLinecap:"round"})]}),As=({className:n="h-8 w-8"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("rect",{x:"9",y:"2",width:"6",height:"11",rx:"3"}),g.jsx("path",{d:"M5 10a7 7 0 0 0 14 0"}),g.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),g.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),Py=({className:n="h-8 w-8"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("circle",{cx:"12",cy:"12",r:"9"}),g.jsx("rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"})]}),qy=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M7 4v16l13 -8z"})]}),pu=({className:n="h-5 w-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("rect",{x:"6",y:"5",width:"4",height:"14",rx:"1"}),g.jsx("rect",{x:"14",y:"5",width:"4",height:"14",rx:"1"})]}),hu=({className:n="h-5 w-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("circle",{cx:"12",cy:"12",r:"9"}),g.jsx("path",{d:"M9 12l2 2l4 -4"})]}),_s=({className:n="h-5 w-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("circle",{cx:"12",cy:"12",r:"9"}),g.jsx("path",{d:"M10 10l4 4m0 -4l-4 4"})]}),zo=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5 5 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),Yo=({className:n="h-4 w-4"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),ch=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),Gy=({className:n="h-5 w-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),Hy=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),gu=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.085a2 2 0 00-1.736.97l-2.714 4.224a2 2 0 00-.233 1.155V12a2 2 0 002 2h4a2 2 0 002-2v-2z"})}),yu=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),vu=({className:n="h-6 w-6"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066 2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),By=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Fy=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-1a6 6 0 00-5.176-5.97M15 21H9"})}),fh=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ts=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),dh=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})}),zy=({className:n="h-6 w-6"})=>g.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),g.jsx("path",{d:"M2 8h14v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),g.jsx("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),g.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),g.jsx("line",{x1:"14",y1:"1",x2:"14",y2:"4"})]}),Yy=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Jy=({className:n="h-5 w-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a7.5 7.5 0 0 1-3 0m3 0a7.5 7.5 0 0 0-3 0m.75 4.5l.75-4.5m-1.5 4.5l-.75-4.5M3.75 12a7.5 7.5 0 0 1 15 0v2.25h-15V12z"})}),Oy=({className:n="h-5 w-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:[g.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),g.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 0 1 .665 6.479A11.952 11.952 0 0 0 12 20.055a11.952 11.952 0 0 0-6.824-2.998 12.078 12.078 0 0 1 .665-6.479L12 14z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14v6m-6-3h12"})]}),Ky=({className:n="h-5 w-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"currentColor",children:[g.jsx("path",{fillRule:"evenodd",d:"M4.804 21.644A6.707 6.707 0 0 0 6 21.75a6.75 6.75 0 0 0 6.75-6.75v-2.5a.75.75 0 0 1 1.5 0v2.5a8.25 8.25 0 0 1-8.25 8.25c-1.33 0-2.6-.36-3.75-.98a.75.75 0 0 1 -.304-1.063 4.991 4.991 0 0 1 1.408-1.543Z",clipRule:"evenodd"}),g.jsx("path",{fillRule:"evenodd",d:"M9 2.25a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM6.166 4.125a.75.75 0 0 1 .832.668l.25 2.5a.75.75 0 0 1-1.498.164l-.25-2.5a.75.75 0 0 1 .666-.832Zm8.498-.002a.75.75 0 0 1 .668.832l-.25 2.5a.75.75 0 1 1-1.498-.164l.25-2.5a.75.75 0 0 1 .83-.668ZM15.75 3c.414 0 .75.336.75.75v3.5a.75.75 0 0 1-1.5 0V3.75a.75.75 0 0 1 .75-.75ZM4.5 12.75a.75.75 0 0 1 .75-.75h13.5a.75.75 0 0 1 0 1.5H5.25a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})]}),mh=({className:n="h-5 w-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),ph=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),$y=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Xy=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0-5.655-2.253a9.38 9.38 0 0 0-5.655 2.253M15 19.128v-3.873a3.375 3.375 0 0 0-3.375-3.375h-1.5a3.375 3.375 0 0 0-3.375 3.375v3.873M15 19.128a2.25 2.25 0 0 1-2.25 2.25h-1.5a2.25 2.25 0 0 1-2.25-2.25M18.75 14.25a3.375 3.375 0 1 0-6.75 0 3.375 3.375 0 0 0 6.75 0Z"})}),Qy=({className:n="h-5 w-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),bm=({className:n="h-5 w-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.036-2.134H8.718c-1.126 0-2.037.954-2.037 2.134v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),hh=({className:n="h-5 w-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),Zy=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),Wy=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),jy=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),ev=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),tv=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})}),nv=({className:n="h-6 w-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),ov=({user:n,onLogout:e})=>g.jsx("header",{className:"bg-white border-b border-slate-200 z-20 sticky top-0",children:g.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{children:g.jsx(Qi,{className:"w-14 h-14 text-teal-600"})}),g.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 ml-3",children:"Linguacare"})]}),n&&g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-slate-600 hidden sm:block",children:["Welcome, ",g.jsx("span",{className:"font-semibold",children:n.name})]}),g.jsx("button",{onClick:e,className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 transition-colors text-sm","aria-label":"Log out",children:"Log Out"})]})]})}),iv=({onSelectRole:n})=>g.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[g.jsxs("div",{className:"text-center mb-10 animate-fade-in-up",children:[g.jsx(Qi,{className:"w-24 h-24 text-teal-600 mx-auto"}),g.jsx("h1",{className:"text-4xl font-bold text-slate-800 mt-4",children:"Welcome to Linguacare"}),g.jsx("p",{className:"text-slate-600 mt-2 text-lg",children:"Your voice, our care."})]}),g.jsx("div",{className:"w-full max-w-md space-y-6 animate-fade-in-up",style:{animationDelay:"200ms"},children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-4",children:[g.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800",children:"Choose your login"}),g.jsxs("button",{onClick:()=>n("user"),className:"w-full flex items-center gap-4 p-5 rounded-lg bg-slate-100 hover:bg-white hover:shadow-lg hover:-translate-y-1 border-2 border-transparent hover:border-teal-400 transition-all group duration-300",children:[g.jsx(fh,{className:"w-10 h-10 text-slate-500 group-hover:text-teal-600"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-800 text-left",children:"Patient / User Login"}),g.jsx("p",{className:"text-sm text-slate-600 text-left",children:"Access your exercises and track your progress."})]})]}),g.jsxs("button",{onClick:()=>n("admin"),className:"w-full flex items-center gap-4 p-5 rounded-lg bg-slate-100 hover:bg-white hover:shadow-lg hover:-translate-y-1 border-2 border-transparent hover:border-teal-400 transition-all group duration-300",children:[g.jsx(ph,{className:"w-10 h-10 text-slate-500 group-hover:text-teal-600"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-800 text-left",children:"Therapist / Admin Login"}),g.jsx("p",{className:"text-sm text-slate-600 text-left",children:"Manage patients and review sessions."})]})]})]})}),g.jsx("footer",{className:"text-center text-xs text-slate-400 mt-8",children:g.jsxs("p",{children:[" ",new Date().getFullYear()," Linguacare. All rights reserved."]})})]}),Dm=[{name:"Patient",role:"user",email:"patient@linguacare.com"},{name:"Admin",role:"admin",email:"admin@linguacare.com"}],lv=({role:n,onLogin:e,onBack:i})=>{const[l,c]=F.useState(""),[d,m]=F.useState(n==="admin"?"admin@linguacare.com":"patient@linguacare.com"),[y,v]=F.useState(""),[h,x]=F.useState(""),T=n==="admin"?"Therapist / Admin Sign In":"Patient / User Sign In",C=Dm.find(w=>w.role===n),M=w=>{w.preventDefault(),x("");const L=Dm.find(G=>G.email.toLowerCase()===d.toLowerCase());if(L&&L.role===n&&y){const G={...L,name:l.trim()||L.name};e(G)}else x("Invalid credentials for this role. Please try again.")};return g.jsxs("div",{className:"min-h-screen bg-slate-50 md:grid md:grid-cols-2",children:[g.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center bg-gradient-to-br from-teal-500 to-cyan-600 p-12 text-white text-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-white/10 rounded-full animate-float",style:{animationDelay:"0s"}}),g.jsx("div",{className:"absolute -bottom-24 -right-16 w-80 h-80 bg-white/10 rounded-full animate-float",style:{animationDelay:"2s"}}),g.jsxs("div",{className:"relative z-10 animate-fade-in-up",children:[g.jsx(Qi,{className:"w-32 h-32"}),g.jsx("h1",{className:"text-5xl font-bold mt-6",children:"Linguacare"}),g.jsx("p",{className:"mt-4 text-xl opacity-90",children:"Your voice, our care."})]})]}),g.jsx("div",{className:"flex flex-col items-center justify-center p-6 md:p-8",children:g.jsxs("div",{className:"w-full max-w-md space-y-8",children:[g.jsxs("div",{className:"text-center md:hidden animate-fade-in-up",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(Qi,{className:"w-20 h-20 text-teal-600"})}),g.jsx("h1",{className:"text-3xl font-bold text-slate-800 mt-4",children:"Welcome to Linguacare"})]}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6 relative",children:[g.jsx("button",{onClick:i,className:"absolute top-4 left-4 p-2 text-slate-500 hover:text-slate-800 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Go back to role selection",children:g.jsx(nv,{className:"h-6 w-6"})}),g.jsx("div",{className:"text-center animate-fade-in-up",style:{animationDelay:"100ms"},children:g.jsx("h2",{id:"login-title",className:"text-2xl font-bold text-slate-800",children:T})}),g.jsxs("form",{onSubmit:M,className:"space-y-4","aria-labelledby":"login-title",children:[g.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"200ms"},children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Full Name (Optional)"}),g.jsx("input",{type:"text",id:"name",value:l,onChange:w=>c(w.target.value),className:"mt-1 block w-full px-4 py-2.5 border border-slate-300 rounded-lg shadow-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 transition",placeholder:(C==null?void 0:C.name)||"John Doe"})]}),g.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"300ms"},children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email Address"}),g.jsx("input",{type:"email",id:"email",value:d,onChange:w=>m(w.target.value),className:"mt-1 block w-full px-4 py-2.5 border border-slate-300 rounded-lg shadow-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 transition",placeholder:"you@example.com",required:!0})]}),g.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"400ms"},children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),g.jsx("input",{type:"password",id:"password",value:y,onChange:w=>v(w.target.value),className:"mt-1 block w-full px-4 py-2.5 border border-slate-300 rounded-lg shadow-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 transition",placeholder:"",required:!0})]}),h&&g.jsx("p",{className:"text-sm text-red-600 text-center pt-1 animate-fade-in-up",style:{animationDelay:"450ms"},children:h}),g.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"500ms"},children:g.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-teal-700 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 transform hover:scale-[1.02] active:scale-100",children:"Log In"})}),g.jsxs("div",{className:"text-xs text-slate-500 text-center pt-2 space-y-1 animate-fade-in-up",style:{animationDelay:"600ms"},children:[g.jsxs("p",{children:["For demo purposes, use email:",g.jsx("br",{}),g.jsx("span",{className:"font-mono bg-slate-100 px-1 rounded",children:C==null?void 0:C.email})]}),g.jsx("p",{children:"(any password works)"})]})]})]}),g.jsx("footer",{className:"text-center text-xs text-slate-400",children:g.jsxs("p",{children:[" ",new Date().getFullYear()," Linguacare. All rights reserved."]})})]})})]})},sv=[{id:"dashboard",label:"Dashboard",icon:Hy},{id:"exercises",label:"Exercises",icon:gu},{id:"schedule",label:"Schedule",icon:yu},{id:"settings",label:"Settings",icon:vu}],av=[{id:"admin_panel",label:"Admin Panel",icon:ph},{id:"schedule",label:"Schedule",icon:yu},{id:"settings",label:"Settings",icon:vu}],rv=({user:n,activePage:e,onNavigate:i})=>{const l=n.role==="admin"?av:sv,c=d=>{const m=e===d.id;return g.jsxs("button",{onClick:()=>i(d.id),className:`relative w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-base font-medium transition-all duration-200 ease-in-out group ${m?"bg-teal-50 text-teal-700 font-semibold":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,"aria-current":m?"page":void 0,children:[m&&g.jsx("div",{className:"absolute left-0 h-6 w-1 bg-teal-500 rounded-r-full"}),g.jsx(d.icon,{"aria-hidden":"true",className:`h-6 w-6 transition-transform group-hover:scale-110 ${m?"text-teal-600":"text-slate-500"}`}),d.label]},d.id)};return g.jsx("aside",{className:"w-64 bg-white shadow-lg flex-shrink-0 z-10 hidden md:flex md:flex-col",children:g.jsx("div",{className:"p-4",children:g.jsx("nav",{className:"space-y-2",children:l.map(c)})})})};let nt=null,nu=!1;const uv=()=>{if(nt===null&&typeof window<"u")try{nt=new(window.AudioContext||window.webkitAudioContext)}catch(n){console.error("Web Audio API is not supported in this browser.",n)}},cv=()=>{nu||(uv(),nu=!0),nt&&nt.state==="suspended"&&nt.resume()},Vo=(n,e,i="sine")=>{if(!nt||!nu||nt.state!=="running")return;const l=nt.createOscillator(),c=nt.createGain();l.connect(c),c.connect(nt.destination),l.type=i,l.frequency.setValueAtTime(n,nt.currentTime),c.gain.setValueAtTime(1e-4,nt.currentTime),c.gain.exponentialRampToValueAtTime(.2,nt.currentTime+.02),c.gain.exponentialRampToValueAtTime(1e-4,nt.currentTime+e),l.start(nt.currentTime),l.stop(nt.currentTime+e)},ms={playClick:()=>{Vo(2200,.08,"triangle")},playSuccess:()=>{Vo(1200,.1,"sine"),setTimeout(()=>Vo(1500,.15,"sine"),80)},playError:()=>{Vo(300,.15,"square"),setTimeout(()=>Vo(200,.2,"square"),100)},playNotification:()=>{Vo(1800,.1,"sine")}},gh=()=>({playClick:ms.playClick,playSuccess:ms.playSuccess,playError:ms.playError,playNotification:ms.playNotification}),Zr=({user:n,onNavigate:e})=>{const[i,l]=F.useState([]),[c,d]=F.useState([]),[m,y]=F.useState([]),[v,h]=F.useState(null),{playNotification:x}=gh(),[T,C]=F.useState(""),[M,w]=F.useState("all"),[L,G]=F.useState("all");F.useEffect(()=>{const I="linguacare_exercise_history",X="linguacare_admin_feedback";try{const V=localStorage.getItem(I);if(V){const j=JSON.parse(V).filter(Z=>Z.userEmail===n.email);l(j)}const H=localStorage.getItem(X);if(H){const j=JSON.parse(H).filter(Z=>Z.userEmail===n.email);d(j),j.some(Z=>!Z.read)&&x()}}catch(V){console.error("Failed to load data from localStorage",V)}},[n.email,x]),F.useEffect(()=>{let I=[...i];if(T.trim()!==""&&(I=I.filter(X=>X.phrase.toLowerCase().includes(T.toLowerCase()))),M!=="all"&&(I=I.filter(X=>M==="good"?X.score>=75:M==="okay"?X.score>=50&&X.score<75:M==="bad"?X.score<50:!0)),L!=="all"){const X=new Date,V=L==="7days"?7:30,H=new Date;H.setDate(X.getDate()-V),I=I.filter(Q=>new Date(Q.date)>=H)}y(I)},[i,T,M,L]);const Y=I=>{const X=c.map(V=>V.id===I?{...V,read:!0}:V);d(X);try{localStorage.setItem("linguacare_admin_feedback",JSON.stringify(X))}catch(V){console.error("Failed to save feedback status to localStorage",V)}},O=c.filter(I=>!I.read);return g.jsx("div",{className:"animate-fade-in",children:g.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-8",children:[g.jsxs("div",{className:"animate-fade-in",children:[g.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:["Welcome back, ",g.jsx("span",{className:"text-teal-600",children:n.name}),"!"]}),g.jsx("p",{className:"text-slate-600 mt-1",children:"Here's a quick overview of your activities."})]}),O.length>0&&g.jsxs("div",{className:"space-y-4 animate-fade-in",style:{animationDelay:"100ms"},children:[g.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Feedback from Your Therapist"}),g.jsx("div",{className:"space-y-3",children:O.map(I=>g.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg flex items-start gap-4",children:[g.jsx(mh,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-0.5"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-semibold text-blue-800",children:"New Message"}),g.jsx("p",{className:"text-blue-700 text-sm mt-1",children:I.message}),g.jsx("p",{className:"text-xs text-blue-500 mt-2",children:new Date(I.date).toLocaleString()})]}),g.jsx("button",{onClick:()=>Y(I.id),className:"p-1.5 text-blue-500 hover:text-blue-800 hover:bg-blue-100 rounded-full transition-colors","aria-label":"Dismiss feedback",children:g.jsx(Yo,{className:"h-5 w-5"})})]},I.id))})]}),g.jsxs("div",{className:"space-y-4 animate-fade-in",style:{animationDelay:"200ms"},children:[g.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Quick Actions"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.jsx("button",{onClick:()=>e("exercises"),className:"bg-white p-6 rounded-xl text-left shadow-md hover:shadow-xl hover:-translate-y-1 transition-all group border border-slate-200",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"bg-teal-100 text-teal-600 p-3 rounded-full group-hover:scale-110 transition-transform",children:g.jsx(gu,{})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Start an Exercise"}),g.jsx("p",{className:"text-slate-600 text-sm",children:"Choose from pronunciation, listening, and more."})]})]})})})]}),g.jsxs("div",{className:"space-y-4 pt-4 animate-fade-in",style:{animationDelay:"300ms"},children:[g.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Recent Practice Sessions"}),i.length>0&&g.jsxs("div",{className:"bg-white p-4 rounded-xl space-y-3 md:space-y-0 md:flex md:items-center md:gap-4 border border-slate-200",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{htmlFor:"phrase-filter",className:"block text-sm font-medium text-slate-600 mb-1",children:"Filter by phrase"}),g.jsx("input",{id:"phrase-filter",type:"text",value:T,onChange:I=>C(I.target.value),placeholder:"e.g., 'seashells'",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"score-filter",className:"block text-sm font-medium text-slate-600 mb-1",children:"By score"}),g.jsxs("select",{id:"score-filter",value:M,onChange:I=>w(I.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[g.jsx("option",{value:"all",children:"All Scores"}),g.jsx("option",{value:"good",children:"Good (75+)"}),g.jsx("option",{value:"okay",children:"Okay (50-74)"}),g.jsx("option",{value:"bad",children:"Needs Work (<50)"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"date-filter",className:"block text-sm font-medium text-slate-600 mb-1",children:"By date"}),g.jsxs("select",{id:"date-filter",value:L,onChange:I=>G(I.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[g.jsx("option",{value:"all",children:"All Time"}),g.jsx("option",{value:"7days",children:"Last 7 Days"}),g.jsx("option",{value:"30days",children:"Last 30 Days"})]})]})]}),i.length>0?m.length>0?g.jsx("div",{className:"space-y-3",children:m.slice(0,5).map(I=>{const X=v===I.id,V=I.score>=75?"bg-green-500":I.score>=50?"bg-yellow-500":"bg-red-500";return g.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl transition-all hover:shadow-md hover:border-teal-200 overflow-hidden",children:[g.jsxs("button",{onClick:()=>h(X?null:I.id),className:"w-full p-4 flex items-center justify-between gap-4 text-left","aria-expanded":X,"aria-controls":`history-details-${I.id}`,children:[g.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("div",{className:`flex items-center justify-center w-14 h-14 rounded-full text-white font-bold text-xl ${V}`,children:I.score})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"font-semibold text-slate-800 truncate",children:['"',I.phrase,'"']}),g.jsx("p",{className:"text-sm text-slate-500",children:new Date(I.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),g.jsx(ch,{className:`h-5 w-5 text-slate-400 transition-transform flex-shrink-0 ${X?"rotate-180":""}`})]}),X&&I.feedback&&g.jsxs("div",{id:`history-details-${I.id}`,role:"region",className:"p-4 bg-slate-50 border-t border-slate-200 space-y-4 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-slate-700 text-sm",children:"Feedback Summary:"}),g.jsxs("p",{className:"text-slate-600 text-sm italic",children:['"',I.feedback.summary,'"']})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-slate-700 text-sm mb-2",children:"Word Analysis:"}),g.jsx("div",{className:"space-y-1.5",children:I.feedback.wordAnalysis.map((H,Q)=>g.jsxs("div",{className:`flex items-start gap-2 text-sm ${H.isCorrect?"text-green-700":"text-red-700"}`,children:[g.jsx("div",{className:"flex-shrink-0 mt-0.5",children:H.isCorrect?g.jsx(hu,{className:"h-4 w-4"}):g.jsx(_s,{className:"h-4 w-4"})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:H.word}),!H.isCorrect&&H.tip&&g.jsxs("span",{className:"text-slate-600 ml-2 font-normal",children:['- "',H.tip,'"']})]})]},Q))})]})]})]},I.id)})}):g.jsx("div",{className:"bg-slate-100 p-6 rounded-lg text-center",children:g.jsx("p",{className:"text-slate-600",children:"No sessions match your current filters."})}):g.jsxs("div",{className:"bg-slate-100 p-6 rounded-lg text-center",children:[g.jsx("p",{className:"text-slate-600",children:"You haven't completed any exercises yet."}),g.jsx("button",{onClick:()=>e("exercises"),className:"mt-4 bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors text-sm",children:"Start Your First Exercise"})]})]})]})})},fv=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.636 5.636a9 9 0 0112.728 0M18.364 18.364A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),Im=[{id:"english",label:"English"},{id:"tamil",label:""},{id:"malayalam",label:""}],dv=[{id:"kids",label:"Kids",icon:By},{id:"adults",label:"Adults",icon:Fy}],mv=[{id:"easy",label:"Easy",color:"bg-green-200 text-green-800"},{id:"medium",label:"Medium",color:"bg-yellow-200 text-yellow-800"},{id:"hard",label:"Hard",color:"bg-red-200 text-red-800"}],Um=({title:n,description:e,icon:i,page:l,onStart:c,colorClass:d,language:m})=>{const[y,v]=F.useState("kids"),[h,x]=F.useState("easy"),T=()=>{c(l,{language:m,ageGroup:y,difficulty:h})};return g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg flex flex-col justify-between space-y-6 transition-all transform hover:shadow-xl hover:-translate-y-1.5 border border-transparent hover:border-teal-300",children:[g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:`${d} p-3 rounded-full`,children:i}),g.jsxs("div",{children:[g.jsx("h2",{className:"font-bold text-lg text-teal-800",children:n}),g.jsx("p",{className:"text-slate-600 text-sm",children:e})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{role:"group","aria-labelledby":`age-group-label-${l}`,children:[g.jsx("span",{id:`age-group-label-${l}`,className:"block text-sm font-medium text-slate-700 mb-2",children:"Age Group"}),g.jsx("div",{className:"grid grid-cols-2 gap-2",children:dv.map(C=>g.jsxs("button",{onClick:()=>v(C.id),"aria-pressed":y===C.id,className:`flex items-center justify-center gap-2 p-2.5 rounded-lg border-2 transition-colors ${y===C.id?"bg-teal-50 border-teal-500 text-teal-800":"bg-slate-50 border-slate-200 text-slate-600 hover:border-slate-300"}`,children:[g.jsx(C.icon,{className:"h-5 w-5","aria-hidden":"true"}),g.jsx("span",{className:"font-semibold",children:C.label})]},C.id))})]}),g.jsxs("div",{role:"group","aria-labelledby":`difficulty-label-${l}`,children:[g.jsx("span",{id:`difficulty-label-${l}`,className:"block text-sm font-medium text-slate-700 mb-2",children:"Difficulty"}),g.jsx("div",{className:"grid grid-cols-3 gap-2",children:mv.map(C=>g.jsx("button",{onClick:()=>x(C.id),"aria-pressed":h===C.id,className:`px-3 py-2 rounded-lg font-semibold text-sm transition-transform ${h===C.id?`ring-2 ring-offset-1 ring-teal-500 ${C.color} scale-105`:`${C.color.replace(/bg-(.+)-200/,"bg-$1-100")} ${C.color.replace("bg-","text-")}`}`,children:C.label},C.id))})]})]}),g.jsx("button",{onClick:T,className:`${d} text-white font-bold py-3 px-6 rounded-lg w-full hover:opacity-90 transition-opacity`,children:"Start Practice"})]})},pv=({onNavigate:n})=>{var l;const[e,i]=F.useState(null);return g.jsx("div",{className:"animate-fade-in",children:g.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:e?"Select an Exercise":"Choose Your Practice"}),g.jsx("p",{className:"text-slate-600 mt-1",children:e?"Now, choose an activity and set your level to begin.":"Select a language to begin your session."})]}),e?g.jsxs("div",{className:"animate-fade-in space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-md border border-slate-200",children:[g.jsxs("p",{className:"font-medium text-slate-700",children:["Selected Language: ",g.jsx("span",{className:"font-bold text-teal-600",children:(l=Im.find(c=>c.id===e))==null?void 0:l.label})]}),g.jsx("button",{onClick:()=>i(null),className:"text-sm font-semibold text-teal-600 hover:underline transition-colors",children:"Change Language"})]}),g.jsx("div",{children:g.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Select an Exercise"})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsx(Um,{title:"Pronunciation Practice",description:"Practice saying phrases and get instant feedback.",icon:g.jsx(As,{}),page:"pronunciation_exercise",onStart:n,colorClass:"bg-teal-600",language:e}),g.jsx(Um,{title:"Listening Skills",description:"Listen to a phrase and select the correct words.",icon:g.jsx(fv,{}),page:"listening_exercise",onStart:n,colorClass:"bg-teal-600",language:e})]})]}):g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-200 animate-fade-in",children:[g.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Choose a Language"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:Im.map(c=>g.jsx("button",{onClick:()=>i(c.id),className:"px-4 py-8 rounded-lg font-semibold text-2xl transition-all border-2 flex items-center justify-center transform focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 bg-slate-50 border-slate-200 text-slate-700 hover:border-teal-400 hover:bg-teal-50 hover:text-teal-700 hover:scale-105",children:c.label},c.id))})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hv,gv;function yv(){return{geminiUrl:hv,vertexUrl:gv}}function vv(n,e,i,l){var c,d;if(!(n!=null&&n.baseUrl)){const m=yv();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:i:(d=m.geminiUrl)!==null&&d!==void 0?d:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $n{}function te(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(l,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,i){for(let d=0;d<e.length-1;d++){const m=e[d];if(m.endsWith("[]")){const y=m.slice(0,-2);if(!(y in n))if(Array.isArray(i))n[y]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[y])){const v=n[y];if(Array.isArray(i))for(let h=0;h<v.length;h++){const x=v[h];r(x,e.slice(d+1),i[h])}else for(const h of v)r(h,e.slice(d+1),i)}return}else if(m.endsWith("[0]")){const y=m.slice(0,-3);y in n||(n[y]=[{}]);const v=n[y];r(v[0],e.slice(d+1),i);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const l=e[e.length-1],c=n[l];if(c!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===c)return;if(typeof c=="object"&&typeof i=="object"&&c!==null&&i!==null)Object.assign(c,i);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[l]=i}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return;const l=e[i];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(m=>a(m,e.slice(i+1))):void 0}else return}else n=n[l]}return n}catch(i){if(i instanceof TypeError)return;throw i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xv(n){const e={},i=a(n,["operationName"]);i!=null&&r(e,["_url","operationName"],i);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function Tv(n){const e={},i=a(n,["operationName"]);i!=null&&r(e,["operationName"],i);const l=a(n,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const c=a(n,["config"]);return c!=null&&r(e,["config"],c),e}function Sv(n){const e={},i=a(n,["operationName"]);i!=null&&r(e,["_url","operationName"],i);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function Cv(n){const e={},i=a(n,["video","uri"]);i!=null&&r(e,["uri"],i);const l=a(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],xu(l));const c=a(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function Ev(n){const e={},i=a(n,["_self"]);return i!=null&&r(e,["video"],Cv(i)),e}function Av(n){const e={},i=a(n,["generatedSamples"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>Ev(m))),r(e,["generatedVideos"],d)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function _v(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],Av(m)),e}function Mv(n){const e={},i=a(n,["gcsUri"]);i!=null&&r(e,["uri"],i);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],xu(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Nv(n){const e={},i=a(n,["_self"]);return i!=null&&r(e,["video"],Mv(i)),e}function wv(n){const e={},i=a(n,["videos"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>Nv(m))),r(e,["generatedVideos"],d)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Rv(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response"]);return m!=null&&r(e,["response"],wv(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var km;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(km||(km={}));var Lm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Lm||(Lm={}));var be;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(be||(be={}));var Vm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Vm||(Vm={}));var Pm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Pm||(Pm={}));var qm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(qm||(qm={}));var Gm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Gm||(Gm={}));var Hm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Hm||(Hm={}));var Bm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bm||(Bm={}));var Fm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Fm||(Fm={}));var zm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(zm||(zm={}));var Ym;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Ym||(Ym={}));var Jm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jm||(Jm={}));var Om;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Om||(Om={}));var Km;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Km||(Km={}));var Ss;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ss||(Ss={}));var $m;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})($m||($m={}));var ou;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ou||(ou={}));var Xm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Xm||(Xm={}));var Qm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Qm||(Qm={}));var Zm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Zm||(Zm={}));var Wm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Wm||(Wm={}));var jm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(jm||(jm={}));var ep;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ep||(ep={}));var tp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(tp||(tp={}));var np;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(np||(np={}));var op;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(op||(op={}));var ip;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(ip||(ip={}));var lp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lp||(lp={}));var sp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sp||(sp={}));var ap;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ap||(ap={}));var rp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rp||(rp={}));var up;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(up||(up={}));var cp;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(cp||(cp={}));var fp;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(fp||(fp={}));var dp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(dp||(dp={}));var mp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(mp||(mp={}));var pp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(pp||(pp={}));var hp;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hp||(hp={}));var gp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(gp||(gp={}));var yp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yp||(yp={}));var vp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vp||(vp={}));var xp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(xp||(xp={}));var Tp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Tp||(Tp={}));var Sp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Sp||(Sp={}));var Cp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Cp||(Cp={}));var Ep;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Ep||(Ep={}));var Go;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Go||(Go={}));class iu{constructor(e){const i={};for(const l of e.headers.entries())i[l[0]]=l[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class $i{get text(){var e,i,l,c,d,m,y,v;if(((c=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const T=[];for(const C of(v=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[M,w]of Object.entries(C))M!=="text"&&M!=="thought"&&(w!==null||w!==void 0)&&T.push(M);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;x=!0,h+=C.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var e,i,l,c,d,m,y,v;if(((c=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const T of(v=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[C,M]of Object.entries(T))C!=="inlineData"&&(M!==null||M!==void 0)&&x.push(C);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,l,c,d,m,y,v;if(((c=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(v=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,i,l,c,d,m,y,v,h;if(((c=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,l,c,d,m,y,v,h;if(((c=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class Ap{}class _p{}class bv{}class Dv{}class Iv{}class Uv{}class Mp{}class Np{}class wp{}class kv{}class Cs{_fromAPIResponse({apiResponse:e,isVertexAI:i}){const l=new Cs;let c;const d=e;return i?c=Rv(d):c=_v(d),Object.assign(l,c),l}}class Rp{}class bp{}class Dp{}class Lv{}class Vv{}class Pv{}class Ip{}class qv{get text(){var e,i,l;let c="",d=!1;const m=[];for(const y of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[v,h]of Object.entries(y))v!=="text"&&v!=="thought"&&h!==null&&m.push(v);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;d=!0,c+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,i,l;let c="";const d=[];for(const m of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(m))y!=="inlineData"&&v!==null&&d.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class Gv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ee(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function yh(n,e){const i=Ee(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function vh(n){return Array.isArray(n)?n.map(e=>Es(e)):[Es(n)]}function Es(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function xh(n){const e=Es(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Th(n){const e=Es(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Up(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Sh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Up(e)):[Up(n)]}function lu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function kp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Lp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ot(n){if(n==null)throw new Error("ContentUnion is required");return lu(n)?n:{role:"user",parts:Sh(n)}}function Tu(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const l=ot(i);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const i=ot(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>ot(i)):[ot(e)]}function Rt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(kp(n)||Lp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ot(n)]}const e=[],i=[],l=lu(n[0]);for(const c of n){const d=lu(c);if(d!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(kp(c)||Lp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(c)}}return l||e.push({role:"user",parts:Sh(i)}),e}function Hv(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(l=>l!=="null");if(i.length===1)e.type=Object.values(be).includes(i[0].toUpperCase())?i[0].toUpperCase():be.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of i)e.anyOf.push({type:Object.values(be).includes(l.toUpperCase())?l.toUpperCase():be.TYPE_UNSPECIFIED})}}function Ho(n){const e={},i=["items"],l=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&Hv(n.type,e);for(const[m,y]of Object.entries(n))if(y!=null)if(m=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;e.type=Object.values(be).includes(y.toUpperCase())?y.toUpperCase():be.TYPE_UNSPECIFIED}else if(i.includes(m))e[m]=Ho(y);else if(l.includes(m)){const v=[];for(const h of y){if(h.type=="null"){e.nullable=!0;continue}v.push(Ho(h))}e[m]=v}else if(c.includes(m)){const v={};for(const[h,x]of Object.entries(y))v[h]=Ho(x);e[m]=v}else{if(m==="additionalProperties")continue;e[m]=y}return e}function Su(n){return Ho(n)}function Cu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Eu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Jo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ho(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ho(e.response));return n}function Oo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function Bv(n,e,i,l=1){const c=!e.startsWith(`${i}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:c?`${i}/${e}`:e}function tn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Bv(n,e,"cachedContents")}function Ch(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Xn(n){return xu(n)}function Fv(n){return n!=null&&typeof n=="object"&&"name"in n}function zv(n){return n!=null&&typeof n=="object"&&"video"in n}function Yv(n){return n!=null&&typeof n=="object"&&"uri"in n}function Eh(n){var e;let i;if(Fv(n)&&(i=n.name),!(Yv(n)&&(i=n.uri,i===void 0))&&!(zv(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const c=i.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${i}`);i=c[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Ah(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function _h(n){for(const e of["models","tunedModels","publisherModels"])if(Jv(n,e))return n[e];return[]}function Jv(n,e){return n!==null&&typeof n=="object"&&e in n}function Ov(n,e={}){const i=n,l={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(l.responseJsonSchema=i.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function Kv(n,e={}){const i=[],l=new Set;for(const c of n){const d=c.name;if(l.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);l.add(d);const m=Ov(c,e);m.functionDeclarations&&i.push(...m.functionDeclarations)}return{functionDeclarations:i}}function Mh(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const l=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,c=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(c>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||c!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function $v(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Nh(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const c=i.inlinedResponses;if(!Array.isArray(c)||c.length===0)return n;let d=!1;for(const m of c){if(typeof m!="object"||m===null)continue;const v=m.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ko(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function wh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xv(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Qv(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["data"]);i!=null&&r(e,["data"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Zv(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Wv(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function jv(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],Xv(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],Qv(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],Zv(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],Wv(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function Rh(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>jv(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function ex(n){const e={},i=a(n,["anyOf"]);i!=null&&r(e,["anyOf"],i);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["enum"]);d!=null&&r(e,["enum"],d);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const y=a(n,["format"]);y!=null&&r(e,["format"],y);const v=a(n,["items"]);v!=null&&r(e,["items"],v);const h=a(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const x=a(n,["maxLength"]);x!=null&&r(e,["maxLength"],x);const T=a(n,["maxProperties"]);T!=null&&r(e,["maxProperties"],T);const C=a(n,["maximum"]);C!=null&&r(e,["maximum"],C);const M=a(n,["minItems"]);M!=null&&r(e,["minItems"],M);const w=a(n,["minLength"]);w!=null&&r(e,["minLength"],w);const L=a(n,["minProperties"]);L!=null&&r(e,["minProperties"],L);const G=a(n,["minimum"]);G!=null&&r(e,["minimum"],G);const Y=a(n,["nullable"]);Y!=null&&r(e,["nullable"],Y);const O=a(n,["pattern"]);O!=null&&r(e,["pattern"],O);const I=a(n,["properties"]);I!=null&&r(e,["properties"],I);const X=a(n,["propertyOrdering"]);X!=null&&r(e,["propertyOrdering"],X);const V=a(n,["required"]);V!=null&&r(e,["required"],V);const H=a(n,["title"]);H!=null&&r(e,["title"],H);const Q=a(n,["type"]);return Q!=null&&r(e,["type"],Q),e}function tx(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(n,["category"]);i!=null&&r(e,["category"],i);const l=a(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function nx(n){const e={},i=a(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const y=a(n,["response"]);y!=null&&r(e,["response"],y);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function ox(n){const e={},i=a(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function ix(n){const e={},i=a(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],ox(i)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function lx(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function sx(n){const e={},i=a(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],lx(i)),e}function ax(){return{}}function rx(n){const e={},i=a(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function ux(n){const e={},i=a(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(h=>nx(h))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],ix(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],sx(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],ax());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],rx(m));const y=a(n,["codeExecution"]);return y!=null&&r(e,["codeExecution"],y),e}function cx(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function fx(n){const e={},i=a(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function dx(n){const e={},i=a(n,["latLng"]);i!=null&&r(e,["latLng"],fx(i));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function mx(n){const e={},i=a(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],cx(i));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],dx(l)),e}function px(n){const e={},i=a(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function bh(n){const e={},i=a(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],px(i)),e}function hx(n){const e={},i=a(n,["speaker"]);i!=null&&r(e,["speaker"],i);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],bh(l)),e}function gx(n){const e={},i=a(n,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>hx(c))),r(e,["speakerVoiceConfigs"],l)}return e}function yx(n){const e={},i=a(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],bh(i));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],gx(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function vx(n){const e={},i=a(n,["includeThoughts"]);i!=null&&r(e,["includeThoughts"],i);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function xx(n,e,i){const l={},c=a(e,["systemInstruction"]);i!==void 0&&c!=null&&r(i,["systemInstruction"],Rh(ot(c)));const d=a(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const y=a(e,["topK"]);y!=null&&r(l,["topK"],y);const v=a(e,["candidateCount"]);v!=null&&r(l,["candidateCount"],v);const h=a(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const x=a(e,["stopSequences"]);x!=null&&r(l,["stopSequences"],x);const T=a(e,["responseLogprobs"]);T!=null&&r(l,["responseLogprobs"],T);const C=a(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const M=a(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const w=a(e,["frequencyPenalty"]);w!=null&&r(l,["frequencyPenalty"],w);const L=a(e,["seed"]);L!=null&&r(l,["seed"],L);const G=a(e,["responseMimeType"]);G!=null&&r(l,["responseMimeType"],G);const Y=a(e,["responseSchema"]);Y!=null&&r(l,["responseSchema"],ex(Su(Y)));const O=a(e,["responseJsonSchema"]);if(O!=null&&r(l,["responseJsonSchema"],O),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=a(e,["safetySettings"]);if(i!==void 0&&I!=null){let ie=I;Array.isArray(ie)&&(ie=ie.map(ae=>tx(ae))),r(i,["safetySettings"],ie)}const X=a(e,["tools"]);if(i!==void 0&&X!=null){let ie=Oo(X);Array.isArray(ie)&&(ie=ie.map(ae=>ux(Jo(ae)))),r(i,["tools"],ie)}const V=a(e,["toolConfig"]);if(i!==void 0&&V!=null&&r(i,["toolConfig"],mx(V)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=a(e,["cachedContent"]);i!==void 0&&H!=null&&r(i,["cachedContent"],tn(n,H));const Q=a(e,["responseModalities"]);Q!=null&&r(l,["responseModalities"],Q);const j=a(e,["mediaResolution"]);j!=null&&r(l,["mediaResolution"],j);const Z=a(e,["speechConfig"]);if(Z!=null&&r(l,["speechConfig"],yx(Cu(Z))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=a(e,["thinkingConfig"]);return oe!=null&&r(l,["thinkingConfig"],vx(oe)),l}function Tx(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["request","model"],Ee(n,l));const c=a(e,["contents"]);if(c!=null){let m=Rt(c);Array.isArray(m)&&(m=m.map(y=>Rh(y))),r(i,["request","contents"],m)}const d=a(e,["config"]);return d!=null&&r(i,["request","generationConfig"],xx(n,d,i)),i}function Sx(n,e){const i={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=a(e,["fileName"]);l!=null&&r(i,["fileName"],l);const c=a(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Tx(n,m))),r(i,["requests","requests"],d)}return i}function Cx(n,e){const i={},l=a(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),a(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function Wr(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["src"]);c!=null&&r(i,["batch","inputConfig"],Sx(n,Mh(n,c)));const d=a(e,["config"]);return d!=null&&r(i,["config"],Cx(d,i)),i}function Ex(n,e){const i={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=a(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Ax(n,e){const i={},l=a(e,["contents"]);l!=null&&r(i,["requests[]","request","content"],Tu(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],Ex(c,i)),i}function _x(n,e){const i={},l=a(e,["fileName"]);l!=null&&r(i,["file_name"],l);const c=a(e,["inlinedRequests"]);return c!=null&&r(i,["requests"],Ax(n,c)),i}function Mx(n,e){const i={},l=a(n,["displayName"]);return e!==void 0&&l!=null&&r(e,["batch","displayName"],l),i}function jr(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["src"]);c!=null&&r(i,["batch","inputConfig"],_x(n,c));const d=a(e,["config"]);return d!=null&&r(i,["config"],Mx(d,i)),i}function Nx(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],Ko(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function wx(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],Ko(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function Rx(n,e){const i={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),a(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function bx(n){const e={},i=a(n,["config"]);return i!=null&&r(e,["config"],Rx(i,e)),e}function Dx(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],Ko(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function Ix(n){const e={},i=a(n,["format"]);i!=null&&r(e,["instancesFormat"],i);const l=a(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const c=a(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ux(n){const e={},i=a(n,["format"]);i!=null&&r(e,["predictionsFormat"],i);const l=a(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const c=a(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function kx(n,e){const i={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],Ux($v(c))),i}function Lx(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["model"],Ee(n,l));const c=a(e,["src"]);c!=null&&r(i,["inputConfig"],Ix(Mh(n,c)));const d=a(e,["config"]);return d!=null&&r(i,["config"],kx(d,i)),i}function Vx(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],Ko(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function Px(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],Ko(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function qx(n,e){const i={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=a(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),i}function Gx(n){const e={},i=a(n,["config"]);return i!=null&&r(e,["config"],qx(i,e)),e}function Hx(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],Ko(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function Bx(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Fx(n){const e={},i=a(n,["data"]);i!=null&&r(e,["data"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function zx(n){const e={},i=a(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Yx(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function Jx(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],Bx(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],Fx(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],zx(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],Yx(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function Ox(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>Jx(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function Kx(n){const e={},i=a(n,["citationSources"]);return i!=null&&r(e,["citations"],i),e}function $x(n){const e={},i=a(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function Xx(n){const e={},i=a(n,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>$x(c))),r(e,["urlMetadata"],l)}return e}function Qx(n){const e={},i=a(n,["content"]);i!=null&&r(e,["content"],Ox(i));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],Kx(l));const c=a(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=a(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],Xx(m));const y=a(n,["avgLogprobs"]);y!=null&&r(e,["avgLogprobs"],y);const v=a(n,["groundingMetadata"]);v!=null&&r(e,["groundingMetadata"],v);const h=a(n,["index"]);h!=null&&r(e,["index"],h);const x=a(n,["logprobsResult"]);x!=null&&r(e,["logprobsResult"],x);const T=a(n,["safetyRatings"]);return T!=null&&r(e,["safetyRatings"],T),e}function Zx(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["candidates"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(h=>Qx(h))),r(e,["candidates"],v)}const c=a(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=a(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function Au(n){const e={},i=a(n,["details"]);i!=null&&r(e,["details"],i);const l=a(n,["code"]);l!=null&&r(e,["code"],l);const c=a(n,["message"]);return c!=null&&r(e,["message"],c),e}function Wx(n){const e={},i=a(n,["response"]);i!=null&&r(e,["response"],Zx(i));const l=a(n,["error"]);return l!=null&&r(e,["error"],Au(l)),e}function jx(n){const e={},i=a(n,["values"]);return i!=null&&r(e,["values"],i),e}function eT(n){const e={},i=a(n,["embedding"]);i!=null&&r(e,["embedding"],jx(i));const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function tT(n){const e={},i=a(n,["response"]);i!=null&&r(e,["response"],eT(i));const l=a(n,["error"]);return l!=null&&r(e,["error"],Au(l)),e}function nT(n){const e={},i=a(n,["responsesFile"]);i!=null&&r(e,["fileName"],i);const l=a(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Wx(m))),r(e,["inlinedResponses"],d)}const c=a(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>tT(m))),r(e,["inlinedEmbedContentResponses"],d)}return e}function qo(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["metadata","state"]);c!=null&&r(e,["state"],wh(c));const d=a(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const y=a(n,["metadata","updateTime"]);y!=null&&r(e,["updateTime"],y);const v=a(n,["metadata","model"]);v!=null&&r(e,["model"],v);const h=a(n,["metadata","output"]);return h!=null&&r(e,["dest"],nT(Nh(h))),e}function oT(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>qo(m))),r(e,["batchJobs"],d)}return e}function iT(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);return d!=null&&r(e,["error"],Au(d)),e}function Dh(n){const e={},i=a(n,["details"]);i!=null&&r(e,["details"],i);const l=a(n,["code"]);l!=null&&r(e,["code"],l);const c=a(n,["message"]);return c!=null&&r(e,["message"],c),e}function lT(n){const e={},i=a(n,["instancesFormat"]);i!=null&&r(e,["format"],i);const l=a(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const c=a(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function sT(n){const e={},i=a(n,["predictionsFormat"]);i!=null&&r(e,["format"],i);const l=a(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const c=a(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function su(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["state"]);c!=null&&r(e,["state"],wh(c));const d=a(n,["error"]);d!=null&&r(e,["error"],Dh(d));const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const y=a(n,["startTime"]);y!=null&&r(e,["startTime"],y);const v=a(n,["endTime"]);v!=null&&r(e,["endTime"],v);const h=a(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const x=a(n,["model"]);x!=null&&r(e,["model"],x);const T=a(n,["inputConfig"]);T!=null&&r(e,["src"],lT(T));const C=a(n,["outputConfig"]);return C!=null&&r(e,["dest"],sT(Nh(C))),e}function aT(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>su(m))),r(e,["batchJobs"],d)}return e}function rT(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);return d!=null&&r(e,["error"],Dh(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Kn||(Kn={}));class Zi{constructor(e,i,l,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,l,c)}init(e,i,l){var c,d;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=i.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uT extends $n{constructor(e){super(),this.apiClient=e,this.create=async i=>{var l,c;if(this.apiClient.isVertexAI())return i.config=this.formatDestination(i.src,i.config),this.createInternal(i);const d=i.src;if(!(Array.isArray(i.src)||d.inlinedRequests!==void 0))return this.createInternal(i);const y=this.createInlinedGenerateContentRequest(i),v=y.path,h=y.body,x=Wr(this.apiClient,i)._query||{};return this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=i.config)===null||c===void 0?void 0:c.abortSignal}).then(C=>C.json()).then(C=>qo(C))},this.createEmbeddings=async i=>{var l,c;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(i.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(i);const y=this.createInlinedEmbedContentRequest(i),v=y.path,h=y.body,x=jr(this.apiClient,i)._query||{};return this.apiClient.request({path:v,queryParams:x,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=i.config)===null||c===void 0?void 0:c.abortSignal}).then(C=>C.json()).then(C=>qo(C))},this.list=async(i={})=>new Zi(Kn.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=Wr(this.apiClient,e),l=i._url,c=te("{model}:batchGenerateContent",l),y=i.batch.inputConfig.requests,v=y.requests,h=[];for(const x of v){const T=Object.assign({},x);if(T.systemInstruction){const C=T.systemInstruction;delete T.systemInstruction;const M=T.request;M.systemInstruction=C,T.request=M}h.push(T)}return y.requests=h,delete i.config,delete i._url,delete i._query,{path:c,body:i}}createInlinedEmbedContentRequest(e){const i=jr(this.apiClient,e),l=i._url,c=te("{model}:asyncBatchEmbedContent",l),y=i.batch.inputConfig.requests,v=y.requests,h=[];delete y.config;for(const x of v){const T=Object.assign({},x),C=T.request;for(const M in T)M!=="request"&&(C[M]=T[M],delete T[M]);h.push(T)}return y.requests=h,delete i.config,delete i._url,delete i._query,{path:c,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const l=i?Object.assign({},i):{},c=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${c}`),l.dest===void 0){const d=this.getGcsUri(e),m=this.getBigqueryUri(e);if(d)d.endsWith(".jsonl")?l.dest=`${d.slice(0,-6)}/dest`:l.dest=`${d}_dest_${c}`;else if(m)l.dest=`${m}_dest_${c}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=Lx(this.apiClient,e);return y=te("batchPredictionJobs",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>su(x))}else{const h=Wr(this.apiClient,e);return y=te("{model}:batchGenerateContent",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>qo(x))}}async createEmbeddingsInternal(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=jr(this.apiClient,e);return d=te("{model}:asyncBatchEmbedContent",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>qo(v))}}async get(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=Vx(this.apiClient,e);return y=te("batchPredictionJobs/{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>su(x))}else{const h=Nx(this.apiClient,e);return y=te("batches/{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>qo(x))}}async cancel(e){var i,l,c,d;let m="",y={};if(this.apiClient.isVertexAI()){const v=Px(this.apiClient,e);m=te("batchPredictionJobs/{name}:cancel",v._url),y=v._query,delete v.config,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const v=wx(this.apiClient,e);m=te("batches/{name}:cancel",v._url),y=v._query,delete v.config,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=Gx(e);return y=te("batchPredictionJobs",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=aT(x),C=new Ip;return Object.assign(C,T),C})}else{const h=bx(e);return y=te("batches",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=oT(x),C=new Ip;return Object.assign(C,T),C})}}async delete(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=Hx(this.apiClient,e);return y=te("batchPredictionJobs/{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>rT(x))}else{const h=Dx(this.apiClient,e);return y=te("batches/{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>iT(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cT(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function fT(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["data"]);i!=null&&r(e,["data"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function dT(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function mT(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function pT(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],cT(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],fT(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],dT(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],mT(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function Vp(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>pT(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function hT(n){const e={},i=a(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const y=a(n,["response"]);y!=null&&r(e,["response"],y);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function gT(n){const e={},i=a(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function yT(n){const e={},i=a(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],gT(i)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function vT(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function xT(n){const e={},i=a(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],vT(i)),e}function TT(){return{}}function ST(n){const e={},i=a(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function CT(n){const e={},i=a(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(h=>hT(h))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],yT(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],xT(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],TT());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],ST(m));const y=a(n,["codeExecution"]);return y!=null&&r(e,["codeExecution"],y),e}function ET(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function AT(n){const e={},i=a(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function _T(n){const e={},i=a(n,["latLng"]);i!=null&&r(e,["latLng"],AT(i));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function MT(n){const e={},i=a(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],ET(i));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],_T(l)),e}function NT(n,e){const i={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=a(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let x=Rt(m);Array.isArray(x)&&(x=x.map(T=>Vp(T))),r(e,["contents"],x)}const y=a(n,["systemInstruction"]);e!==void 0&&y!=null&&r(e,["systemInstruction"],Vp(ot(y)));const v=a(n,["tools"]);if(e!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(T=>CT(T))),r(e,["tools"],x)}const h=a(n,["toolConfig"]);if(e!==void 0&&h!=null&&r(e,["toolConfig"],MT(h)),a(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function wT(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["model"],yh(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],NT(c,i)),i}function RT(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],tn(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function bT(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],tn(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function DT(n,e){const i={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),i}function IT(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],tn(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],DT(c,i)),i}function UT(n,e){const i={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),i}function kT(n){const e={},i=a(n,["config"]);return i!=null&&r(e,["config"],UT(i,e)),e}function LT(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function VT(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function PT(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function qT(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function GT(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],LT(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],VT(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],PT(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],qT(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function Pp(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>GT(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function HT(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(n,["description"]);i!=null&&r(e,["description"],i);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=a(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function BT(n){const e={},i=a(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function FT(n){const e={},i=a(n,["timeRangeFilter"]);i!=null&&r(e,["timeRangeFilter"],BT(i));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function zT(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function YT(n){const e={},i=a(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],zT(i)),e}function JT(n){const e={},i=a(n,["excludeDomains"]);return i!=null&&r(e,["excludeDomains"],i),e}function OT(n){const e={},i=a(n,["apiKeyString"]);return i!=null&&r(e,["apiKeyString"],i),e}function KT(n){const e={},i=a(n,["apiKeyConfig"]);i!=null&&r(e,["apiKeyConfig"],OT(i));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=a(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const y=a(n,["oidcConfig"]);return y!=null&&r(e,["oidcConfig"],y),e}function $T(n){const e={},i=a(n,["authConfig"]);return i!=null&&r(e,["authConfig"],KT(i)),e}function XT(){return{}}function QT(n){const e={},i=a(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function ZT(n){const e={},i=a(n,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(C=>HT(C))),r(e,["functionDeclarations"],T)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],FT(c));const d=a(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],YT(d));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],JT(m));const y=a(n,["googleMaps"]);y!=null&&r(e,["googleMaps"],$T(y)),a(n,["urlContext"])!=null&&r(e,["urlContext"],XT());const h=a(n,["computerUse"]);h!=null&&r(e,["computerUse"],QT(h));const x=a(n,["codeExecution"]);return x!=null&&r(e,["codeExecution"],x),e}function WT(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function jT(n){const e={},i=a(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function eS(n){const e={},i=a(n,["latLng"]);i!=null&&r(e,["latLng"],jT(i));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function tS(n){const e={},i=a(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],WT(i));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],eS(l)),e}function nS(n,e){const i={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=a(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let T=Rt(m);Array.isArray(T)&&(T=T.map(C=>Pp(C))),r(e,["contents"],T)}const y=a(n,["systemInstruction"]);e!==void 0&&y!=null&&r(e,["systemInstruction"],Pp(ot(y)));const v=a(n,["tools"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>ZT(C))),r(e,["tools"],T)}const h=a(n,["toolConfig"]);e!==void 0&&h!=null&&r(e,["toolConfig"],tS(h));const x=a(n,["kmsKeyName"]);return e!==void 0&&x!=null&&r(e,["encryption_spec","kmsKeyName"],x),i}function oS(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["model"],yh(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],nS(c,i)),i}function iS(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],tn(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function lS(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],tn(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function sS(n,e){const i={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),i}function aS(n,e){const i={},l=a(e,["name"]);l!=null&&r(i,["_url","name"],tn(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],sS(c,i)),i}function rS(n,e){const i={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),i}function uS(n){const e={},i=a(n,["config"]);return i!=null&&r(e,["config"],rS(i,e)),e}function vs(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["model"]);c!=null&&r(e,["model"],c);const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const y=a(n,["expireTime"]);y!=null&&r(e,["expireTime"],y);const v=a(n,["usageMetadata"]);return v!=null&&r(e,["usageMetadata"],v),e}function cS(n){const e={},i=a(n,["sdkHttpResponse"]);return i!=null&&r(e,["sdkHttpResponse"],i),e}function fS(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>vs(m))),r(e,["cachedContents"],d)}return e}function xs(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["model"]);c!=null&&r(e,["model"],c);const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const y=a(n,["expireTime"]);y!=null&&r(e,["expireTime"],y);const v=a(n,["usageMetadata"]);return v!=null&&r(e,["usageMetadata"],v),e}function dS(n){const e={},i=a(n,["sdkHttpResponse"]);return i!=null&&r(e,["sdkHttpResponse"],i),e}function mS(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>xs(m))),r(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pS extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Zi(Kn.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(i),i)}async create(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=oS(this.apiClient,e);return y=te("cachedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>xs(x))}else{const h=wT(this.apiClient,e);return y=te("cachedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>vs(x))}}async get(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=iS(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>xs(x))}else{const h=RT(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>vs(x))}}async delete(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=lS(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=dS(x),C=new bp;return Object.assign(C,T),C})}else{const h=bT(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=cS(x),C=new bp;return Object.assign(C,T),C})}}async update(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=aS(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>xs(x))}else{const h=IT(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>vs(x))}}async listInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=uS(e);return y=te("cachedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=mS(x),C=new Dp;return Object.assign(C,T),C})}else{const h=kT(e);return y=te("cachedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=fS(x),C=new Dp;return Object.assign(C,T),C})}}}function qp(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],l=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ue(n){return this instanceof Ue?(this.v=n,this):new Ue(n)}function Bo(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(M){return function(w){return Promise.resolve(w).then(M,T)}}function y(M,w){l[M]&&(c[M]=function(L){return new Promise(function(G,Y){d.push([M,L,G,Y])>1||v(M,L)})},w&&(c[M]=w(c[M])))}function v(M,w){try{h(l[M](w))}catch(L){C(d[0][3],L)}}function h(M){M.value instanceof Ue?Promise.resolve(M.value.v).then(x,T):C(d[0][2],M)}function x(M){v("next",M)}function T(M){v("throw",M)}function C(M,w){M(w),d.shift(),d.length&&v(d[0][0],d[0][1])}}function Xi(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof qp=="function"?qp(n):n[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(d){i[d]=n[d]&&function(m){return new Promise(function(y,v){m=n[d](m),c(y,v,m.done,m.value)})}}function c(d,m,y,v){Promise.resolve(v).then(function(h){d({value:h,done:y})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hS(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:Ih(i)}function Ih(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function gS(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Gp(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let l=0;for(;l<i;)if(n[l].role==="user")e.push(n[l]),l++;else{const c=[];let d=!0;for(;l<i&&n[l].role==="model";)c.push(n[l]),d&&!Ih(n[l])&&(d=!1),l++;d?e.push(...c):e.pop()}return e}class yS{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new vS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vS{constructor(e,i,l,c={},d=[]){this.apiClient=e,this.modelsModule=i,this.model=l,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),gS(d)}async sendMessage(e){var i;await this.sendPromise;const l=ot(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var d,m,y;const v=await c,h=(m=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,x=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let C=[];x!=null&&(C=(y=x.slice(T))!==null&&y!==void 0?y:[]);const M=h?[h]:[];this.recordHistory(l,M,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var i;await this.sendPromise;const l=ot(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,l)}getHistory(e=!1){const i=e?Gp(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var l,c;return Bo(this,arguments,function*(){var m,y,v,h;const x=[];try{for(var T=!0,C=Xi(e),M;M=yield Ue(C.next()),m=M.done,!m;T=!0){h=M.value,T=!1;const w=h;if(hS(w)){const L=(c=(l=w.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;L!==void 0&&x.push(L)}yield yield Ue(w)}}catch(w){y={error:w}}finally{try{!T&&!m&&(v=C.return)&&(yield Ue(v.call(C)))}finally{if(y)throw y.error}}this.recordHistory(i,x)})}recordHistory(e,i,l){let c=[];i.length>0&&i.every(d=>d.role!==void 0)?c=i:c.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Gp(l)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ms extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ms.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(n,e){const i={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),i}function TS(n){const e={},i=a(n,["config"]);return i!=null&&r(e,["config"],xS(i,e)),e}function SS(n){const e={},i=a(n,["details"]);i!=null&&r(e,["details"],i);const l=a(n,["message"]);l!=null&&r(e,["message"],l);const c=a(n,["code"]);return c!=null&&r(e,["code"],c),e}function CS(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=a(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const y=a(n,["expirationTime"]);y!=null&&r(e,["expirationTime"],y);const v=a(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const h=a(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const x=a(n,["uri"]);x!=null&&r(e,["uri"],x);const T=a(n,["downloadUri"]);T!=null&&r(e,["downloadUri"],T);const C=a(n,["state"]);C!=null&&r(e,["state"],C);const M=a(n,["source"]);M!=null&&r(e,["source"],M);const w=a(n,["videoMetadata"]);w!=null&&r(e,["videoMetadata"],w);const L=a(n,["error"]);return L!=null&&r(e,["error"],SS(L)),e}function ES(n){const e={},i=a(n,["file"]);i!=null&&r(e,["file"],CS(i));const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function AS(n){const e={},i=a(n,["name"]);i!=null&&r(e,["_url","file"],Eh(i));const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function _S(n){const e={},i=a(n,["name"]);i!=null&&r(e,["_url","file"],Eh(i));const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function MS(n){const e={},i=a(n,["details"]);i!=null&&r(e,["details"],i);const l=a(n,["message"]);l!=null&&r(e,["message"],l);const c=a(n,["code"]);return c!=null&&r(e,["code"],c),e}function au(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=a(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const y=a(n,["expirationTime"]);y!=null&&r(e,["expirationTime"],y);const v=a(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const h=a(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const x=a(n,["uri"]);x!=null&&r(e,["uri"],x);const T=a(n,["downloadUri"]);T!=null&&r(e,["downloadUri"],T);const C=a(n,["state"]);C!=null&&r(e,["state"],C);const M=a(n,["source"]);M!=null&&r(e,["source"],M);const w=a(n,["videoMetadata"]);w!=null&&r(e,["videoMetadata"],w);const L=a(n,["error"]);return L!=null&&r(e,["error"],MS(L)),e}function NS(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>au(m))),r(e,["files"],d)}return e}function wS(n){const e={},i=a(n,["sdkHttpResponse"]);return i!=null&&r(e,["sdkHttpResponse"],i),e}function RS(n){const e={},i=a(n,["sdkHttpResponse"]);return i!=null&&r(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bS extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Zi(Kn.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>au(i))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=TS(e);return d=te("files",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const h=NS(v),x=new Lv;return Object.assign(x,h),x})}}async createInternal(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=ES(e);return d=te("upload/v1beta/files",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const h=wS(v),x=new Vv;return Object.assign(x,h),x})}}async get(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=AS(e);return d=te("files/{file}",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>au(v))}}async delete(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=_S(e);return d=te("files/{file}",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const h=RS(v),x=new Pv;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DS(n){const e={},i=a(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function Uh(n){const e={},i=a(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],DS(i)),e}function IS(n){const e={},i=a(n,["speaker"]);i!=null&&r(e,["speaker"],i);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Uh(l)),e}function US(n){const e={},i=a(n,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>IS(c))),r(e,["speakerVoiceConfigs"],l)}return e}function kS(n){const e={},i=a(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],Uh(i));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],US(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function LS(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function VS(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["data"]);i!=null&&r(e,["data"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function PS(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function qS(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function GS(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],LS(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],VS(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],PS(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],qS(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function HS(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>GS(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function BS(n){const e={},i=a(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const y=a(n,["response"]);y!=null&&r(e,["response"],y);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function FS(n){const e={},i=a(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function zS(n){const e={},i=a(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],FS(i)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function YS(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function JS(n){const e={},i=a(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],YS(i)),e}function OS(){return{}}function KS(n){const e={},i=a(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function $S(n){const e={},i=a(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(h=>BS(h))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],zS(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],JS(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],OS());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],KS(m));const y=a(n,["codeExecution"]);return y!=null&&r(e,["codeExecution"],y),e}function XS(n){const e={},i=a(n,["handle"]);if(i!=null&&r(e,["handle"],i),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Hp(){return{}}function QS(n){const e={},i=a(n,["disabled"]);i!=null&&r(e,["disabled"],i);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=a(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function ZS(n){const e={},i=a(n,["automaticActivityDetection"]);i!=null&&r(e,["automaticActivityDetection"],QS(i));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function WS(n){const e={},i=a(n,["targetTokens"]);return i!=null&&r(e,["targetTokens"],i),e}function jS(n){const e={},i=a(n,["triggerTokens"]);i!=null&&r(e,["triggerTokens"],i);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],WS(l)),e}function eC(n){const e={},i=a(n,["proactiveAudio"]);return i!=null&&r(e,["proactiveAudio"],i),e}function tC(n,e){const i={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=a(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const y=a(n,["topK"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","topK"],y);const v=a(n,["maxOutputTokens"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","maxOutputTokens"],v);const h=a(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const x=a(n,["seed"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","seed"],x);const T=a(n,["speechConfig"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","speechConfig"],kS(Eu(T)));const C=a(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const M=a(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],HS(ot(M)));const w=a(n,["tools"]);if(e!==void 0&&w!=null){let V=Oo(w);Array.isArray(V)&&(V=V.map(H=>$S(Jo(H)))),r(e,["setup","tools"],V)}const L=a(n,["sessionResumption"]);e!==void 0&&L!=null&&r(e,["setup","sessionResumption"],XS(L));const G=a(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&r(e,["setup","inputAudioTranscription"],Hp());const Y=a(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","outputAudioTranscription"],Hp());const O=a(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&r(e,["setup","realtimeInputConfig"],ZS(O));const I=a(n,["contextWindowCompression"]);e!==void 0&&I!=null&&r(e,["setup","contextWindowCompression"],jS(I));const X=a(n,["proactivity"]);return e!==void 0&&X!=null&&r(e,["setup","proactivity"],eC(X)),i}function nC(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["setup","model"],Ee(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],tC(c,i)),i}function oC(){return{}}function iC(){return{}}function lC(n){const e={},i=a(n,["media"]);i!=null&&r(e,["mediaChunks"],vh(i));const l=a(n,["audio"]);l!=null&&r(e,["audio"],Th(l));const c=a(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=a(n,["video"]);d!=null&&r(e,["video"],xh(d));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],oC()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],iC()),e}function kh(n){const e={},i=a(n,["text"]);i!=null&&r(e,["text"],i);const l=a(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function sC(n){const e={},i=a(n,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>kh(c))),r(e,["weightedPrompts"],l)}return e}function Lh(n){const e={},i=a(n,["temperature"]);i!=null&&r(e,["temperature"],i);const l=a(n,["topK"]);l!=null&&r(e,["topK"],l);const c=a(n,["seed"]);c!=null&&r(e,["seed"],c);const d=a(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const y=a(n,["density"]);y!=null&&r(e,["density"],y);const v=a(n,["brightness"]);v!=null&&r(e,["brightness"],v);const h=a(n,["scale"]);h!=null&&r(e,["scale"],h);const x=a(n,["muteBass"]);x!=null&&r(e,["muteBass"],x);const T=a(n,["muteDrums"]);T!=null&&r(e,["muteDrums"],T);const C=a(n,["onlyBassAndDrums"]);C!=null&&r(e,["onlyBassAndDrums"],C);const M=a(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function aC(n){const e={},i=a(n,["musicGenerationConfig"]);return i!=null&&r(e,["musicGenerationConfig"],Lh(i)),e}function Vh(n){const e={},i=a(n,["model"]);return i!=null&&r(e,["model"],i),e}function Ph(n){const e={},i=a(n,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>kh(c))),r(e,["weightedPrompts"],l)}return e}function ru(n){const e={},i=a(n,["setup"]);i!=null&&r(e,["setup"],Vh(i));const l=a(n,["clientContent"]);l!=null&&r(e,["clientContent"],Ph(l));const c=a(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],Lh(c));const d=a(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function rC(n){const e={},i=a(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function uC(n){const e={},i=a(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],rC(i)),e}function cC(n){const e={},i=a(n,["voiceConfig"]);if(i!=null&&r(e,["voiceConfig"],uC(i)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function fC(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function dC(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function mC(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function pC(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function hC(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],fC(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],dC(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],mC(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],pC(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function gC(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>hC(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function yC(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(n,["description"]);i!=null&&r(e,["description"],i);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=a(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function vC(n){const e={},i=a(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function xC(n){const e={},i=a(n,["timeRangeFilter"]);i!=null&&r(e,["timeRangeFilter"],vC(i));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function TC(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function SC(n){const e={},i=a(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],TC(i)),e}function CC(n){const e={},i=a(n,["excludeDomains"]);return i!=null&&r(e,["excludeDomains"],i),e}function EC(n){const e={},i=a(n,["apiKeyString"]);return i!=null&&r(e,["apiKeyString"],i),e}function AC(n){const e={},i=a(n,["apiKeyConfig"]);i!=null&&r(e,["apiKeyConfig"],EC(i));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=a(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const y=a(n,["oidcConfig"]);return y!=null&&r(e,["oidcConfig"],y),e}function _C(n){const e={},i=a(n,["authConfig"]);return i!=null&&r(e,["authConfig"],AC(i)),e}function MC(){return{}}function NC(n){const e={},i=a(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function wC(n){const e={},i=a(n,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(C=>yC(C))),r(e,["functionDeclarations"],T)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],xC(c));const d=a(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],SC(d));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],CC(m));const y=a(n,["googleMaps"]);y!=null&&r(e,["googleMaps"],_C(y)),a(n,["urlContext"])!=null&&r(e,["urlContext"],MC());const h=a(n,["computerUse"]);h!=null&&r(e,["computerUse"],NC(h));const x=a(n,["codeExecution"]);return x!=null&&r(e,["codeExecution"],x),e}function RC(n){const e={},i=a(n,["handle"]);i!=null&&r(e,["handle"],i);const l=a(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function Bp(){return{}}function bC(n){const e={},i=a(n,["disabled"]);i!=null&&r(e,["disabled"],i);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=a(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function DC(n){const e={},i=a(n,["automaticActivityDetection"]);i!=null&&r(e,["automaticActivityDetection"],bC(i));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function IC(n){const e={},i=a(n,["targetTokens"]);return i!=null&&r(e,["targetTokens"],i),e}function UC(n){const e={},i=a(n,["triggerTokens"]);i!=null&&r(e,["triggerTokens"],i);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],IC(l)),e}function kC(n){const e={},i=a(n,["proactiveAudio"]);return i!=null&&r(e,["proactiveAudio"],i),e}function LC(n,e){const i={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=a(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const y=a(n,["topK"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","topK"],y);const v=a(n,["maxOutputTokens"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","maxOutputTokens"],v);const h=a(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const x=a(n,["seed"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","seed"],x);const T=a(n,["speechConfig"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","speechConfig"],cC(Eu(T)));const C=a(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const M=a(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],gC(ot(M)));const w=a(n,["tools"]);if(e!==void 0&&w!=null){let V=Oo(w);Array.isArray(V)&&(V=V.map(H=>wC(Jo(H)))),r(e,["setup","tools"],V)}const L=a(n,["sessionResumption"]);e!==void 0&&L!=null&&r(e,["setup","sessionResumption"],RC(L));const G=a(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&r(e,["setup","inputAudioTranscription"],Bp());const Y=a(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","outputAudioTranscription"],Bp());const O=a(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&r(e,["setup","realtimeInputConfig"],DC(O));const I=a(n,["contextWindowCompression"]);e!==void 0&&I!=null&&r(e,["setup","contextWindowCompression"],UC(I));const X=a(n,["proactivity"]);return e!==void 0&&X!=null&&r(e,["setup","proactivity"],kC(X)),i}function VC(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["setup","model"],Ee(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],LC(c,i)),i}function PC(){return{}}function qC(){return{}}function GC(n){const e={},i=a(n,["media"]);i!=null&&r(e,["mediaChunks"],vh(i));const l=a(n,["audio"]);l!=null&&r(e,["audio"],Th(l));const c=a(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=a(n,["video"]);d!=null&&r(e,["video"],xh(d));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],PC()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],qC()),e}function HC(){return{}}function BC(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function FC(n){const e={},i=a(n,["data"]);i!=null&&r(e,["data"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function zC(n){const e={},i=a(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function qh(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function YC(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],BC(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],FC(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],zC(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],qh(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function JC(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>YC(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function Fp(n){const e={},i=a(n,["text"]);i!=null&&r(e,["text"],i);const l=a(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function OC(n){const e={},i=a(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function KC(n){const e={},i=a(n,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>OC(c))),r(e,["urlMetadata"],l)}return e}function $C(n){const e={},i=a(n,["modelTurn"]);i!=null&&r(e,["modelTurn"],JC(i));const l=a(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=a(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=a(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const y=a(n,["inputTranscription"]);y!=null&&r(e,["inputTranscription"],Fp(y));const v=a(n,["outputTranscription"]);v!=null&&r(e,["outputTranscription"],Fp(v));const h=a(n,["urlContextMetadata"]);h!=null&&r(e,["urlContextMetadata"],KC(h));const x=a(n,["turnCompleteReason"]);x!=null&&r(e,["turnCompleteReason"],x);const T=a(n,["waitingForInput"]);return T!=null&&r(e,["waitingForInput"],T),e}function XC(n){const e={},i=a(n,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>qh(c))),r(e,["functionCalls"],l)}return e}function QC(n){const e={},i=a(n,["ids"]);return i!=null&&r(e,["ids"],i),e}function ps(n){const e={},i=a(n,["modality"]);i!=null&&r(e,["modality"],i);const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function ZC(n){const e={},i=a(n,["promptTokenCount"]);i!=null&&r(e,["promptTokenCount"],i);const l=a(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=a(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=a(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const y=a(n,["totalTokenCount"]);y!=null&&r(e,["totalTokenCount"],y);const v=a(n,["promptTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(M=>ps(M))),r(e,["promptTokensDetails"],C)}const h=a(n,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(M=>ps(M))),r(e,["cacheTokensDetails"],C)}const x=a(n,["responseTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(M=>ps(M))),r(e,["responseTokensDetails"],C)}const T=a(n,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(M=>ps(M))),r(e,["toolUsePromptTokensDetails"],C)}return e}function WC(n){const e={},i=a(n,["timeLeft"]);return i!=null&&r(e,["timeLeft"],i),e}function jC(n){const e={},i=a(n,["newHandle"]);i!=null&&r(e,["newHandle"],i);const l=a(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function eE(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],HC());const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],$C(l));const c=a(n,["toolCall"]);c!=null&&r(e,["toolCall"],XC(c));const d=a(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],QC(d));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],ZC(m));const y=a(n,["goAway"]);y!=null&&r(e,["goAway"],WC(y));const v=a(n,["sessionResumptionUpdate"]);return v!=null&&r(e,["sessionResumptionUpdate"],jC(v)),e}function tE(){return{}}function nE(n){const e={},i=a(n,["text"]);i!=null&&r(e,["text"],i);const l=a(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function oE(n){const e={},i=a(n,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>nE(c))),r(e,["weightedPrompts"],l)}return e}function iE(n){const e={},i=a(n,["temperature"]);i!=null&&r(e,["temperature"],i);const l=a(n,["topK"]);l!=null&&r(e,["topK"],l);const c=a(n,["seed"]);c!=null&&r(e,["seed"],c);const d=a(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const y=a(n,["density"]);y!=null&&r(e,["density"],y);const v=a(n,["brightness"]);v!=null&&r(e,["brightness"],v);const h=a(n,["scale"]);h!=null&&r(e,["scale"],h);const x=a(n,["muteBass"]);x!=null&&r(e,["muteBass"],x);const T=a(n,["muteDrums"]);T!=null&&r(e,["muteDrums"],T);const C=a(n,["onlyBassAndDrums"]);C!=null&&r(e,["onlyBassAndDrums"],C);const M=a(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function lE(n){const e={},i=a(n,["clientContent"]);i!=null&&r(e,["clientContent"],oE(i));const l=a(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],iE(l)),e}function sE(n){const e={},i=a(n,["data"]);i!=null&&r(e,["data"],i);const l=a(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const c=a(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],lE(c)),e}function aE(n){const e={},i=a(n,["audioChunks"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>sE(c))),r(e,["audioChunks"],l)}return e}function rE(n){const e={},i=a(n,["text"]);i!=null&&r(e,["text"],i);const l=a(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function uE(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],tE());const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],aE(l));const c=a(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],rE(c)),e}function cE(n){const e={},i=a(n,["sessionId"]);return i!=null&&r(e,["sessionId"],i),e}function fE(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function dE(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function mE(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Gh(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function pE(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],fE(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],dE(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],mE(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],Gh(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function hE(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>pE(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function zp(n){const e={},i=a(n,["text"]);i!=null&&r(e,["text"],i);const l=a(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function gE(n){const e={},i=a(n,["modelTurn"]);i!=null&&r(e,["modelTurn"],hE(i));const l=a(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=a(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=a(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const y=a(n,["inputTranscription"]);y!=null&&r(e,["inputTranscription"],zp(y));const v=a(n,["outputTranscription"]);v!=null&&r(e,["outputTranscription"],zp(v));const h=a(n,["turnCompleteReason"]);h!=null&&r(e,["turnCompleteReason"],h);const x=a(n,["waitingForInput"]);return x!=null&&r(e,["waitingForInput"],x),e}function yE(n){const e={},i=a(n,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Gh(c))),r(e,["functionCalls"],l)}return e}function vE(n){const e={},i=a(n,["ids"]);return i!=null&&r(e,["ids"],i),e}function hs(n){const e={},i=a(n,["modality"]);i!=null&&r(e,["modality"],i);const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function xE(n){const e={},i=a(n,["promptTokenCount"]);i!=null&&r(e,["promptTokenCount"],i);const l=a(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=a(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=a(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const y=a(n,["totalTokenCount"]);y!=null&&r(e,["totalTokenCount"],y);const v=a(n,["promptTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(w=>hs(w))),r(e,["promptTokensDetails"],M)}const h=a(n,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(w=>hs(w))),r(e,["cacheTokensDetails"],M)}const x=a(n,["candidatesTokensDetails"]);if(x!=null){let M=x;Array.isArray(M)&&(M=M.map(w=>hs(w))),r(e,["responseTokensDetails"],M)}const T=a(n,["toolUsePromptTokensDetails"]);if(T!=null){let M=T;Array.isArray(M)&&(M=M.map(w=>hs(w))),r(e,["toolUsePromptTokensDetails"],M)}const C=a(n,["trafficType"]);return C!=null&&r(e,["trafficType"],C),e}function TE(n){const e={},i=a(n,["timeLeft"]);return i!=null&&r(e,["timeLeft"],i),e}function SE(n){const e={},i=a(n,["newHandle"]);i!=null&&r(e,["newHandle"],i);const l=a(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function CE(n){const e={},i=a(n,["setupComplete"]);i!=null&&r(e,["setupComplete"],cE(i));const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],gE(l));const c=a(n,["toolCall"]);c!=null&&r(e,["toolCall"],yE(c));const d=a(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],vE(d));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],xE(m));const y=a(n,["goAway"]);y!=null&&r(e,["goAway"],TE(y));const v=a(n,["sessionResumptionUpdate"]);return v!=null&&r(e,["sessionResumptionUpdate"],SE(v)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EE(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function AE(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["data"]);i!=null&&r(e,["data"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function _E(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function ME(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function NE(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],EE(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],AE(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],_E(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],ME(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function Ns(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>NE(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function wE(n){const e={},i=a(n,["anyOf"]);i!=null&&r(e,["anyOf"],i);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["enum"]);d!=null&&r(e,["enum"],d);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const y=a(n,["format"]);y!=null&&r(e,["format"],y);const v=a(n,["items"]);v!=null&&r(e,["items"],v);const h=a(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const x=a(n,["maxLength"]);x!=null&&r(e,["maxLength"],x);const T=a(n,["maxProperties"]);T!=null&&r(e,["maxProperties"],T);const C=a(n,["maximum"]);C!=null&&r(e,["maximum"],C);const M=a(n,["minItems"]);M!=null&&r(e,["minItems"],M);const w=a(n,["minLength"]);w!=null&&r(e,["minLength"],w);const L=a(n,["minProperties"]);L!=null&&r(e,["minProperties"],L);const G=a(n,["minimum"]);G!=null&&r(e,["minimum"],G);const Y=a(n,["nullable"]);Y!=null&&r(e,["nullable"],Y);const O=a(n,["pattern"]);O!=null&&r(e,["pattern"],O);const I=a(n,["properties"]);I!=null&&r(e,["properties"],I);const X=a(n,["propertyOrdering"]);X!=null&&r(e,["propertyOrdering"],X);const V=a(n,["required"]);V!=null&&r(e,["required"],V);const H=a(n,["title"]);H!=null&&r(e,["title"],H);const Q=a(n,["type"]);return Q!=null&&r(e,["type"],Q),e}function RE(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(n,["category"]);i!=null&&r(e,["category"],i);const l=a(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function bE(n){const e={},i=a(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const y=a(n,["response"]);y!=null&&r(e,["response"],y);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function DE(n){const e={},i=a(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function IE(n){const e={},i=a(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],DE(i)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function UE(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function kE(n){const e={},i=a(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],UE(i)),e}function LE(){return{}}function VE(n){const e={},i=a(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function PE(n){const e={},i=a(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(h=>bE(h))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],IE(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],kE(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],LE());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],VE(m));const y=a(n,["codeExecution"]);return y!=null&&r(e,["codeExecution"],y),e}function qE(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function GE(n){const e={},i=a(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function HE(n){const e={},i=a(n,["latLng"]);i!=null&&r(e,["latLng"],GE(i));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function BE(n){const e={},i=a(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],qE(i));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],HE(l)),e}function FE(n){const e={},i=a(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function Hh(n){const e={},i=a(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],FE(i)),e}function zE(n){const e={},i=a(n,["speaker"]);i!=null&&r(e,["speaker"],i);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Hh(l)),e}function YE(n){const e={},i=a(n,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>zE(c))),r(e,["speakerVoiceConfigs"],l)}return e}function JE(n){const e={},i=a(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],Hh(i));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],YE(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function OE(n){const e={},i=a(n,["includeThoughts"]);i!=null&&r(e,["includeThoughts"],i);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function KE(n,e,i){const l={},c=a(e,["systemInstruction"]);i!==void 0&&c!=null&&r(i,["systemInstruction"],Ns(ot(c)));const d=a(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const y=a(e,["topK"]);y!=null&&r(l,["topK"],y);const v=a(e,["candidateCount"]);v!=null&&r(l,["candidateCount"],v);const h=a(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const x=a(e,["stopSequences"]);x!=null&&r(l,["stopSequences"],x);const T=a(e,["responseLogprobs"]);T!=null&&r(l,["responseLogprobs"],T);const C=a(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const M=a(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const w=a(e,["frequencyPenalty"]);w!=null&&r(l,["frequencyPenalty"],w);const L=a(e,["seed"]);L!=null&&r(l,["seed"],L);const G=a(e,["responseMimeType"]);G!=null&&r(l,["responseMimeType"],G);const Y=a(e,["responseSchema"]);Y!=null&&r(l,["responseSchema"],wE(Su(Y)));const O=a(e,["responseJsonSchema"]);if(O!=null&&r(l,["responseJsonSchema"],O),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=a(e,["safetySettings"]);if(i!==void 0&&I!=null){let ie=I;Array.isArray(ie)&&(ie=ie.map(ae=>RE(ae))),r(i,["safetySettings"],ie)}const X=a(e,["tools"]);if(i!==void 0&&X!=null){let ie=Oo(X);Array.isArray(ie)&&(ie=ie.map(ae=>PE(Jo(ae)))),r(i,["tools"],ie)}const V=a(e,["toolConfig"]);if(i!==void 0&&V!=null&&r(i,["toolConfig"],BE(V)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=a(e,["cachedContent"]);i!==void 0&&H!=null&&r(i,["cachedContent"],tn(n,H));const Q=a(e,["responseModalities"]);Q!=null&&r(l,["responseModalities"],Q);const j=a(e,["mediaResolution"]);j!=null&&r(l,["mediaResolution"],j);const Z=a(e,["speechConfig"]);if(Z!=null&&r(l,["speechConfig"],JE(Cu(Z))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=a(e,["thinkingConfig"]);return oe!=null&&r(l,["thinkingConfig"],OE(oe)),l}function Yp(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["contents"]);if(c!=null){let m=Rt(c);Array.isArray(m)&&(m=m.map(y=>Ns(y))),r(i,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(i,["generationConfig"],KE(n,d,i)),i}function $E(n,e){const i={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=a(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function XE(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["contents"]);c!=null&&r(i,["requests[]","content"],Tu(n,c));const d=a(e,["config"]);d!=null&&r(i,["config"],$E(d,i));const m=a(e,["model"]);return m!==void 0&&r(i,["requests[]","model"],Ee(n,m)),i}function QE(n,e){const i={};if(a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=a(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=a(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const y=a(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const v=a(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&r(e,["parameters","includeSafetyAttributes"],v);const h=a(n,["includeRaiReason"]);e!==void 0&&h!=null&&r(e,["parameters","includeRaiReason"],h);const x=a(n,["language"]);e!==void 0&&x!=null&&r(e,["parameters","language"],x);const T=a(n,["outputMimeType"]);e!==void 0&&T!=null&&r(e,["parameters","outputOptions","mimeType"],T);const C=a(n,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&r(e,["parameters","outputOptions","compressionQuality"],C),a(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=a(n,["imageSize"]);if(e!==void 0&&M!=null&&r(e,["parameters","sampleImageSize"],M),a(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function ZE(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=a(e,["config"]);return d!=null&&r(i,["config"],QE(d,i)),i}function WE(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","name"],Ee(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function jE(n,e,i){const l={},c=a(e,["pageSize"]);i!==void 0&&c!=null&&r(i,["_query","pageSize"],c);const d=a(e,["pageToken"]);i!==void 0&&d!=null&&r(i,["_query","pageToken"],d);const m=a(e,["filter"]);i!==void 0&&m!=null&&r(i,["_query","filter"],m);const y=a(e,["queryBase"]);return i!==void 0&&y!=null&&r(i,["_url","models_url"],Ah(n,y)),l}function e1(n,e){const i={},l=a(e,["config"]);return l!=null&&r(i,["config"],jE(n,l,i)),i}function t1(n,e){const i={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=a(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),i}function n1(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","name"],Ee(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],t1(c,i)),i}function o1(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","name"],Ee(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function i1(n){const e={};if(a(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function l1(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["contents"]);if(c!=null){let m=Rt(c);Array.isArray(m)&&(m=m.map(y=>Ns(y))),r(i,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(i,["config"],i1(d)),i}function Bh(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(n,["imageBytes"]);i!=null&&r(e,["bytesBase64Encoded"],Xn(i));const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function s1(n,e){const i={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["image"]);if(e!==void 0&&c!=null&&r(e,["instances[0]","image"],Bh(c)),a(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return i}function a1(n,e){const i={},l=a(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=a(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=a(n,["aspectRatio"]);e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d);const m=a(n,["resolution"]);e!==void 0&&m!=null&&r(e,["parameters","resolution"],m);const y=a(n,["personGeneration"]);if(e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y),a(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=a(n,["negativePrompt"]);e!==void 0&&v!=null&&r(e,["parameters","negativePrompt"],v);const h=a(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&r(e,["parameters","enhancePrompt"],h),a(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(a(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function r1(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=a(e,["image"]);if(d!=null&&r(i,["instances[0]","image"],Bh(d)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=a(e,["source"]);m!=null&&r(i,["config"],s1(m,i));const y=a(e,["config"]);return y!=null&&r(i,["config"],a1(y,i)),i}function u1(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function c1(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function f1(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function d1(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function m1(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],u1(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],c1(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],f1(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],d1(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function $o(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>m1(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function p1(n){const e={},i=a(n,["anyOf"]);i!=null&&r(e,["anyOf"],i);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["enum"]);d!=null&&r(e,["enum"],d);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const y=a(n,["format"]);y!=null&&r(e,["format"],y);const v=a(n,["items"]);v!=null&&r(e,["items"],v);const h=a(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const x=a(n,["maxLength"]);x!=null&&r(e,["maxLength"],x);const T=a(n,["maxProperties"]);T!=null&&r(e,["maxProperties"],T);const C=a(n,["maximum"]);C!=null&&r(e,["maximum"],C);const M=a(n,["minItems"]);M!=null&&r(e,["minItems"],M);const w=a(n,["minLength"]);w!=null&&r(e,["minLength"],w);const L=a(n,["minProperties"]);L!=null&&r(e,["minProperties"],L);const G=a(n,["minimum"]);G!=null&&r(e,["minimum"],G);const Y=a(n,["nullable"]);Y!=null&&r(e,["nullable"],Y);const O=a(n,["pattern"]);O!=null&&r(e,["pattern"],O);const I=a(n,["properties"]);I!=null&&r(e,["properties"],I);const X=a(n,["propertyOrdering"]);X!=null&&r(e,["propertyOrdering"],X);const V=a(n,["required"]);V!=null&&r(e,["required"],V);const H=a(n,["title"]);H!=null&&r(e,["title"],H);const Q=a(n,["type"]);return Q!=null&&r(e,["type"],Q),e}function h1(n){const e={},i=a(n,["featureSelectionPreference"]);return i!=null&&r(e,["featureSelectionPreference"],i),e}function g1(n){const e={},i=a(n,["method"]);i!=null&&r(e,["method"],i);const l=a(n,["category"]);l!=null&&r(e,["category"],l);const c=a(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function y1(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(n,["description"]);i!=null&&r(e,["description"],i);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=a(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function v1(n){const e={},i=a(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function x1(n){const e={},i=a(n,["timeRangeFilter"]);i!=null&&r(e,["timeRangeFilter"],v1(i));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function T1(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function S1(n){const e={},i=a(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],T1(i)),e}function C1(n){const e={},i=a(n,["excludeDomains"]);return i!=null&&r(e,["excludeDomains"],i),e}function E1(n){const e={},i=a(n,["apiKeyString"]);return i!=null&&r(e,["apiKeyString"],i),e}function A1(n){const e={},i=a(n,["apiKeyConfig"]);i!=null&&r(e,["apiKeyConfig"],E1(i));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=a(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const y=a(n,["oidcConfig"]);return y!=null&&r(e,["oidcConfig"],y),e}function _1(n){const e={},i=a(n,["authConfig"]);return i!=null&&r(e,["authConfig"],A1(i)),e}function M1(){return{}}function N1(n){const e={},i=a(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function Fh(n){const e={},i=a(n,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(C=>y1(C))),r(e,["functionDeclarations"],T)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],x1(c));const d=a(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],S1(d));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],C1(m));const y=a(n,["googleMaps"]);y!=null&&r(e,["googleMaps"],_1(y)),a(n,["urlContext"])!=null&&r(e,["urlContext"],M1());const h=a(n,["computerUse"]);h!=null&&r(e,["computerUse"],N1(h));const x=a(n,["codeExecution"]);return x!=null&&r(e,["codeExecution"],x),e}function w1(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function R1(n){const e={},i=a(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function b1(n){const e={},i=a(n,["latLng"]);i!=null&&r(e,["latLng"],R1(i));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function D1(n){const e={},i=a(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],w1(i));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],b1(l)),e}function I1(n){const e={},i=a(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function U1(n){const e={},i=a(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],I1(i)),e}function k1(n){const e={},i=a(n,["voiceConfig"]);if(i!=null&&r(e,["voiceConfig"],U1(i)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function L1(n){const e={},i=a(n,["includeThoughts"]);i!=null&&r(e,["includeThoughts"],i);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function V1(n,e,i){const l={},c=a(e,["systemInstruction"]);i!==void 0&&c!=null&&r(i,["systemInstruction"],$o(ot(c)));const d=a(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const y=a(e,["topK"]);y!=null&&r(l,["topK"],y);const v=a(e,["candidateCount"]);v!=null&&r(l,["candidateCount"],v);const h=a(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const x=a(e,["stopSequences"]);x!=null&&r(l,["stopSequences"],x);const T=a(e,["responseLogprobs"]);T!=null&&r(l,["responseLogprobs"],T);const C=a(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const M=a(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const w=a(e,["frequencyPenalty"]);w!=null&&r(l,["frequencyPenalty"],w);const L=a(e,["seed"]);L!=null&&r(l,["seed"],L);const G=a(e,["responseMimeType"]);G!=null&&r(l,["responseMimeType"],G);const Y=a(e,["responseSchema"]);Y!=null&&r(l,["responseSchema"],p1(Su(Y)));const O=a(e,["responseJsonSchema"]);O!=null&&r(l,["responseJsonSchema"],O);const I=a(e,["routingConfig"]);I!=null&&r(l,["routingConfig"],I);const X=a(e,["modelSelectionConfig"]);X!=null&&r(l,["modelConfig"],h1(X));const V=a(e,["safetySettings"]);if(i!==void 0&&V!=null){let ge=V;Array.isArray(ge)&&(ge=ge.map(q=>g1(q))),r(i,["safetySettings"],ge)}const H=a(e,["tools"]);if(i!==void 0&&H!=null){let ge=Oo(H);Array.isArray(ge)&&(ge=ge.map(q=>Fh(Jo(q)))),r(i,["tools"],ge)}const Q=a(e,["toolConfig"]);i!==void 0&&Q!=null&&r(i,["toolConfig"],D1(Q));const j=a(e,["labels"]);i!==void 0&&j!=null&&r(i,["labels"],j);const Z=a(e,["cachedContent"]);i!==void 0&&Z!=null&&r(i,["cachedContent"],tn(n,Z));const oe=a(e,["responseModalities"]);oe!=null&&r(l,["responseModalities"],oe);const ie=a(e,["mediaResolution"]);ie!=null&&r(l,["mediaResolution"],ie);const ae=a(e,["speechConfig"]);ae!=null&&r(l,["speechConfig"],k1(Cu(ae)));const Xe=a(e,["audioTimestamp"]);Xe!=null&&r(l,["audioTimestamp"],Xe);const de=a(e,["thinkingConfig"]);return de!=null&&r(l,["thinkingConfig"],L1(de)),l}function Jp(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["contents"]);if(c!=null){let m=Rt(c);Array.isArray(m)&&(m=m.map(y=>$o(y))),r(i,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(i,["generationConfig"],V1(n,d,i)),i}function P1(n,e){const i={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=a(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const m=a(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const y=a(n,["autoTruncate"]);return e!==void 0&&y!=null&&r(e,["parameters","autoTruncate"],y),i}function q1(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["contents"]);c!=null&&r(i,["instances[]","content"],Tu(n,c));const d=a(e,["config"]);return d!=null&&r(i,["config"],P1(d,i)),i}function G1(n,e){const i={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=a(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const y=a(n,["guidanceScale"]);e!==void 0&&y!=null&&r(e,["parameters","guidanceScale"],y);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["parameters","seed"],v);const h=a(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const x=a(n,["personGeneration"]);e!==void 0&&x!=null&&r(e,["parameters","personGeneration"],x);const T=a(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&r(e,["parameters","includeSafetyAttributes"],T);const C=a(n,["includeRaiReason"]);e!==void 0&&C!=null&&r(e,["parameters","includeRaiReason"],C);const M=a(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const w=a(n,["outputMimeType"]);e!==void 0&&w!=null&&r(e,["parameters","outputOptions","mimeType"],w);const L=a(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&r(e,["parameters","outputOptions","compressionQuality"],L);const G=a(n,["addWatermark"]);e!==void 0&&G!=null&&r(e,["parameters","addWatermark"],G);const Y=a(n,["imageSize"]);e!==void 0&&Y!=null&&r(e,["parameters","sampleImageSize"],Y);const O=a(n,["enhancePrompt"]);return e!==void 0&&O!=null&&r(e,["parameters","enhancePrompt"],O),i}function H1(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=a(e,["config"]);return d!=null&&r(i,["config"],G1(d,i)),i}function Ut(n){const e={},i=a(n,["gcsUri"]);i!=null&&r(e,["gcsUri"],i);const l=a(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Xn(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function B1(n){const e={},i=a(n,["maskMode"]);i!=null&&r(e,["maskMode"],i);const l=a(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const c=a(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function F1(n){const e={},i=a(n,["controlType"]);i!=null&&r(e,["controlType"],i);const l=a(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function z1(n){const e={},i=a(n,["styleDescription"]);return i!=null&&r(e,["styleDescription"],i),e}function Y1(n){const e={},i=a(n,["subjectType"]);i!=null&&r(e,["subjectType"],i);const l=a(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function J1(n){const e={},i=a(n,["referenceImage"]);i!=null&&r(e,["referenceImage"],Ut(i));const l=a(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const c=a(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=a(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],B1(d));const m=a(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],F1(m));const y=a(n,["styleImageConfig"]);y!=null&&r(e,["styleImageConfig"],z1(y));const v=a(n,["subjectImageConfig"]);return v!=null&&r(e,["subjectImageConfig"],Y1(v)),e}function O1(n,e){const i={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=a(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const y=a(n,["guidanceScale"]);e!==void 0&&y!=null&&r(e,["parameters","guidanceScale"],y);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["parameters","seed"],v);const h=a(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const x=a(n,["personGeneration"]);e!==void 0&&x!=null&&r(e,["parameters","personGeneration"],x);const T=a(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&r(e,["parameters","includeSafetyAttributes"],T);const C=a(n,["includeRaiReason"]);e!==void 0&&C!=null&&r(e,["parameters","includeRaiReason"],C);const M=a(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const w=a(n,["outputMimeType"]);e!==void 0&&w!=null&&r(e,["parameters","outputOptions","mimeType"],w);const L=a(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&r(e,["parameters","outputOptions","compressionQuality"],L);const G=a(n,["addWatermark"]);e!==void 0&&G!=null&&r(e,["parameters","addWatermark"],G);const Y=a(n,["editMode"]);e!==void 0&&Y!=null&&r(e,["parameters","editMode"],Y);const O=a(n,["baseSteps"]);return e!==void 0&&O!=null&&r(e,["parameters","editConfig","baseSteps"],O),i}function K1(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=a(e,["referenceImages"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>J1(v))),r(i,["instances[0]","referenceImages"],y)}const m=a(e,["config"]);return m!=null&&r(i,["config"],O1(m,i)),i}function $1(n,e){const i={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(n,["includeRaiReason"]);e!==void 0&&c!=null&&r(e,["parameters","includeRaiReason"],c);const d=a(n,["outputMimeType"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","mimeType"],d);const m=a(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&r(e,["parameters","outputOptions","compressionQuality"],m);const y=a(n,["enhanceInputImage"]);e!==void 0&&y!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],y);const v=a(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const h=a(n,["numberOfImages"]);e!==void 0&&h!=null&&r(e,["parameters","sampleCount"],h);const x=a(n,["mode"]);return e!==void 0&&x!=null&&r(e,["parameters","mode"],x),i}function X1(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["image"]);c!=null&&r(i,["instances[0]","image"],Ut(c));const d=a(e,["upscaleFactor"]);d!=null&&r(i,["parameters","upscaleConfig","upscaleFactor"],d);const m=a(e,["config"]);return m!=null&&r(i,["config"],$1(m,i)),i}function Q1(n){const e={},i=a(n,["productImage"]);return i!=null&&r(e,["image"],Ut(i)),e}function Z1(n,e){const i={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["personImage"]);e!==void 0&&c!=null&&r(e,["instances[0]","personImage","image"],Ut(c));const d=a(n,["productImages"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>Q1(y))),r(e,["instances[0]","productImages"],m)}return i}function W1(n,e){const i={},l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(n,["baseSteps"]);e!==void 0&&c!=null&&r(e,["parameters","editConfig","baseSteps"],c);const d=a(n,["outputGcsUri"]);e!==void 0&&d!=null&&r(e,["parameters","storageUri"],d);const m=a(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const y=a(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&r(e,["parameters","safetySetting"],y);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const h=a(n,["addWatermark"]);e!==void 0&&h!=null&&r(e,["parameters","addWatermark"],h);const x=a(n,["outputMimeType"]);e!==void 0&&x!=null&&r(e,["parameters","outputOptions","mimeType"],x);const T=a(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&r(e,["parameters","outputOptions","compressionQuality"],T);const C=a(n,["enhancePrompt"]);return e!==void 0&&C!=null&&r(e,["parameters","enhancePrompt"],C),i}function j1(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["source"]);c!=null&&r(i,["config"],Z1(c,i));const d=a(e,["config"]);return d!=null&&r(i,["config"],W1(d,i)),i}function eA(n){const e={},i=a(n,["image"]);return i!=null&&r(e,["image"],Ut(i)),e}function tA(n,e){const i={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],Ut(c));const d=a(n,["scribbleImage"]);return e!==void 0&&d!=null&&r(e,["instances[0]","scribble"],eA(d)),i}function nA(n,e){const i={},l=a(n,["mode"]);e!==void 0&&l!=null&&r(e,["parameters","mode"],l);const c=a(n,["maxPredictions"]);e!==void 0&&c!=null&&r(e,["parameters","maxPredictions"],c);const d=a(n,["confidenceThreshold"]);e!==void 0&&d!=null&&r(e,["parameters","confidenceThreshold"],d);const m=a(n,["maskDilation"]);e!==void 0&&m!=null&&r(e,["parameters","maskDilation"],m);const y=a(n,["binaryColorThreshold"]);return e!==void 0&&y!=null&&r(e,["parameters","binaryColorThreshold"],y),i}function oA(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["source"]);c!=null&&r(i,["config"],tA(c,i));const d=a(e,["config"]);return d!=null&&r(i,["config"],nA(d,i)),i}function iA(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","name"],Ee(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function lA(n,e,i){const l={},c=a(e,["pageSize"]);i!==void 0&&c!=null&&r(i,["_query","pageSize"],c);const d=a(e,["pageToken"]);i!==void 0&&d!=null&&r(i,["_query","pageToken"],d);const m=a(e,["filter"]);i!==void 0&&m!=null&&r(i,["_query","filter"],m);const y=a(e,["queryBase"]);return i!==void 0&&y!=null&&r(i,["_url","models_url"],Ah(n,y)),l}function sA(n,e){const i={},l=a(e,["config"]);return l!=null&&r(i,["config"],lA(n,l,i)),i}function aA(n,e){const i={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=a(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),i}function rA(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],aA(c,i)),i}function uA(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","name"],Ee(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],c),i}function cA(n,e){const i={},l=a(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],$o(ot(l)));const c=a(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>Fh(y))),r(e,["tools"],m)}const d=a(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),i}function fA(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["contents"]);if(c!=null){let m=Rt(c);Array.isArray(m)&&(m=m.map(y=>$o(y))),r(i,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(i,["config"],cA(d,i)),i}function dA(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["contents"]);if(c!=null){let m=Rt(c);Array.isArray(m)&&(m=m.map(y=>$o(y))),r(i,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(i,["config"],d),i}function zh(n){const e={},i=a(n,["uri"]);i!=null&&r(e,["gcsUri"],i);const l=a(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Xn(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function mA(n,e){const i={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],Ut(c));const d=a(n,["video"]);return e!==void 0&&d!=null&&r(e,["instances[0]","video"],zh(d)),i}function pA(n){const e={},i=a(n,["image"]);i!=null&&r(e,["image"],Ut(i));const l=a(n,["referenceType"]);return l!=null&&r(e,["referenceType"],l),e}function hA(n){const e={},i=a(n,["image"]);i!=null&&r(e,["_self"],Ut(i));const l=a(n,["maskMode"]);return l!=null&&r(e,["maskMode"],l),e}function gA(n,e){const i={},l=a(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=a(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const m=a(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const v=a(n,["aspectRatio"]);e!==void 0&&v!=null&&r(e,["parameters","aspectRatio"],v);const h=a(n,["resolution"]);e!==void 0&&h!=null&&r(e,["parameters","resolution"],h);const x=a(n,["personGeneration"]);e!==void 0&&x!=null&&r(e,["parameters","personGeneration"],x);const T=a(n,["pubsubTopic"]);e!==void 0&&T!=null&&r(e,["parameters","pubsubTopic"],T);const C=a(n,["negativePrompt"]);e!==void 0&&C!=null&&r(e,["parameters","negativePrompt"],C);const M=a(n,["enhancePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","enhancePrompt"],M);const w=a(n,["generateAudio"]);e!==void 0&&w!=null&&r(e,["parameters","generateAudio"],w);const L=a(n,["lastFrame"]);e!==void 0&&L!=null&&r(e,["instances[0]","lastFrame"],Ut(L));const G=a(n,["referenceImages"]);if(e!==void 0&&G!=null){let I=G;Array.isArray(I)&&(I=I.map(X=>pA(X))),r(e,["instances[0]","referenceImages"],I)}const Y=a(n,["mask"]);e!==void 0&&Y!=null&&r(e,["instances[0]","mask"],hA(Y));const O=a(n,["compressionQuality"]);return e!==void 0&&O!=null&&r(e,["parameters","compressionQuality"],O),i}function yA(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["_url","model"],Ee(n,l));const c=a(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=a(e,["image"]);d!=null&&r(i,["instances[0]","image"],Ut(d));const m=a(e,["video"]);m!=null&&r(i,["instances[0]","video"],zh(m));const y=a(e,["source"]);y!=null&&r(i,["config"],mA(y,i));const v=a(e,["config"]);return v!=null&&r(i,["config"],gA(v,i)),i}function vA(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function xA(n){const e={},i=a(n,["data"]);i!=null&&r(e,["data"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function TA(n){const e={},i=a(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function SA(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function CA(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],vA(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],xA(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],TA(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],SA(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function EA(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>CA(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function AA(n){const e={},i=a(n,["citationSources"]);return i!=null&&r(e,["citations"],i),e}function _A(n){const e={},i=a(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function MA(n){const e={},i=a(n,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>_A(c))),r(e,["urlMetadata"],l)}return e}function NA(n){const e={},i=a(n,["content"]);i!=null&&r(e,["content"],EA(i));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],AA(l));const c=a(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=a(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],MA(m));const y=a(n,["avgLogprobs"]);y!=null&&r(e,["avgLogprobs"],y);const v=a(n,["groundingMetadata"]);v!=null&&r(e,["groundingMetadata"],v);const h=a(n,["index"]);h!=null&&r(e,["index"],h);const x=a(n,["logprobsResult"]);x!=null&&r(e,["logprobsResult"],x);const T=a(n,["safetyRatings"]);return T!=null&&r(e,["safetyRatings"],T),e}function Op(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["candidates"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(h=>NA(h))),r(e,["candidates"],v)}const c=a(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=a(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function wA(n){const e={},i=a(n,["values"]);return i!=null&&r(e,["values"],i),e}function RA(){return{}}function bA(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>wA(m))),r(e,["embeddings"],d)}return a(n,["metadata"])!=null&&r(e,["metadata"],RA()),e}function DA(n){const e={},i=a(n,["bytesBase64Encoded"]);i!=null&&r(e,["imageBytes"],Xn(i));const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Yh(n){const e={},i=a(n,["safetyAttributes","categories"]);i!=null&&r(e,["categories"],i);const l=a(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=a(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function IA(n){const e={},i=a(n,["_self"]);i!=null&&r(e,["image"],DA(i));const l=a(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=a(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],Yh(c)),e}function UA(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>IA(m))),r(e,["generatedImages"],d)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],Yh(c)),e}function kA(n){const e={},i=a(n,["baseModel"]);i!=null&&r(e,["baseModel"],i);const l=a(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=a(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function uu(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["version"]);d!=null&&r(e,["version"],d);const m=a(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],kA(m));const y=a(n,["inputTokenLimit"]);y!=null&&r(e,["inputTokenLimit"],y);const v=a(n,["outputTokenLimit"]);v!=null&&r(e,["outputTokenLimit"],v);const h=a(n,["supportedGenerationMethods"]);return h!=null&&r(e,["supportedActions"],h),e}function LA(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["_self"]);if(c!=null){let d=_h(c);Array.isArray(d)&&(d=d.map(m=>uu(m))),r(e,["models"],d)}return e}function VA(n){const e={},i=a(n,["sdkHttpResponse"]);return i!=null&&r(e,["sdkHttpResponse"],i),e}function PA(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const c=a(n,["cachedContentTokenCount"]);return c!=null&&r(e,["cachedContentTokenCount"],c),e}function qA(n){const e={},i=a(n,["video","uri"]);i!=null&&r(e,["uri"],i);const l=a(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],Xn(l));const c=a(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function GA(n){const e={},i=a(n,["_self"]);return i!=null&&r(e,["video"],qA(i)),e}function HA(n){const e={},i=a(n,["generatedSamples"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>GA(m))),r(e,["generatedVideos"],d)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function BA(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],HA(m)),e}function FA(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function zA(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function YA(n){const e={},i=a(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function JA(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function OA(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],FA(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],zA(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],YA(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],JA(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function KA(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>OA(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function $A(n){const e={},i=a(n,["citations"]);return i!=null&&r(e,["citations"],i),e}function XA(n){const e={},i=a(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function QA(n){const e={},i=a(n,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>XA(c))),r(e,["urlMetadata"],l)}return e}function ZA(n){const e={},i=a(n,["content"]);i!=null&&r(e,["content"],KA(i));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],$A(l));const c=a(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=a(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],QA(m));const y=a(n,["avgLogprobs"]);y!=null&&r(e,["avgLogprobs"],y);const v=a(n,["groundingMetadata"]);v!=null&&r(e,["groundingMetadata"],v);const h=a(n,["index"]);h!=null&&r(e,["index"],h);const x=a(n,["logprobsResult"]);x!=null&&r(e,["logprobsResult"],x);const T=a(n,["safetyRatings"]);return T!=null&&r(e,["safetyRatings"],T),e}function Kp(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(x=>ZA(x))),r(e,["candidates"],h)}const c=a(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=a(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const m=a(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const y=a(n,["responseId"]);y!=null&&r(e,["responseId"],y);const v=a(n,["usageMetadata"]);return v!=null&&r(e,["usageMetadata"],v),e}function WA(n){const e={},i=a(n,["truncated"]);i!=null&&r(e,["truncated"],i);const l=a(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function jA(n){const e={},i=a(n,["values"]);i!=null&&r(e,["values"],i);const l=a(n,["statistics"]);return l!=null&&r(e,["statistics"],WA(l)),e}function e2(n){const e={},i=a(n,["billableCharacterCount"]);return i!=null&&r(e,["billableCharacterCount"],i),e}function t2(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["predictions[]","embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>jA(m))),r(e,["embeddings"],d)}const c=a(n,["metadata"]);return c!=null&&r(e,["metadata"],e2(c)),e}function Jh(n){const e={},i=a(n,["gcsUri"]);i!=null&&r(e,["gcsUri"],i);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],Xn(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Oh(n){const e={},i=a(n,["safetyAttributes","categories"]);i!=null&&r(e,["categories"],i);const l=a(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=a(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function ws(n){const e={},i=a(n,["_self"]);i!=null&&r(e,["image"],Jh(i));const l=a(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=a(n,["_self"]);c!=null&&r(e,["safetyAttributes"],Oh(c));const d=a(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function n2(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>ws(m))),r(e,["generatedImages"],d)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],Oh(c)),e}function o2(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>ws(d))),r(e,["generatedImages"],c)}return e}function i2(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>ws(d))),r(e,["generatedImages"],c)}return e}function l2(n){const e={},i=a(n,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>ws(c))),r(e,["generatedImages"],l)}return e}function s2(n){const e={},i=a(n,["label"]);i!=null&&r(e,["label"],i);const l=a(n,["score"]);return l!=null&&r(e,["score"],l),e}function a2(n){const e={},i=a(n,["_self"]);i!=null&&r(e,["mask"],Jh(i));const l=a(n,["labels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>s2(d))),r(e,["labels"],c)}return e}function r2(n){const e={},i=a(n,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>a2(c))),r(e,["generatedMasks"],l)}return e}function u2(n){const e={},i=a(n,["endpoint"]);i!=null&&r(e,["name"],i);const l=a(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function c2(n){const e={},i=a(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&r(e,["baseModel"],i);const l=a(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=a(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function f2(n){const e={},i=a(n,["checkpointId"]);i!=null&&r(e,["checkpointId"],i);const l=a(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=a(n,["step"]);return c!=null&&r(e,["step"],c),e}function cu(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["versionId"]);d!=null&&r(e,["version"],d);const m=a(n,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>u2(C))),r(e,["endpoints"],T)}const y=a(n,["labels"]);y!=null&&r(e,["labels"],y);const v=a(n,["_self"]);v!=null&&r(e,["tunedModelInfo"],c2(v));const h=a(n,["defaultCheckpointId"]);h!=null&&r(e,["defaultCheckpointId"],h);const x=a(n,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(C=>f2(C))),r(e,["checkpoints"],T)}return e}function d2(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["_self"]);if(c!=null){let d=_h(c);Array.isArray(d)&&(d=d.map(m=>cu(m))),r(e,["models"],d)}return e}function m2(n){const e={},i=a(n,["sdkHttpResponse"]);return i!=null&&r(e,["sdkHttpResponse"],i),e}function p2(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function h2(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function g2(n){const e={},i=a(n,["gcsUri"]);i!=null&&r(e,["uri"],i);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],Xn(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function y2(n){const e={},i=a(n,["_self"]);return i!=null&&r(e,["video"],g2(i)),e}function v2(n){const e={},i=a(n,["videos"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>y2(m))),r(e,["generatedVideos"],d)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function x2(n){const e={},i=a(n,["name"]);i!=null&&r(e,["name"],i);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response"]);return m!=null&&r(e,["response"],v2(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T2="Content-Type",S2="X-Server-Timeout",C2="User-Agent",fu="x-goog-api-client",E2="1.20.0",A2=`google-genai-sdk/${E2}`,_2="v1beta1",M2="v1beta",$p=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class N2{constructor(e){var i,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:_2,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:M2,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,l){const c=[this.getRequestUrlInternal(i)];return l&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,i,l);if(e.queryParams)for(const[m,y]of Object.entries(e.queryParams))c.searchParams.append(m,String(y));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,i,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,i){const l=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(i))typeof d=="object"?l[c]=Object.assign(Object.assign({},l[c]),d):d!==void 0&&(l[c]=d);return l}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,i,l);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,i,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,l){if(i&&i.timeout||l){const c=new AbortController,d=c.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const m=setTimeout(()=>c.abort(),i.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=d}return i&&i.extraBody!==null&&w2(e,i.extraBody),e.headers=await this.getHeadersInternal(i),e}async unaryApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async c=>(await Xp(c),new iu(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async c=>(await Xp(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var i;return Bo(this,arguments,function*(){const c=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:y,value:v}=yield Ue(c.read());if(y){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(v,{stream:!0});try{const T=JSON.parse(h);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),M=C.status,w=C.code,L=`got status: ${M}. ${JSON.stringify(T)}`;if(w>=400&&w<600)throw new Ms({message:L,status:w})}}catch(T){if(T.name==="ApiError")throw T}m+=h;let x=m.match($p);for(;x;){const T=x[1];try{const C=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ue(new iu(C)),m=m.slice(x[0].length),x=m.match($p)}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}finally{c.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},i=A2+" "+this.clientOptions.userAgentExtra;return e[C2]=i,e[fu]=i,e[T2]="application/json",e}async getHeadersInternal(e){const i=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))i.append(l,c);e.timeout&&e.timeout>0&&i.append(S2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(e,i){var l;const c={};i!=null&&(c.mimeType=i.mimeType,c.name=i.name,c.displayName=i.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,m=await d.stat(e);c.sizeBytes=String(m.size);const y=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=y;const v=await this.fetchUploadUrl(c,i);return d.upload(e,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var l;let c={};i!=null&&i.httpOptions?c=i.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},m=await this.request({path:te("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Xp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(l);throw i>=400&&i<600?new Ms({message:c,status:i}):new Error(c)}}function w2(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))i=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(d,m){const y=Object.assign({},d);for(const v in m)if(Object.prototype.hasOwnProperty.call(m,v)){const h=m[v],x=y[v];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?y[v]=l(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),y[v]=h)}return y}const c=l(i,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R2="mcp_used/unknown";let b2=!1;function Kh(n){for(const e of n)if(D2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return b2}function $h(n){var e;const i=(e=n[fu])!==null&&e!==void 0?e:"";n[fu]=(i+` ${R2}`).trimStart()}function D2(n){return n!==null&&typeof n=="object"&&n instanceof _u}function I2(n,e=100){return Bo(this,arguments,function*(){let l,c=0;for(;c<e;){const d=yield Ue(n.listTools({cursor:l}));for(const m of d.tools)yield yield Ue(m),c++;if(!d.nextCursor)break;l=d.nextCursor}})}class _u{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new _u(e,i)}async initialize(){var e,i,l,c;if(this.mcpTools.length>0)return;const d={},m=[];for(const x of this.mcpClients)try{for(var y=!0,v=(i=void 0,Xi(I2(x))),h;h=await v.next(),e=h.done,!e;y=!0){c=h.value,y=!1;const T=c;m.push(T);const C=T.name;if(d[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);d[C]=x}}catch(T){i={error:T}}finally{try{!y&&!e&&(l=v.return)&&await l.call(v)}finally{if(i)throw i.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Kv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[l.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await c.callTool({name:l.name,arguments:l.args},void 0,d);i.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function U2(n,e,i){const l=new Gv;let c;i.data instanceof Blob?c=JSON.parse(await i.data.text()):c=JSON.parse(i.data);const d=uE(c);Object.assign(l,d),e(l)}class k2{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l}async connect(e){var i,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=P2(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),v=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${y}`;let h=()=>{};const x=new Promise(I=>{h=I}),T=e.callbacks,C=function(){h({})},M=this.apiClient,w={onopen:C,onmessage:I=>{U2(M,T.onmessage,I)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(I){},onclose:(l=T==null?void 0:T.onclose)!==null&&l!==void 0?l:function(I){}},L=this.webSocketFactory.create(v,V2(m),w);L.connect(),await x;const G=Ee(this.apiClient,e.model),Y=Vh({model:G}),O=ru({setup:Y});return L.send(JSON.stringify(O)),new L2(L,this.apiClient)}}class L2{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=sC(e),l=Ph(i);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=aC(e),l=ru(i);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const i=ru({playbackControl:e});this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Go.PLAY)}pause(){this.sendPlaybackControl(Go.PAUSE)}stop(){this.sendPlaybackControl(Go.STOP)}resetContext(){this.sendPlaybackControl(Go.RESET_CONTEXT)}close(){this.conn.close()}}function V2(n){const e={};return n.forEach((i,l)=>{e[l]=i}),e}function P2(n){const e=new Headers;for(const[i,l]of Object.entries(n))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function G2(n,e,i){const l=new qv;let c;i.data instanceof Blob?c=await i.data.text():i.data instanceof ArrayBuffer?c=new TextDecoder().decode(i.data):c=i.data;const d=JSON.parse(c);if(n.isVertexAI()){const m=CE(d);Object.assign(l,m)}else{const m=eE(d);Object.assign(l,m)}e(l)}class H2{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l,this.music=new k2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,l,c,d,m,y;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Kh(e.config.tools)&&$h(T);const C=Y2(T);if(this.apiClient.isVertexAI())x=`${v}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const Z=this.apiClient.getApiKey();let oe="BidiGenerateContent",ie="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),oe="BidiGenerateContentConstrained",ie="access_token"),x=`${v}/ws/google.ai.generativelanguage.${h}.GenerativeService.${oe}?${ie}=${Z}`}let M=()=>{};const w=new Promise(Z=>{M=Z}),L=e.callbacks,G=function(){var Z;(Z=L==null?void 0:L.onopen)===null||Z===void 0||Z.call(L),M({})},Y=this.apiClient,O={onopen:G,onmessage:Z=>{G2(Y,L.onmessage,Z)},onerror:(i=L==null?void 0:L.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(l=L==null?void 0:L.onclose)!==null&&l!==void 0?l:function(Z){}},I=this.webSocketFactory.create(x,z2(C),O);I.connect(),await w;let X=Ee(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const Z=this.apiClient.getProject(),oe=this.apiClient.getLocation();X=`projects/${Z}/locations/${oe}/`+X}let V={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ss.AUDIO]}:e.config.responseModalities=[Ss.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const H=(y=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&y!==void 0?y:[],Q=[];for(const Z of H)if(this.isCallableTool(Z)){const oe=Z;Q.push(await oe.tool())}else Q.push(Z);Q.length>0&&(e.config.tools=Q);const j={model:X,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=VC(this.apiClient,j):V=nC(this.apiClient,j),delete V.config,I.send(JSON.stringify(V)),new F2(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const B2={turnComplete:!0};class F2{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let l=[];try{l=Rt(i.turns),e.isVertexAI()?l=l.map(c=>$o(c)):l=l.map(c=>Ns(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:l,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let l=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?l=i.functionResponses:l=[i.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const d of l){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(q2)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},B2),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:GC(e)}:i={realtimeInput:lC(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function z2(n){const e={};return n.forEach((i,l)=>{e[l]=i}),e}function Y2(n){const e=new Headers;for(const[i,l]of Object.entries(n))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qp=10;function Zp(n){var e,i,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Fo(m)){c=!0;break}if(!c)return!0;const d=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Fo(n){return"callTool"in n&&typeof n.callTool=="function"}function J2(n){var e,i,l;return(l=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(c=>Fo(c)))!==null&&l!==void 0?l:!1}function O2(n){var e,i,l;return(l=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(c=>!Fo(c)))!==null&&l!==void 0?l:!1}function Wp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K2 extends $n{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var l,c,d,m,y;const v=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!J2(i)||Zp(i.config))return await this.generateContentInternal(v);if(O2(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,x;const T=Rt(v.contents),C=(d=(c=(l=v.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:Qp;let M=0;for(;M<C&&(h=await this.generateContentInternal(v),!(!h.functionCalls||h.functionCalls.length===0));){const w=h.candidates[0].content,L=[];for(const G of(y=(m=i.config)===null||m===void 0?void 0:m.tools)!==null&&y!==void 0?y:[])if(Fo(G)){const O=await G.callTool(h.functionCalls);L.push(...O)}M++,x={role:"user",parts:L},v.contents=Rt(v.contents),v.contents.push(w),v.contents.push(x),Wp(v.config)&&(T.push(w),T.push(x))}return Wp(v.config)&&(h.automaticFunctionCallingHistory=T),h},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),Zp(i.config)){const l=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(l=>{var c;let d;const m=[];if(l!=null&&l.generatedImages)for(const v of l.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((c=v==null?void 0:v.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:m.push(v);let y;return d?y={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:l.sdkHttpResponse}:y={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},y}),this.list=async i=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Zi(Kn.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(m),m)},this.editImage=async i=>{const l={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(l.referenceImages=i.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async i=>{let l={numberOfImages:1,mode:"upscale"};i.config&&(l=Object.assign(Object.assign({},l),i.config));const c={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:l};return await this.upscaleImageInternal(c)},this.generateVideos=async i=>{if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,l,c;const d=(i=e.config)===null||i===void 0?void 0:i.tools;if(!d)return e;const m=await Promise.all(d.map(async v=>Fo(v)?await v.tool():v)),y={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(y.config.tools=m,e.config&&e.config.tools&&Kh(e.config.tools)){const v=(c=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{};let h=Object.assign({},v);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),$h(h),y.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return y}async initAfcToolsMap(e){var i,l,c;const d=new Map;for(const m of(l=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&l!==void 0?l:[])if(Fo(m)){const y=m,v=await y.tool();for(const h of(c=v.functionDeclarations)!==null&&c!==void 0?c:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,y)}}return d}async processAfcStream(e){var i,l,c;const d=(c=(l=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:Qp;let m=!1,y=0;const v=await this.initAfcToolsMap(e);return(function(h,x,T){var C,M;return Bo(this,arguments,function*(){for(var w,L,G,Y;y<d;){m&&(y++,m=!1);const V=yield Ue(h.processParamsMaybeAddMcpUsage(T)),H=yield Ue(h.generateContentStreamInternal(V)),Q=[],j=[];try{for(var O=!0,I=(L=void 0,Xi(H)),X;X=yield Ue(I.next()),w=X.done,!w;O=!0){Y=X.value,O=!1;const Z=Y;if(yield yield Ue(Z),Z.candidates&&(!((C=Z.candidates[0])===null||C===void 0)&&C.content)){j.push(Z.candidates[0].content);for(const oe of(M=Z.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(y<d&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(oe.functionCall.name)){const ie=yield Ue(x.get(oe.functionCall.name).callTool([oe.functionCall]));Q.push(...ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(Z){L={error:Z}}finally{try{!O&&!w&&(G=I.return)&&(yield Ue(G.call(I)))}finally{if(L)throw L.error}}if(Q.length>0){m=!0;const Z=new $i;Z.candidates=[{content:{role:"user",parts:Q}}],yield yield Ue(Z);const oe=[];oe.push(...j),oe.push({role:"user",parts:Q});const ie=Rt(T.contents).concat(oe);T.contents=ie}else break}})})(this,v,e)}async generateContentInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=Jp(this.apiClient,e);return y=te("{model}:generateContent",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=Kp(x),C=new $i;return Object.assign(C,T),C})}else{const h=Yp(this.apiClient,e);return y=te("{model}:generateContent",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=Op(x),C=new $i;return Object.assign(C,T),C})}}async generateContentStreamInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=Jp(this.apiClient,e);return y=te("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(T){return Bo(this,arguments,function*(){var C,M,w,L;try{for(var G=!0,Y=Xi(T),O;O=yield Ue(Y.next()),C=O.done,!C;G=!0){L=O.value,G=!1;const I=L,X=Kp(yield Ue(I.json()));X.sdkHttpResponse={headers:I.headers};const V=new $i;Object.assign(V,X),yield yield Ue(V)}}catch(I){M={error:I}}finally{try{!G&&!C&&(w=Y.return)&&(yield Ue(w.call(Y)))}finally{if(M)throw M.error}}})})}else{const h=Yp(this.apiClient,e);return y=te("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(T){return Bo(this,arguments,function*(){var C,M,w,L;try{for(var G=!0,Y=Xi(T),O;O=yield Ue(Y.next()),C=O.done,!C;G=!0){L=O.value,G=!1;const I=L,X=Op(yield Ue(I.json()));X.sdkHttpResponse={headers:I.headers};const V=new $i;Object.assign(V,X),yield yield Ue(V)}}catch(I){M={error:I}}finally{try{!G&&!C&&(w=Y.return)&&(yield Ue(w.call(Y)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=q1(this.apiClient,e);return y=te("{model}:predict",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=t2(x),C=new Ap;return Object.assign(C,T),C})}else{const h=XE(this.apiClient,e);return y=te("{model}:batchEmbedContents",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=bA(x),C=new Ap;return Object.assign(C,T),C})}}async generateImagesInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=H1(this.apiClient,e);return y=te("{model}:predict",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=n2(x),C=new _p;return Object.assign(C,T),C})}else{const h=ZE(this.apiClient,e);return y=te("{model}:predict",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=UA(x),C=new _p;return Object.assign(C,T),C})}}async editImageInternal(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const y=K1(this.apiClient,e);return d=te("{model}:predict",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const h=o2(v),x=new bv;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const y=X1(this.apiClient,e);return d=te("{model}:predict",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const h=i2(v),x=new Dv;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const y=j1(this.apiClient,e);return d=te("{model}:predict",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const h=l2(v),x=new Iv;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const y=oA(this.apiClient,e);return d=te("{model}:predict",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const h=r2(v),x=new Uv;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=iA(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>cu(x))}else{const h=WE(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>uu(x))}}async listInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=sA(this.apiClient,e);return y=te("{models_url}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=d2(x),C=new Mp;return Object.assign(C,T),C})}else{const h=e1(this.apiClient,e);return y=te("{models_url}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=LA(x),C=new Mp;return Object.assign(C,T),C})}}async update(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=rA(this.apiClient,e);return y=te("{model}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>cu(x))}else{const h=n1(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>uu(x))}}async delete(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=uA(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=m2(x),C=new Np;return Object.assign(C,T),C})}else{const h=o1(this.apiClient,e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=VA(x),C=new Np;return Object.assign(C,T),C})}}async countTokens(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=fA(this.apiClient,e);return y=te("{model}:countTokens",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=p2(x),C=new wp;return Object.assign(C,T),C})}else{const h=l1(this.apiClient,e);return y=te("{model}:countTokens",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=PA(x),C=new wp;return Object.assign(C,T),C})}}async computeTokens(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const y=dA(this.apiClient,e);return d=te("{model}:computeTokens",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const h=h2(v),x=new kv;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=yA(this.apiClient,e);return y=te("{model}:predictLongRunning",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>{const T=x2(x),C=new Cs;return Object.assign(C,T),C})}else{const h=r1(this.apiClient,e);return y=te("{model}:predictLongRunning",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>{const T=BA(x),C=new Cs;return Object.assign(C,T),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $2 extends $n{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=i.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:c,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=i.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:c,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=Sv(e);return y=te("{operationName}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m}else{const h=xv(e);return y=te("{operationName}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m}}async fetchPredictVideosOperationInternal(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const y=Tv(e);return d=te("{resourceName}:fetchPredictOperation",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X2(n){const e={},i=a(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function Xh(n){const e={},i=a(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],X2(i)),e}function Q2(n){const e={},i=a(n,["speaker"]);i!=null&&r(e,["speaker"],i);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Xh(l)),e}function Z2(n){const e={},i=a(n,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Q2(c))),r(e,["speakerVoiceConfigs"],l)}return e}function W2(n){const e={},i=a(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],Xh(i));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],Z2(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function j2(n){const e={},i=a(n,["fps"]);i!=null&&r(e,["fps"],i);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function e_(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["data"]);i!=null&&r(e,["data"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function t_(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function n_(n){const e={},i=a(n,["id"]);i!=null&&r(e,["id"],i);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function o_(n){const e={},i=a(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],j2(i));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],e_(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],t_(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const y=a(n,["functionCall"]);y!=null&&r(e,["functionCall"],n_(y));const v=a(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const x=a(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const T=a(n,["text"]);return T!=null&&r(e,["text"],T),e}function i_(n){const e={},i=a(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>o_(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function l_(n){const e={},i=a(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const y=a(n,["response"]);y!=null&&r(e,["response"],y);const v=a(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function s_(n){const e={},i=a(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function a_(n){const e={},i=a(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],s_(i)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function r_(n){const e={},i=a(n,["mode"]);i!=null&&r(e,["mode"],i);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function u_(n){const e={},i=a(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],r_(i)),e}function c_(){return{}}function f_(n){const e={},i=a(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function d_(n){const e={},i=a(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(h=>l_(h))),r(e,["functionDeclarations"],v)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],a_(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],u_(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],c_());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],f_(m));const y=a(n,["codeExecution"]);return y!=null&&r(e,["codeExecution"],y),e}function m_(n){const e={},i=a(n,["handle"]);if(i!=null&&r(e,["handle"],i),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jp(){return{}}function p_(n){const e={},i=a(n,["disabled"]);i!=null&&r(e,["disabled"],i);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=a(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function h_(n){const e={},i=a(n,["automaticActivityDetection"]);i!=null&&r(e,["automaticActivityDetection"],p_(i));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function g_(n){const e={},i=a(n,["targetTokens"]);return i!=null&&r(e,["targetTokens"],i),e}function y_(n){const e={},i=a(n,["triggerTokens"]);i!=null&&r(e,["triggerTokens"],i);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],g_(l)),e}function v_(n){const e={},i=a(n,["proactiveAudio"]);return i!=null&&r(e,["proactiveAudio"],i),e}function x_(n,e){const i={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=a(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const y=a(n,["topK"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","topK"],y);const v=a(n,["maxOutputTokens"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","maxOutputTokens"],v);const h=a(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const x=a(n,["seed"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","seed"],x);const T=a(n,["speechConfig"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","speechConfig"],W2(Eu(T)));const C=a(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const M=a(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],i_(ot(M)));const w=a(n,["tools"]);if(e!==void 0&&w!=null){let V=Oo(w);Array.isArray(V)&&(V=V.map(H=>d_(Jo(H)))),r(e,["setup","tools"],V)}const L=a(n,["sessionResumption"]);e!==void 0&&L!=null&&r(e,["setup","sessionResumption"],m_(L));const G=a(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&r(e,["setup","inputAudioTranscription"],jp());const Y=a(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","outputAudioTranscription"],jp());const O=a(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&r(e,["setup","realtimeInputConfig"],h_(O));const I=a(n,["contextWindowCompression"]);e!==void 0&&I!=null&&r(e,["setup","contextWindowCompression"],y_(I));const X=a(n,["proactivity"]);return e!==void 0&&X!=null&&r(e,["setup","proactivity"],v_(X)),i}function T_(n,e){const i={},l=a(e,["model"]);l!=null&&r(i,["setup","model"],Ee(n,l));const c=a(e,["config"]);return c!=null&&r(i,["config"],x_(c,i)),i}function S_(n,e,i){const l={},c=a(e,["expireTime"]);i!==void 0&&c!=null&&r(i,["expireTime"],c);const d=a(e,["newSessionExpireTime"]);i!==void 0&&d!=null&&r(i,["newSessionExpireTime"],d);const m=a(e,["uses"]);i!==void 0&&m!=null&&r(i,["uses"],m);const y=a(e,["liveConnectConstraints"]);i!==void 0&&y!=null&&r(i,["bidiGenerateContentSetup"],T_(n,y));const v=a(e,["lockAdditionalFields"]);return i!==void 0&&v!=null&&r(i,["fieldMask"],v),l}function C_(n,e){const i={},l=a(e,["config"]);return l!=null&&r(i,["config"],S_(n,l,i)),i}function E_(n){const e={},i=a(n,["name"]);return i!=null&&r(e,["name"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A_(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const l=n[i];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const c=Object.keys(l).map(d=>`${i}.${d}`);e.push(...c)}else e.push(i)}return e.join(",")}function __(n,e){let i=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const d=l.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,i=d):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(i){const d=A_(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let y=[];c.length>0&&(y=c.map(h=>m.includes(h)?`generationConfig.${h}`:h));const v=[];d&&v.push(d),y.length>0&&v.push(...y),v.length>0?n.fieldMask=v.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class M_ extends $n{constructor(e){super(),this.apiClient=e}async create(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const y=C_(this.apiClient,e);d=te("auth_tokens",y._url),m=y._query,delete y.config,delete y._url,delete y._query;const v=__(y,e.config);return c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>E_(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N_(n){const e={},i=a(n,["name"]);i!=null&&r(e,["_url","name"],i);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function w_(n,e){const i={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=a(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),i}function R_(n){const e={},i=a(n,["config"]);return i!=null&&r(e,["config"],w_(i,e)),e}function b_(n){const e={},i=a(n,["name"]);i!=null&&r(e,["_url","name"],i);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function D_(n){const e={},i=a(n,["textInput"]);i!=null&&r(e,["textInput"],i);const l=a(n,["output"]);return l!=null&&r(e,["output"],l),e}function I_(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=a(n,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>D_(c))),r(e,["examples","examples"],l)}return e}function U_(n,e){const i={};if(a(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),a(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=a(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=a(n,["learningRateMultiplier"]);if(d!=null&&r(i,["tuningTask","hyperparameters","learningRateMultiplier"],d),a(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=a(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const y=a(n,["learningRate"]);if(e!==void 0&&y!=null&&r(e,["tuningTask","hyperparameters","learningRate"],y),a(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return i}function k_(n){const e={},i=a(n,["baseModel"]);i!=null&&r(e,["baseModel"],i);const l=a(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const c=a(n,["trainingDataset"]);c!=null&&r(e,["tuningTask","trainingData"],I_(c));const d=a(n,["config"]);return d!=null&&r(e,["config"],U_(d,e)),e}function L_(n){const e={},i=a(n,["name"]);i!=null&&r(e,["_url","name"],i);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function V_(n,e){const i={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=a(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),i}function P_(n){const e={},i=a(n,["config"]);return i!=null&&r(e,["config"],V_(i,e)),e}function q_(n){const e={},i=a(n,["name"]);i!=null&&r(e,["_url","name"],i);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function G_(n,e){const i={},l=a(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const c=a(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),a(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function H_(n,e){const i={},l=a(n,["gcsUri"]);l!=null&&r(i,["validationDatasetUri"],l);const c=a(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),i}function B_(n,e){const i={},l=a(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],H_(l,i));const c=a(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=a(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const m=a(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const y=a(n,["learningRateMultiplier"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const v=a(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v);const h=a(n,["preTunedModelCheckpointId"]);h!=null&&r(i,["preTunedModel","checkpointId"],h);const x=a(n,["adapterSize"]);if(e!==void 0&&x!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x),a(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=a(n,["labels"]);return e!==void 0&&T!=null&&r(e,["labels"],T),i}function F_(n){const e={},i=a(n,["baseModel"]);i!=null&&r(e,["baseModel"],i);const l=a(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const c=a(n,["trainingDataset"]);c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],G_(c,e));const d=a(n,["config"]);return d!=null&&r(e,["config"],B_(d,e)),e}function z_(n){const e={},i=a(n,["name"]);i!=null&&r(e,["model"],i);const l=a(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function Qh(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["state"]);c!=null&&r(e,["state"],Ch(c));const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const y=a(n,["tuningTask","completeTime"]);y!=null&&r(e,["endTime"],y);const v=a(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const h=a(n,["description"]);h!=null&&r(e,["description"],h);const x=a(n,["baseModel"]);x!=null&&r(e,["baseModel"],x);const T=a(n,["_self"]);T!=null&&r(e,["tunedModel"],z_(T));const C=a(n,["customBaseModel"]);C!=null&&r(e,["customBaseModel"],C);const M=a(n,["experiment"]);M!=null&&r(e,["experiment"],M);const w=a(n,["labels"]);w!=null&&r(e,["labels"],w);const L=a(n,["outputUri"]);L!=null&&r(e,["outputUri"],L);const G=a(n,["pipelineJob"]);G!=null&&r(e,["pipelineJob"],G);const Y=a(n,["serviceAccount"]);Y!=null&&r(e,["serviceAccount"],Y);const O=a(n,["tunedModelDisplayName"]);return O!=null&&r(e,["tunedModelDisplayName"],O),e}function Y_(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Qh(m))),r(e,["tuningJobs"],d)}return e}function J_(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["metadata"]);c!=null&&r(e,["metadata"],c);const d=a(n,["done"]);d!=null&&r(e,["done"],d);const m=a(n,["error"]);return m!=null&&r(e,["error"],m),e}function O_(n){const e={},i=a(n,["checkpointId"]);i!=null&&r(e,["checkpointId"],i);const l=a(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=a(n,["step"]);c!=null&&r(e,["step"],c);const d=a(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function K_(n){const e={},i=a(n,["model"]);i!=null&&r(e,["model"],i);const l=a(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const c=a(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>O_(m))),r(e,["checkpoints"],d)}return e}function du(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["state"]);c!=null&&r(e,["state"],Ch(c));const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["startTime"]);m!=null&&r(e,["startTime"],m);const y=a(n,["endTime"]);y!=null&&r(e,["endTime"],y);const v=a(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const h=a(n,["error"]);h!=null&&r(e,["error"],h);const x=a(n,["description"]);x!=null&&r(e,["description"],x);const T=a(n,["baseModel"]);T!=null&&r(e,["baseModel"],T);const C=a(n,["tunedModel"]);C!=null&&r(e,["tunedModel"],K_(C));const M=a(n,["preTunedModel"]);M!=null&&r(e,["preTunedModel"],M);const w=a(n,["supervisedTuningSpec"]);w!=null&&r(e,["supervisedTuningSpec"],w);const L=a(n,["tuningDataStats"]);L!=null&&r(e,["tuningDataStats"],L);const G=a(n,["encryptionSpec"]);G!=null&&r(e,["encryptionSpec"],G);const Y=a(n,["partnerModelTuningSpec"]);Y!=null&&r(e,["partnerModelTuningSpec"],Y);const O=a(n,["customBaseModel"]);O!=null&&r(e,["customBaseModel"],O);const I=a(n,["experiment"]);I!=null&&r(e,["experiment"],I);const X=a(n,["labels"]);X!=null&&r(e,["labels"],X);const V=a(n,["outputUri"]);V!=null&&r(e,["outputUri"],V);const H=a(n,["pipelineJob"]);H!=null&&r(e,["pipelineJob"],H);const Q=a(n,["serviceAccount"]);Q!=null&&r(e,["serviceAccount"],Q);const j=a(n,["tunedModelDisplayName"]);return j!=null&&r(e,["tunedModelDisplayName"],j),e}function $_(n){const e={},i=a(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>du(m))),r(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_ extends $n{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Zi(Kn.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.tune=async i=>{if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const l={tunedModelName:i.baseModel},c=Object.assign(Object.assign({},i),{preTunedModel:l});return c.baseModel=void 0,await this.tuneInternal(c)}else{const l=Object.assign({},i);return await this.tuneInternal(l)}else{const l=Object.assign({},i),c=await this.tuneMldevInternal(l);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:ou.JOB_STATE_QUEUED}}}}async getInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=L_(e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>du(x))}else{const h=N_(e);return y=te("{name}",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>Qh(x))}}async listInternal(e){var i,l,c,d;let m,y="",v={};if(this.apiClient.isVertexAI()){const h=P_(e);return y=te("tuningJobs",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=$_(x),C=new Rp;return Object.assign(C,T),C})}else{const h=R_(e);return y=te("tunedModels",h._url),v=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const T=Y_(x),C=new Rp;return Object.assign(C,T),C})}}async cancel(e){var i,l,c,d;let m="",y={};if(this.apiClient.isVertexAI()){const v=q_(e);m=te("{name}:cancel",v._url),y=v._query,delete v.config,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const v=b_(e);m=te("{name}:cancel",v._url),y=v._query,delete v.config,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const y=F_(e);return d=te("tuningJobs",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>du(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=k_(e);return d=te("tunedModels",y._url),m=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>J_(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q_{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Z_=1024*1024*8,W_=3,j_=1e3,eM=2,eu="x-goog-upload-status";async function tM(n,e,i){var l,c,d;let m=0,y=0,v=new iu(new Response),h="upload";for(m=n.size;y<m;){const T=Math.min(Z_,m-y),C=n.slice(y,y+T);y+T>=m&&(h+=", finalize");let M=0,w=j_;for(;M<W_&&(v=await i.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(y),"Content-Length":String(T)}}}),!(!((l=v==null?void 0:v.headers)===null||l===void 0)&&l[eu]));)M++,await oM(w),w=w*eM;if(y+=T,((c=v==null?void 0:v.headers)===null||c===void 0?void 0:c[eu])!=="active")break;if(m<=y)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const x=await(v==null?void 0:v.json());if(((d=v==null?void 0:v.headers)===null||d===void 0?void 0:d[eu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return x.file}async function nM(n){return{size:n.size,type:n.type}}function oM(n){return new Promise(e=>setTimeout(e,n))}class iM{async upload(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tM(e,i,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lM{create(e,i,l){return new sM(e,i,l)}}class sM{constructor(e,i,l){this.url=e,this.headers=i,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eh="x-goog-api-key";class aM{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(eh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(eh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rM="gl-node/";class Zh{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const l=vv(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const c=new aM(this.apiKey);this.apiClient=new N2({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:rM+"web",uploader:new iM,downloader:new Q_}),this.models=new K2(this.apiClient),this.live=new H2(this.apiClient,c,new lM),this.batches=new uT(this.apiClient),this.chats=new yS(this.models,this.apiClient),this.caches=new pS(this.apiClient),this.files=new bS(this.apiClient),this.operations=new $2(this.apiClient),this.authTokens=new M_(this.apiClient),this.tunings=new X_(this.apiClient)}}const Mu=new Zh({apiKey:"PLACEHOLDER_API_KEY"}),Wh=n=>new Promise((e,i)=>{const l=new FileReader;l.onloadend=()=>{const c=l.result;e(c.split(",")[1])},l.onerror=i,l.readAsDataURL(n)}),uM={type:be.OBJECT,properties:{overallScore:{type:be.INTEGER,description:"An overall score from 1 to 100 on the user's pronunciation."},summary:{type:be.STRING,description:"A brief, encouraging summary of the user's performance. It is crucial that this summary mentions any specific words the user mispronounced (based on the `wordAnalysis`) to guide their practice. For example: 'Good work! Let's focus on the word 'fox' next time.'"},wordAnalysis:{type:be.ARRAY,items:{type:be.OBJECT,properties:{word:{type:be.STRING},isCorrect:{type:be.BOOLEAN},userPronunciationError:{type:be.STRING,description:"If mispronounced, describe the specific error the user made (e.g., 'The 'sh' sound was pronounced like 's'.'). This is crucial for a good tip. Leave empty if correct."},tip:{type:be.STRING,description:"Based on the `userPronunciationError`, provide a specific, actionable tip for improvement (e.g., 'To make the 'sh' sound, round your lips and push air out.'). Leave empty if correct."},pronunciationGuide:{type:be.STRING,description:"A simplified phonetic guide for the correct pronunciation (e.g., 'SEE-shells'). This is not formal IPA. Leave empty if correct."}}}}}},cM={type:be.OBJECT,properties:{overallPronunciationGuide:{type:be.STRING,description:"A simplified phonetic guide for the entire phrase (e.g., 'SHEE SELLS SEE-shells...')."},challengingWords:{type:be.ARRAY,items:{type:be.OBJECT,properties:{word:{type:be.STRING},syllables:{type:be.STRING,description:"The word broken into syllables, e.g., 'sea-shells'."},phoneticGuide:{type:be.STRING,description:"Simplified phonetic guide for the word, e.g., 'SEE-shells'."},commonMistakes:{type:be.ARRAY,items:{type:be.STRING},description:"A list of 1-2 common pronunciation mistakes for this word."},practiceTip:{type:be.STRING,description:"A single, actionable tip for correct pronunciation (e.g., 'Touch your tongue to the roof of your mouth for the 'L' sound.')."}}}}}},fM=async(n,e,i)=>{const l=await Wh(e),c=`You are an expert speech and language therapist AI named 'Linguacare Bot'. Your analysis must be guided by the principles of a multilingual pronunciation assistant. You must judge the user's speech based on accurate, natural phonetics for the specified language, without expecting translation.

    Your task is to analyze a user's pronunciation from an audio recording and provide constructive feedback.

    The user was asked to say the following phrase in ${i}:
    "${n}"
    
    The standard for correct pronunciation is the natural, native accent of that language (e.g., Tamil phonetics for Tamil text, Malayalam phonetics for Malayalam text).
    
    Analyze the provided audio. Compare the user's speech against the target phrase based on these high standards. Provide a detailed analysis in the specified JSON format. The feedback should be encouraging, clear, and helpful for someone practicing their speech.
    
    - For \`overallScore\`, provide an integer between 1 and 100.
    - For \`summary\`, give a concise, positive summary. Crucially, if there are any mispronounced words in your \`wordAnalysis\` (where \`isCorrect\` is false), you MUST mention those specific words by name in the summary. This makes the feedback personal and actionable. For example: 'Great effort! Let's focus on the words 'seashells' and 'seashore' for next time.'
    - For \`wordAnalysis\`, provide a detailed analysis for every single word in the original phrase.
    - If a word is pronounced correctly, set \`isCorrect\` to true and leave the other fields empty for that word.
    - If a word is mispronounced (\`isCorrect\` is false), you MUST complete the following fields:
      1. \`userPronunciationError\`: First, identify and describe the specific mistake the user made. Be precise. Examples: "The user said 'sip' instead of 'ship', replacing the 'sh' sound with 's'." or "The vowel sound in 'run' was too long, sounding more like 'ruun'."
      2. \`tip\`: Based *directly* on the \`userPronunciationError\`, provide one single, highly specific, and actionable tip to fix the mistake. This is the most important part of the feedback. Examples: "For the 'sh' sound, try rounding your lips and pushing air through them, like you're telling someone to be quiet." or "Keep the vowel sound in 'run' short and quick."
      3. \`pronunciationGuide\`: Provide a simplified phonetic guide for the correct pronunciation.`,d=await Mu.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:c},{inlineData:{mimeType:e.type,data:l}}]},config:{responseMimeType:"application/json",responseSchema:uM}});try{const m=d.text.trim();return JSON.parse(m)}catch{throw console.error("Failed to parse Gemini response:",d.text),new Error("The AI returned an invalid response format.")}},dM=async(n,e)=>{const i=`You are an expert multilingual pronunciation assistant. Your job is to provide text-based guides for accurately pronouncing words and sentences in the language they are written in, without translating them.
- For Tamil text, provide guides based on natural Tamil phonetics.
- For Malayalam text, provide guides based on natural Malayalam phonetics.
- For English text, provide guides based on standard English pronunciation.
Do not translate or alter the script. Just create pronunciation guides for the text as written, in the native accent of that language.

Your task is to provide a detailed pronunciation guide for a given phrase for a user learning ${e}.

The phrase is: "${n}"

Please analyze this phrase and identify 1 to 3 words that might be challenging for a learner. Provide a detailed breakdown for these words.
    
Your entire response must be in the specified JSON format.
- \`overallPronunciationGuide\`: Create a simple, phonetic guide for the whole phrase.
- \`challengingWords\`: For each challenging word you identify, provide its syllables, a phonetic guide, common mistakes, and one key practice tip.`,l=await Mu.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json",responseSchema:cM}});try{const c=l.text.trim();return JSON.parse(c)}catch{throw console.error("Failed to parse Gemini response for detailed analysis:",l.text),new Error("The AI returned an invalid response format for the pronunciation guide.")}},mM=async n=>{const e=await Wh(n),i="Transcribe the following audio recording. Provide only the transcribed text and nothing else.";try{return(await Mu.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:i},{inlineData:{mimeType:n.type||"audio/webm",data:e}}]}})).text.trim()}catch(l){throw console.error("Error during audio transcription:",l),new Error("Failed to transcribe audio.")}},pM=({phrase:n,language:e,onClose:i})=>{const[l,c]=F.useState(null),[d,m]=F.useState(!0),[y,v]=F.useState(null);F.useEffect(()=>{(async()=>{m(!0),v(null);try{const T=await dM(n,e);c(T)}catch(T){console.error("Error fetching pronunciation analysis:",T),v("Sorry, I couldn't get pronunciation tips right now. Please try again.")}finally{m(!1)}})()},[n,e]);const h=()=>d?g.jsxs("div",{className:"flex items-center justify-center p-4",children:[g.jsx("div",{className:"w-6 h-6 border-2 border-teal-500 border-dashed rounded-full animate-spin border-t-transparent"}),g.jsx("span",{className:"ml-2 text-slate-600",children:"Getting tips..."})]}):y?g.jsx("p",{className:"text-red-600 text-sm",children:y}):l?g.jsxs("div",{className:"space-y-4 text-left",children:[l.overallPronunciationGuide&&g.jsxs("div",{className:"p-3 bg-teal-50 border-l-4 border-teal-400 rounded-r-lg",children:[g.jsxs("h4",{className:"font-semibold text-teal-800 text-sm mb-1 flex items-center gap-1.5",children:[g.jsx(Ky,{className:"w-5 h-5"}),g.jsx("span",{children:"Overall Guide"})]}),g.jsx("p",{className:"text-teal-900 font-mono bg-teal-100 px-2 py-1 rounded text-sm inline-block",children:l.overallPronunciationGuide})]}),l.challengingWords&&l.challengingWords.length>0&&g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-slate-700 text-sm mb-2",children:"Challenging Words:"}),g.jsx("div",{className:"space-y-3",children:l.challengingWords.map((x,T)=>{var C;return g.jsxs("div",{className:"bg-white border border-slate-200 p-3 rounded-lg",children:[g.jsx("h5",{className:"font-bold text-slate-800",children:x.word}),g.jsxs("div",{className:"text-sm text-slate-600 space-y-2 mt-1",children:[g.jsxs("p",{children:[g.jsx("strong",{className:"font-medium",children:"Syllables:"})," ",x.syllables]}),g.jsxs("p",{children:[g.jsx("strong",{className:"font-medium",children:"Sounds like:"})," ",g.jsx("span",{className:"font-mono bg-slate-100 px-1 rounded",children:x.phoneticGuide})]}),((C=x.commonMistakes)==null?void 0:C.length)>0&&g.jsxs("div",{className:"pt-2",children:[g.jsxs("p",{className:"font-semibold text-slate-700 flex items-center gap-1.5",children:[g.jsx(Oy,{className:"w-5 h-5 text-slate-500"}),"Common Mistakes"]}),g.jsx("ul",{className:"list-disc list-inside pl-2 mt-1 space-y-0.5 text-slate-600",children:x.commonMistakes.map((M,w)=>g.jsx("li",{children:M},w))})]}),x.practiceTip&&g.jsxs("div",{className:"pt-2",children:[g.jsxs("p",{className:"font-semibold text-slate-700 flex items-center gap-1.5",children:[g.jsx(Jy,{className:"w-5 h-5 text-yellow-500"}),"Practice Tip"]}),g.jsx("p",{className:"text-slate-600 mt-1",children:x.practiceTip})]})]})]},T)})})]})]}):null;return g.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border animate-fade-in relative text-sm",children:[g.jsx("button",{onClick:i,className:"absolute top-2 right-2 p-1 text-slate-400 hover:text-slate-700 hover:bg-slate-200 rounded-full transition-colors","aria-label":"Close pronunciation tips",children:g.jsx(Yo,{className:"h-5 w-5"})}),g.jsx("h3",{className:"text-base font-bold text-slate-800 mb-3 text-center",children:"Pronunciation Breakdown"}),h()]})},hM=({phrase:n,language:e,isRecording:i,isBotSpeaking:l,volume:c,onStartRecording:d,onStopRecording:m,onListen:y})=>{const[v,h]=F.useState(!1);return g.jsxs("div",{className:"text-center space-y-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-medium text-slate-600",children:"Please say the following phrase:"}),g.jsxs("div",{className:"relative mt-2",children:[g.jsxs("p",{className:"text-2xl md:text-3xl font-semibold text-teal-700 p-4 pr-12 bg-teal-50 rounded-lg",children:['"',n,'"']}),g.jsx("button",{onClick:y,disabled:i||l,className:"absolute top-1/2 right-4 -translate-y-1/2 text-slate-500 hover:text-teal-600 disabled:text-slate-300 disabled:cursor-not-allowed transition-colors","aria-label":"Listen to phrase",children:g.jsx(zo,{})})]}),g.jsx("div",{className:"mt-4",children:v?g.jsx(pM,{phrase:n,language:e,onClose:()=>h(!1)}):g.jsx("button",{onClick:()=>h(!0),disabled:i||l,className:"text-sm font-semibold text-teal-600 hover:text-teal-800 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors","aria-label":"Get pronunciation tips for this phrase",children:"Need help? Get pronunciation tips."})})]}),g.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[g.jsx("button",{onClick:i?m:d,disabled:l,className:`inline-flex items-center justify-center w-20 h-20 rounded-full transition-all duration-300 ease-in-out focus:outline-none focus:ring-4 focus:ring-offset-2 disabled:bg-slate-400 disabled:cursor-not-allowed
            ${i?"bg-red-500 text-white shadow-lg animate-pulse focus:ring-red-300":"bg-teal-600 text-white hover:bg-teal-700 shadow-md focus:ring-teal-400"}`,"aria-label":i?"Stop Recording":"Start Recording",children:i?g.jsx(Py,{}):g.jsx(As,{})}),g.jsx("div",{className:"w-32 h-2 bg-slate-200 rounded-full overflow-hidden","aria-hidden":"true",children:g.jsx("div",{className:"bg-teal-500 h-full rounded-full transition-all duration-75 ease-out",style:{width:`${i?c*100:0}%`}})}),g.jsx("p",{className:"text-sm text-slate-500",children:i?"Recording in progress...":l?"Listen to the example...":"Tap the microphone to start"})]})]})};let th=!1,Po=[],gs=null;const nh=()=>Po.length>0?Promise.resolve(Po):gs||(gs=new Promise((n,e)=>{if(typeof window>"u"||!window.speechSynthesis){console.warn("Speech Synthesis API not supported by this browser."),n([]);return}let i=0;const l=20,c=()=>{const m=window.speechSynthesis.getVoices();return m.length>0?(Po=m,th||(console.log("--- Linguacare TTS Diagnostics: Available Voices ---"),m.forEach(y=>console.log(`- Voice: ${y.name}, Lang: ${y.lang}, Default: ${y.default}`)),m.some(y=>y.lang.toLowerCase().startsWith("ta"))||console.warn("TTS Warning: Tamil (ta-IN) voice may not be available."),m.some(y=>y.lang.toLowerCase().startsWith("ml"))||console.warn("TTS Warning: Malayalam (ml-IN) voice may not be available."),console.log("-------------------------------------------------"),th=!0),!0):!1};if(c()){n(Po);return}const d=setInterval(()=>{i++,c()?(clearInterval(d),n(Po)):i>l&&(clearInterval(d),console.error("TTS Error: Timed out waiting for voices to load."),e(new Error("Timed out waiting for voices.")))},250);window.speechSynthesis.onvoiceschanged=()=>{c()&&(clearInterval(d),n(Po))}}),gs),Rs=()=>{const[n,e]=F.useState(!1),[i,l]=F.useState(!0),[c,d]=F.useState({english:[],tamil:[],malayalam:[]}),m=F.useRef(!0),y=F.useRef(null),v=F.useRef(null);F.useEffect(()=>{const x=C=>{const M=C.filter(G=>G.lang.toLowerCase().startsWith("en")),w=C.filter(G=>G.lang.toLowerCase().startsWith("ta")),L=C.filter(G=>G.lang.toLowerCase().startsWith("ml"));m.current&&(d({english:M,tamil:w,malayalam:L}),l(!1))};nh().then(x).catch(C=>{console.error("TTS: Failed to load voices for settings.",C),m.current&&l(!1)});const T=setInterval(()=>{typeof window<"u"&&window.speechSynthesis&&window.speechSynthesis.resume()},14e3);return()=>{m.current=!1,clearInterval(T),y.current&&clearTimeout(y.current),typeof window<"u"&&window.speechSynthesis&&window.speechSynthesis.cancel()}},[]);const h=F.useCallback(async(x,T)=>{if(typeof window>"u"||!window.speechSynthesis||!m.current)return;const C=M=>{y.current&&(clearTimeout(y.current),y.current=null),v.current=null,m.current&&e(!1),console.log(`TTS: State reset. Reason: ${M}`)};window.speechSynthesis.cancel(),e(!0),console.log(`TTS: Attempting to speak "${x}" in ${T}.`),y.current&&clearTimeout(y.current),y.current=window.setTimeout(()=>{console.warn(`TTS Failsafe: Timed out after 8s for "${x}". Forcibly cancelling and resetting state.`),window.speechSynthesis.cancel(),C("Failsafe Timeout")},8e3);try{const M=await nh();if(M.length===0)throw new Error("No speech synthesis voices are available.");const w=new SpeechSynthesisUtterance(x);v.current=w;const G={english:"en-US",tamil:"ta-IN",malayalam:"ml-IN"}[T];w.lang=G;let Y=null;const O=localStorage.getItem(`linguacare_tts_voice_${G}`);if(O&&(Y=M.find(I=>I.name===O)||null,Y?console.log(`TTS: Using preferred voice '${Y.name}'.`):console.warn(`TTS Warning: Preferred voice '${O}' not found. Falling back to default selection.`)),!Y){const I=G.toLowerCase(),X=I.split("-")[0],V=M.filter(H=>H.lang.toLowerCase().startsWith(X));Y=V.find(H=>H.lang.toLowerCase()===I&&/google/i.test(H.name))||null,Y||(Y=V.find(H=>H.lang.toLowerCase()===I)||null),Y||(Y=V.find(H=>/google/i.test(H.name))||null),Y||(Y=V[0]||null)}Y?(w.voice=Y,console.log(`TTS: Using voice '${Y.name}' (${Y.lang}) for language '${T}'.`)):console.warn(`TTS Warning: No specific voice found for lang '${G}'. Using browser default.`),w.onend=()=>C(`onend event for "${x}"`),w.onerror=I=>{console.error(`SpeechSynthesis Error: ${I.error}`,I),C(`onerror event for "${x}"`)},window.speechSynthesis.speak(w)}catch(M){console.error("TTS Error: Failed to initiate speech:",M),C(`Caught error during speak setup: ${M}`)}},[]);return{isSpeaking:n,speak:h,voicesLoading:i,availableVoices:c}},gM=({score:n})=>{const e=2*Math.PI*52,i=e-n/100*e;let l="stroke-green-500";return n<75&&(l="stroke-yellow-500"),n<50&&(l="stroke-red-500"),g.jsxs("div",{className:"relative w-32 h-32",children:[g.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[g.jsx("circle",{className:"text-slate-200",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"52",cx:"60",cy:"60"}),g.jsx("circle",{className:`${l} transition-all duration-1000 ease-in-out`,strokeWidth:"10",strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"52",cx:"60",cy:"60",style:{strokeDasharray:e,strokeDashoffset:i,transform:"rotate(-90deg)",transformOrigin:"50% 50%"}})]}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("span",{className:"text-3xl font-bold text-slate-700",children:n})})]})},yM=({feedback:n,audioUrl:e,onNextPhrase:i,language:l})=>{const c=F.useRef(null),[d,m]=F.useState(!1),[y,v]=F.useState(null),{isSpeaking:h,speak:x}=Rs(),T=()=>{c.current&&(d?c.current.pause():c.current.play())};return F.useEffect(()=>{const C=c.current;if(!C)return;const M=()=>m(!0),w=()=>m(!1);return C.addEventListener("play",M),C.addEventListener("pause",w),C.addEventListener("ended",w),()=>{C.removeEventListener("play",M),C.removeEventListener("pause",w),C.removeEventListener("ended",w)}},[e]),g.jsxs("div",{className:"p-6 bg-slate-50 rounded-xl space-y-6 animate-fade-in border border-slate-200",children:[g.jsx("h3",{className:"text-xl font-bold text-center text-slate-800",children:"Your Feedback"}),g.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx(gM,{score:n.overallScore})}),g.jsxs("div",{className:"flex-1 text-center md:text-left",children:[g.jsx("p",{className:"font-semibold text-slate-700",children:"Summary:"}),g.jsx("p",{className:"text-slate-600",children:n.summary}),e&&g.jsxs("div",{className:"mt-4",children:[g.jsx("audio",{ref:c,src:e,preload:"auto",className:"hidden"}),g.jsxs("button",{onClick:T,className:"inline-flex items-center justify-center gap-2 bg-slate-200 text-slate-800 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2","aria-label":d?"Pause your recording":"Play your recording",children:[d?g.jsx(pu,{}):g.jsx(qy,{}),g.jsx("span",{children:d?"Pause":"Play Your Recording"})]})]})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-slate-700 mb-3 border-b border-slate-200 pb-2",children:"Word-by-Word Analysis:"}),g.jsx("div",{className:"space-y-2",children:n.wordAnalysis.map((C,M)=>{if(C.isCorrect)return g.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 bg-green-50 text-green-800 rounded-lg border border-green-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(hu,{}),g.jsx("span",{className:"font-medium",children:C.word})]}),g.jsx("button",{onClick:()=>x(C.word,l),disabled:h,className:"p-1.5 text-teal-600 hover:text-teal-800 disabled:text-slate-400 disabled:cursor-not-allowed rounded-full hover:bg-green-100 transition-colors","aria-label":`Listen to the word ${C.word}`,children:g.jsx(zo,{className:"h-5 w-5"})})]},M);{const w=y===M;return g.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-200",children:[g.jsxs("button",{onClick:()=>v(w?null:M),className:"w-full flex items-center justify-between p-3 rounded-lg text-left text-red-800 hover:bg-red-100/50 transition-colors focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-1","aria-expanded":w,"aria-controls":`word-details-${M}`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(_s,{}),g.jsx("span",{className:"font-medium",children:C.word})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:L=>{L.stopPropagation(),x(C.word,l)},disabled:h,className:"p-1.5 text-teal-600 hover:text-teal-800 disabled:text-slate-400 disabled:cursor-not-allowed rounded-full hover:bg-red-100 transition-colors","aria-label":`Listen to the word ${C.word}`,children:g.jsx(zo,{className:"h-5 w-5"})}),g.jsx(ch,{className:`h-5 w-5 transition-transform ${w?"rotate-180":""}`})]})]}),w&&g.jsxs("div",{id:`word-details-${M}`,role:"region",className:"p-3 mt-1 bg-white rounded-b-lg border-t border-red-200 space-y-4 animate-fade-in text-sm",children:[C.userPronunciationError&&g.jsxs("div",{children:[g.jsx("strong",{className:"font-semibold text-slate-800",children:"What We Heard:"}),g.jsxs("p",{className:"text-slate-600 italic",children:['"',C.userPronunciationError,'"']})]}),C.tip&&g.jsxs("div",{children:[g.jsx("strong",{className:"font-semibold text-slate-800",children:"Tip:"}),g.jsx("p",{className:"text-slate-700",children:C.tip})]}),C.pronunciationGuide&&g.jsxs("div",{children:[g.jsx("strong",{className:"font-semibold text-slate-800",children:"Pronunciation:"}),g.jsx("p",{className:"text-slate-600 font-mono bg-slate-100 px-2 py-1 rounded inline-block mt-1",children:C.pronunciationGuide})]})]})]},M)}})})]}),g.jsx("div",{className:"text-center border-t border-slate-200 pt-6",children:g.jsx("button",{onClick:i,className:"bg-teal-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-teal-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2",children:"Try Another Phrase"})})]})},vM=()=>g.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-teal-500 border-dashed rounded-full animate-spin border-t-transparent"}),g.jsx("p",{className:"text-slate-600 font-medium",children:"Analyzing your speech..."})]}),xM=15e3,jh=()=>{const[n,e]=F.useState(!1),[i,l]=F.useState(null),[c,d]=F.useState(null),[m,y]=F.useState(0),[v,h]=F.useState(null),x=F.useRef(null),T=F.useRef([]),C=F.useRef(null),M=F.useRef(null),w=F.useRef(null),L=F.useRef(null),G=F.useRef(null),Y=F.useRef(!1),O=F.useCallback(()=>{if(!w.current)return;const H=new Uint8Array(w.current.frequencyBinCount);w.current.getByteTimeDomainData(H);let Q=0;for(const oe of H){const ie=oe/128-1;Q+=ie*ie}const j=Math.sqrt(Q/H.length),Z=Math.min(1,j*5);y(Z),L.current=requestAnimationFrame(O)},[]),I=F.useCallback(()=>{L.current&&(cancelAnimationFrame(L.current),L.current=null),M.current&&M.current.state!=="closed"&&(M.current.close(),M.current=null),y(0)},[]),X=F.useCallback(async()=>{try{C.current&&C.current.getTracks().forEach(ae=>ae.stop()),I(),h(null),Y.current=!1;const H=await navigator.mediaDevices.getUserMedia({audio:!0});C.current=H;const Q=new window.AudioContext;M.current=Q;const j=Q.createMediaStreamSource(H),Z=Q.createAnalyser();Z.fftSize=256,j.connect(Z),w.current=Z,O(),e(!0),l(null),d(null),T.current=[];const oe={mimeType:"audio/webm"};MediaRecorder.isTypeSupported(oe.mimeType)||(console.warn(`${oe.mimeType} is not supported, using browser default.`),delete oe.mimeType);const ie=new MediaRecorder(H,oe);x.current=ie,ie.addEventListener("dataavailable",ae=>{ae.data.size>0&&T.current.push(ae.data)}),ie.addEventListener("stop",()=>{if(Y.current)h("Recording timed out. Please keep your recording under 15 seconds and try again."),l(null),d(null),T.current=[];else if(T.current.length>0){const ae=new Blob(T.current,{type:ie.mimeType});l(ae),d(URL.createObjectURL(ae))}else console.warn("Recording stopped, but no audio data was captured.");e(!1),I(),H.getTracks().forEach(ae=>ae.stop()),C.current=null}),ie.start(),G.current=window.setTimeout(()=>{x.current&&x.current.state==="recording"&&(Y.current=!0,x.current.stop())},xM)}catch(H){console.error("Error starting recording:",H),h("Could not start recording. Please check microphone permissions."),e(!1),I()}},[O,I]),V=F.useCallback(()=>{G.current&&(clearTimeout(G.current),G.current=null),x.current&&x.current.state==="recording"&&x.current.stop()},[]);return F.useEffect(()=>()=>{I(),C.current&&C.current.getTracks().forEach(H=>H.stop()),G.current&&clearTimeout(G.current)},[I]),{isRecording:n,audioBlob:i,audioUrl:c,volume:m,recorderError:v,startRecording:X,stopRecording:V}},eg={english:{kids:{easy:["The sun is yellow.","My cat is fluffy.","I see a big red ball.","The dog says woof.","Birds can fly high.","Look at the blue sky.","The flower is pink.","I can run fast.","My teddy bear is soft.","Let's read a book.","The moon is bright.","Can I have some juice?","My shoes are new.","This is my family."],medium:["The little frog jumped on a log.","We are going to the park to play.","Monkeys love to eat bananas.","The happy bear is dancing in the forest.","Can you count to ten?","The train goes chugga chugga choo choo.","What is your favorite animal?","The friendly dolphin swims in the ocean.","We are building a tall tower with blocks.","The yummy pizza has cheese and pepperoni.","The buzzing bee flew around the garden.","Let's share our toys with our friends.","The big yellow bus takes us to school.","A funny clown has a red nose."],hard:["The clever squirrel gathered nuts for the winter.","A rainbow has seven beautiful colors.","The butterfly flew gracefully from flower to flower.","Christopher the cricket chirped cheerfully.","Elephants are the largest animals on land.","The astronaut explored the mysterious red planet.","Giraffes have incredibly long necks to reach tall trees.","The mischievous kitten tangled the ball of yarn.","Spectacular fireworks lit up the night sky.","Archaeologists discover ancient dinosaur bones.","The majestic lion roared loudly in the savanna.","Photosynthesis is how plants make their food.","The volcano erupted with spectacular force.","The diligent detective solved the curious mystery."]},adults:{easy:["How are you doing today?","What time is the meeting?","I would like a cup of coffee.","The weather is nice outside.","Where is the nearest grocery store?","Can you help me with this?","Let's have lunch together.","The train arrives at platform two.","I need to buy some milk.","Thank you for your assistance.","It's a pleasure to meet you.","Excuse me, where is the restroom?","I'll have the same thing.","Could you speak a little slower, please?"],medium:["She sells seashells by the seashore.","Could you please repeat that information?","Effective communication is essential for success.","The financial report is due by the end of the week.","Peter Piper picked a peck of pickled peppers.","The company is launching a new marketing campaign.","Please review the attached document and provide feedback.","Technological advancements have changed the way we work.","Navigating through rush hour traffic can be challenging.","The project requires a collaborative effort from all team members.","Let's cross that bridge when we come to it.","He hit the nail on the head with his analysis.","Don't count your chickens before they hatch.","It's a piece of cake to assemble this furniture."],hard:["The quick brown fox jumps over the lazy dog.","Dissecting esoteric poetry requires patience and a keen eye.","The board of directors unanimously approved the quarterly budget.","Methodological rigor is paramount in scientific research.","Their philanthropic endeavors have profoundly impacted the community.","Quantum computing leverages the principles of superposition and entanglement.","The epistemological implications of the study are far-reaching.","Bureaucratic inefficiency often stifles innovation and progress.","A meticulous analysis of the data revealed several anomalies.","The socioeconomic ramifications of the policy were widely debated.","Ubiquitous connectivity is a hallmark of modern society.","The jurisprudential debate centers on constitutional interpretation.","A perfunctory examination would not reveal the underlying structural flaws.","His loquaciousness was often mistaken for intellectual depth."]}},tamil:{kids:{easy:["   .","   .","     ."," ' '  .","  .","  .","   .","   .","    .","   .","  .","   ?","  .","  ."],medium:["    .","   .","   .","   .","    ?"," ' '  .","   ?","   .","     .","   .","   .","    .","      .","    ."],hard:["    .","    .","    .","  .","    .","      .","      .","    .","     .","     .","   .","    .","   .","    ."]},adults:{easy:["   ?","  ?","    .","   .","    ?","   ?","   .","   .","    .","  .","  .",",   ?","  .","   ?"],medium:["  .","     .","     .","    .","      .","    .","       .","   .","    .","   ."," .","  .","   .","  ."],hard:["    .","      .","   .","   .","     .","     .","     .","    .","    .","   .","   .","   .","    .","     ."]}},malayalam:{kids:{easy:["  .","  .","     ."," ' '  .","   .","  .","  .","   .","  .","   ."," .","   ?","  .","  ."],medium:["    .","   .","   .","    .","    ?"," ' '  .","   ?","   .","      .","   .","  .","   .","     .","   ."],hard:["    .","   .","   .","  .","    .","      .","     .","    .","     .","     .","  .","    .","   .","    ."]},adults:{easy:["  ?"," ?","    .","  .","   ?","   ?","   .","    .","   .","  .","  .",",  ?","  .","   ?"],medium:["   .","     .","     .","     .","     .","    .","        .","   .","   .","   .","         ."," .","  ."," ."],hard:["    .","      .","   .","   .","     .","     ."," -    .","    .","    .","   .","    .","    .","    .","     ."]}}},oh=n=>{const e=Math.floor(n/3600),i=Math.floor(n%3600/60),l=Math.floor(n%60),c=[];return e>0&&c.push(String(e).padStart(2,"0")),c.push(String(i).padStart(2,"0")),c.push(String(l).padStart(2,"0")),c.join(":")},tg=({startTime:n})=>{const[e,i]=F.useState(0);return F.useEffect(()=>{const l=Math.floor((Date.now()-n)/1e3);i(l);const c=setInterval(()=>{const d=Math.floor((Date.now()-n)/1e3);i(d)},1e3);return()=>clearInterval(c)},[n]),g.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-medium font-mono bg-slate-100 px-3 py-1.5 rounded-lg text-sm","aria-label":`Session timer: ${oh(e)}`,children:[g.jsx(Yy,{className:"h-5 w-5"}),g.jsx("span",{children:oh(e)})]})},TM=({settings:n,user:e,startTime:i,isFrozen:l})=>{const c=eg[n.language][n.ageGroup][n.difficulty],[d,m]=F.useState(0),[y,v]=F.useState(null),[h,x]=F.useState(!1),[T,C]=F.useState(null),{isRecording:M,audioBlob:w,audioUrl:L,startRecording:G,stopRecording:Y,volume:O,recorderError:I}=jh(),{isSpeaking:X,speak:V}=Rs(),H=c[d];F.useEffect(()=>{I&&C(I)},[I]);const Q=F.useCallback(async()=>{if(!w){C("No audio recorded. Please try recording again.");return}x(!0),C(null),v(null);try{const oe=await fM(H,w,n.language);v(oe);try{const ie="linguacare_exercise_history",Xe=localStorage.getItem(ie),de=Xe?JSON.parse(Xe):[],q=[{id:crypto.randomUUID(),phrase:H,score:oe.overallScore,date:new Date().toISOString(),feedback:oe,userEmail:e.email,status:"pending"},...de].slice(0,50);localStorage.setItem(ie,JSON.stringify(q))}catch(ie){console.error("Failed to save exercise result to localStorage",ie)}}catch(oe){console.error("Error getting feedback:",oe),C("Sorry, I couldn't analyze your speech. Please try again.")}finally{x(!1)}},[w,H,e.email,n.language]);F.useEffect(()=>{w&&Q()},[w]);const j=()=>{v(null),C(null),m(oe=>(oe+1)%c.length)},Z=()=>{C(null),G()};return g.jsxs("div",{className:"relative w-full max-w-2xl mx-auto",children:[l&&g.jsxs("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm z-20 flex flex-col items-center justify-center rounded-2xl text-white p-4 text-center",children:[g.jsx(pu,{className:"h-12 w-12 mb-4 text-slate-300"}),g.jsx("h3",{className:"text-2xl font-bold",children:"Break in Progress"}),g.jsx("p",{className:"text-lg mt-1 opacity-90",children:"Your exercise will resume shortly."})]}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 space-y-6 animate-fade-in border border-slate-200",children:[g.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-4",children:[g.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Pronunciation Practice"}),i&&g.jsx(tg,{startTime:i})]}),g.jsx(hM,{phrase:H,language:n.language,isRecording:M,isBotSpeaking:X,volume:O,onStartRecording:Z,onStopRecording:Y,onListen:()=>V(H,n.language)}),T&&g.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-lg text-center",children:T}),h&&g.jsx(vM,{}),y&&!h&&g.jsx("div",{className:"border-t border-slate-200 pt-6",children:g.jsx(yM,{feedback:y,audioUrl:L,onNextPhrase:j,language:n.language})})]}),g.jsx("footer",{className:"text-center text-sm text-slate-500 pt-8",children:g.jsxs("p",{children:[" ",new Date().getFullYear()," Linguacare. All rights reserved."]})})]})},SM=["apple","house","runs","under","pretty","yellow","quickly","very","the","a","is","on"],ih=n=>[...n].sort(()=>Math.random()-.5),CM=({settings:n,user:e,startTime:i,isFrozen:l})=>{const c=F.useMemo(()=>eg[n.language][n.ageGroup][n.difficulty],[n]),[d,m]=F.useState(0),[y,v]=F.useState([]),[h,x]=F.useState([]),[T,C]=F.useState(!1),[M,w]=F.useState(!1),{isSpeaking:L,speak:G}=Rs(),Y=F.useMemo(()=>c[d],[d,c]),O=F.useMemo(()=>Y.replace(/[.,?]/g,"").split(" "),[Y]);F.useEffect(()=>{const j=O,Z=ih(SM).filter(ie=>!j.map(ae=>ae.toLowerCase()).includes(ie)).slice(0,4);x(ih([...j,...Z])),v([]),C(!1),w(!1);const oe=setTimeout(()=>{l||G(Y,n.language)},500);return()=>clearTimeout(oe)},[O,Y,n.language,G,l]);const I=j=>{T||v(Z=>[...Z,j])},X=j=>{T||v(Z=>Z.filter((oe,ie)=>ie!==j))},V=()=>{const j=y.join(" "),Z=O.join(" "),oe=j.toLowerCase()===Z.toLowerCase();w(oe),C(!0)},H=()=>{m(j=>(j+1)%c.length)},Q=()=>{v([]),C(!1),w(!1)};return g.jsxs("div",{className:"relative w-full max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-8 space-y-6 animate-fade-in border border-slate-200",children:[l&&g.jsxs("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm z-20 flex flex-col items-center justify-center rounded-2xl text-white p-4 text-center",children:[g.jsx(pu,{className:"h-12 w-12 mb-4 text-slate-300"}),g.jsx("h3",{className:"text-2xl font-bold",children:"Break in Progress"}),g.jsx("p",{className:"text-lg mt-1 opacity-90",children:"Your exercise will resume shortly."})]}),g.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-4",children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 text-center",children:"Listening Skills"}),i&&g.jsx(tg,{startTime:i})]}),g.jsxs("div",{className:"text-center space-y-4 p-4 bg-slate-50 rounded-lg",children:[g.jsx("p",{className:"text-slate-600",children:"Listen to the phrase, then reconstruct it using the words below."}),g.jsxs("button",{onClick:()=>G(Y,n.language),disabled:L,className:"inline-flex items-center gap-2 bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-teal-300 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2",children:[g.jsx(zo,{}),L?"Speaking...":"Listen to Phrase"]})]}),g.jsxs("div",{className:"min-h-[6rem] bg-slate-100 rounded-lg p-3 flex flex-wrap gap-2 items-start border-2 border-dashed border-slate-300",children:[y.length===0&&g.jsx("p",{className:"text-slate-400 p-2",children:"Your constructed sentence will appear here..."}),y.map((j,Z)=>g.jsxs("button",{onClick:()=>X(Z),className:"flex items-center gap-1.5 bg-white text-slate-800 px-3 py-1.5 rounded-lg shadow-sm border border-slate-200 hover:bg-red-50 hover:border-red-300 transition-colors","aria-label":`Remove ${j}`,children:[j,g.jsx(Yo,{className:"h-4 w-4 text-slate-500"})]},`${j}-${Z}`))]}),g.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:h.map((j,Z)=>g.jsx("button",{onClick:()=>I(j),disabled:T,className:"bg-teal-100 text-teal-800 font-medium px-4 py-2 rounded-lg hover:bg-teal-200 transition-colors disabled:bg-slate-200 disabled:text-slate-500 disabled:cursor-not-allowed",children:j},`${j}-${Z}`))}),g.jsx("div",{className:"pt-4 border-t border-slate-200 text-center space-y-4",children:T?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:`flex items-center justify-center gap-2 p-3 rounded-lg text-lg font-semibold ${M?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[M?g.jsx(hu,{}):g.jsx(_s,{}),g.jsx("span",{children:M?"Correct! Well done.":"Not quite, keep practicing!"})]}),!M&&g.jsxs("div",{className:"text-left bg-slate-100 p-3 rounded-lg flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-slate-700",children:"Correct answer:"}),g.jsx("p",{className:"text-slate-600",children:O.join(" ")})]}),g.jsx("button",{onClick:()=>G(O.join(" "),n.language),disabled:L,className:"p-2 rounded-full text-slate-600 hover:bg-slate-200 hover:text-teal-600 transition-colors disabled:text-slate-300 disabled:cursor-not-allowed","aria-label":"Listen to correct answer",children:g.jsx(zo,{})})]}),g.jsxs("div",{className:"flex items-center justify-center gap-4",children:[!M&&g.jsx("button",{onClick:Q,className:"bg-slate-200 text-slate-800 font-semibold py-2 px-6 rounded-lg hover:bg-slate-300 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",children:"Try Again"}),g.jsx("button",{onClick:H,className:"bg-teal-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-teal-700 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2",children:M?"Next Phrase":"Continue"})]})]}):g.jsx("button",{onClick:V,disabled:y.length===0,className:"bg-green-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Check Answer"})})]})},EM=()=>g.jsx("div",{className:"animate-fade-in",children:g.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Your Schedule"}),g.jsx("p",{className:"text-slate-600 mt-1",children:"View and manage your upcoming therapy sessions."})]}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8 md:p-12 text-center flex flex-col items-center space-y-6",children:[g.jsx("div",{className:"bg-teal-100 p-5 rounded-full",children:g.jsx(yu,{className:"h-12 w-12 text-teal-600"})}),g.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Schedule Your Next Session"}),g.jsx("p",{className:"text-slate-600 max-w-md",children:"We partner with Calendly to make scheduling your appointments seamless and easy. Click the button below to find a time that works for you."}),g.jsxs("a",{href:"https://calendly.com/your-therapist",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2.5 bg-teal-600 text-white font-semibold py-3 px-8 rounded-lg hover:bg-teal-700 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 transform hover:scale-105",children:[g.jsx("span",{children:"Schedule Appointment"}),g.jsx(Gy,{className:"h-5 w-5"})]})]})]})}),AM=({enabled:n,onChange:e,label:i})=>{const l=i.replace(/\s+/g,"-").toLowerCase();return g.jsxs("label",{htmlFor:l,className:"flex items-center justify-between cursor-pointer",children:[g.jsx("span",{className:"text-slate-700",children:i}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:l,type:"checkbox",className:"sr-only",checked:n,onChange:()=>e(!n)}),g.jsx("div",{className:`block w-14 h-8 rounded-full transition-colors ${n?"bg-teal-500":"bg-slate-200"}`}),g.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full shadow-sm transition-transform ${n?"translate-x-6":""}`})]})]})},tu=({langCode:n,label:e,voices:i,selectedValue:l,onChange:c})=>g.jsxs("div",{children:[g.jsxs("label",{htmlFor:`voice-${n}`,className:"block text-sm font-medium text-slate-700",children:[e," Voice"]}),g.jsxs("select",{id:`voice-${n}`,value:l,onChange:d=>c(n,d.target.value),className:"mt-1 block w-full px-3 py-2.5 border border-slate-300 bg-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[g.jsx("option",{value:"",children:"Browser Default"}),i.map(d=>g.jsxs("option",{value:d.name,children:[d.name," (",d.lang,")"]},d.name))]}),i.length===0&&g.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["No specific ",e," voices found in this browser."]})]}),_M=({user:n,onUpdateUser:e})=>{const[i,l]=F.useState(n.name),[c,d]=F.useState(!0),[m,y]=F.useState("idle"),{voicesLoading:v,availableVoices:h}=Rs(),[x,T]=F.useState({"en-US":"","ta-IN":"","ml-IN":""}),[C,M]=F.useState("suggestion"),[w,L]=F.useState(""),[G,Y]=F.useState("idle");F.useEffect(()=>{try{const V=localStorage.getItem("linguacare_tts_voice_en-US")||"",H=localStorage.getItem("linguacare_tts_voice_ta-IN")||"",Q=localStorage.getItem("linguacare_tts_voice_ml-IN")||"";T({"en-US":V,"ta-IN":H,"ml-IN":Q})}catch(V){console.error("Failed to load TTS preferences from localStorage",V)}},[]);const O=(V,H)=>{try{H?localStorage.setItem(`linguacare_tts_voice_${V}`,H):localStorage.removeItem(`linguacare_tts_voice_${V}`),T(Q=>({...Q,[V]:H}))}catch(Q){console.error("Failed to save TTS preference to localStorage",Q)}},I=V=>{V.preventDefault(),y("saving");const H={...n,name:i.trim()||n.name};e(H),console.log("Preferences saved:",{notificationsEnabled:c}),setTimeout(()=>{y("saved"),setTimeout(()=>y("idle"),2500)},700)},X=V=>{if(V.preventDefault(),w.trim()==="")return;Y("sending");const H={id:crypto.randomUUID(),userEmail:n.email,userName:n.name,type:C,message:w.trim(),date:new Date().toISOString(),status:"new"};try{const Q="linguacare_user_feedback",j=localStorage.getItem(Q),Z=j?JSON.parse(j):[],oe=[H,...Z];localStorage.setItem(Q,JSON.stringify(oe))}catch(Q){console.error("Failed to save feedback to localStorage",Q)}setTimeout(()=>{Y("sent"),L(""),M("suggestion"),setTimeout(()=>Y("idle"),3e3)},500)};return g.jsx("div",{className:"animate-fade-in",children:g.jsxs("div",{className:"w-full max-w-3xl mx-auto space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Settings"}),g.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your account and application preferences."})]}),g.jsx("form",{onSubmit:I,children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-slate-200",children:[g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center gap-2",children:[g.jsx(fh,{className:"w-6 h-6 text-slate-500"}),g.jsx("span",{children:"Profile Information"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Full Name"}),g.jsx("input",{type:"text",id:"name",value:i,onChange:V=>l(V.target.value),className:"mt-1 block w-full px-4 py-2.5 border border-slate-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Your Name"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email Address"}),g.jsx("input",{type:"email",id:"email",value:n.email,disabled:!0,className:"mt-1 block w-full px-4 py-2.5 border border-slate-200 rounded-lg shadow-sm bg-slate-100 text-slate-500 cursor-not-allowed"})]})]})]}),g.jsx("hr",{className:"border-slate-200"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-slate-700",children:"Application Preferences"}),g.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[g.jsx(AM,{label:"Enable Email Notifications",enabled:c,onChange:d}),g.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Receive updates about your progress and upcoming sessions."})]})]}),g.jsx("hr",{className:"border-slate-200"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center gap-2",children:[g.jsx(zo,{className:"w-6 h-6 text-slate-500"}),g.jsx("span",{children:"Text-to-Speech Preferences"})]}),v?g.jsx("p",{className:"text-slate-500 text-sm px-1",children:"Loading available voices..."}):g.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[g.jsx(tu,{langCode:"en-US",label:"English",voices:h.english,selectedValue:x["en-US"],onChange:O}),g.jsx(tu,{langCode:"ta-IN",label:"Tamil",voices:h.tamil,selectedValue:x["ta-IN"],onChange:O}),g.jsx(tu,{langCode:"ml-IN",label:"Malayalam",voices:h.malayalam,selectedValue:x["ml-IN"],onChange:O})]})]})]}),g.jsxs("div",{className:"bg-slate-50 px-6 py-4 flex items-center justify-end gap-4",children:[m==="saved"&&g.jsx("span",{className:"text-green-600 font-medium text-sm animate-fade-in",children:"Changes saved successfully!"}),g.jsx("button",{type:"submit",disabled:m==="saving",className:"bg-teal-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-teal-700 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:bg-teal-400 disabled:cursor-wait",children:m==="saving"?"Saving...":"Save Changes"})]})]})}),n.role==="user"&&g.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200",children:g.jsxs("form",{onSubmit:X,className:"p-6 space-y-4",children:[g.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center gap-2",children:[g.jsx(Ts,{className:"w-6 h-6 text-slate-500"}),g.jsx("span",{children:"Submit Feedback"})]}),g.jsx("p",{className:"text-sm text-slate-500",children:"Have a suggestion or found a bug? Let us know!"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Feedback Type"}),g.jsx("div",{className:"flex gap-4",children:["suggestion","bug","other"].map(V=>g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"feedbackType",value:V,checked:C===V,onChange:()=>M(V),className:"h-4 w-4 border-slate-300 text-teal-600 focus:ring-teal-500"}),g.jsx("span",{className:"text-slate-700 capitalize",children:V})]},V))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"feedback-message",className:"block text-sm font-medium text-slate-700",children:"Message"}),g.jsx("textarea",{id:"feedback-message",value:w,onChange:V=>L(V.target.value),rows:4,className:"mt-1 block w-full px-4 py-2 border border-slate-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Please provide as much detail as possible...",required:!0})]}),g.jsxs("div",{className:"flex justify-end items-center gap-4",children:[G==="sent"&&g.jsx("span",{className:"text-green-600 font-medium text-sm animate-fade-in",children:"Thank you for your feedback!"}),g.jsxs("button",{type:"submit",disabled:G==="sending"||w.trim()==="",className:"inline-flex items-center gap-2 bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:bg-teal-400 disabled:cursor-not-allowed",children:[g.jsx(dh,{className:"h-5 w-5"}),g.jsx("span",{children:G==="sending"?"Sending...":"Submit Feedback"})]})]})]})})]})})},MM=({isOpen:n,onClose:e,title:i,children:l})=>{const c=F.useRef(null);return F.useEffect(()=>{if(n){const d=c.current;if(!d)return;const m=d.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),y=m[0],v=m[m.length-1];setTimeout(()=>y==null?void 0:y.focus(),100);const h=T=>{T.key==="Tab"&&y&&(T.shiftKey?document.activeElement===y&&(v==null||v.focus(),T.preventDefault()):document.activeElement===v&&(y==null||y.focus(),T.preventDefault()))},x=T=>{T.key==="Escape"&&e()};return document.addEventListener("keydown",h),document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keydown",x)}}},[n,e]),n?g.jsxs("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:e,children:[g.jsxs("div",{ref:c,className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 text-left space-y-4 relative transform transition-all animate-modal-pop-in",onClick:d=>d.stopPropagation(),children:[g.jsxs("header",{className:"flex items-center justify-between pb-3 border-b border-slate-200",children:[g.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800",children:i}),g.jsx("button",{onClick:e,className:"p-1.5 text-slate-500 hover:text-slate-900 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Close modal",children:g.jsx(Yo,{className:"h-6 w-6"})})]}),g.jsx("div",{className:"py-2",children:l})]}),g.jsx("style",{children:`
          @keyframes popIn { 
              from { opacity: 0; transform: scale(0.95) translateY(10px); } 
              to { opacity: 1; transform: scale(1) translateY(0); } 
          }
          .animate-modal-pop-in { animation: popIn 0.3s ease-out forwards; }
      `})]}):null},NM=new Date,On=n=>new Date(NM.getTime()-n*24*60*60*1e3).toISOString(),wM=[{name:"Patient",role:"user",email:"patient@linguacare.com",signupDate:On(5)},{name:"Admin",role:"admin",email:"admin@linguacare.com",signupDate:On(40)},{name:"Jane Doe",role:"user",email:"jane.doe@example.com",signupDate:On(1)},{name:"John Smith",role:"user",email:"john.smith@example.com",signupDate:On(15)},{name:"Emily White",role:"user",email:"emily.white@example.com",signupDate:On(35)}],lh=()=>{const[n,e]=F.useState(wM),[i,l]=F.useState([]),[c,d]=F.useState([]),[m,y]=F.useState("all"),[v,h]=F.useState("all"),[x,T]=F.useState(null),[C,M]=F.useState(""),[w,L]=F.useState(""),{playClick:G,playSuccess:Y,playError:O}=gh();F.useEffect(()=>{try{const A=localStorage.getItem("linguacare_exercise_history");if(A)l(JSON.parse(A));else{const K=[{id:"session1",phrase:"The quick brown fox jumps over the lazy dog",score:85,date:On(1),userEmail:"jane.doe@example.com",feedback:{overallScore:85,summary:"Good job!",wordAnalysis:[]},status:"pending"},{id:"session2",phrase:"She sells seashells by the seashore",score:62,date:On(2),userEmail:"john.smith@example.com",feedback:{overallScore:62,summary:"Focus on the SH sound.",wordAnalysis:[]},status:"pending"}];l(K),localStorage.setItem("linguacare_exercise_history",JSON.stringify(K))}const P=localStorage.getItem("linguacare_user_feedback");P&&d(JSON.parse(P))}catch(A){console.error("Failed to load data from localStorage",A)}},[]);const I=F.useMemo(()=>n.filter(A=>{if(!(m==="all"||A.role===m))return!1;if(v==="all")return!0;const K=A.signupDate?new Date(A.signupDate):null;if(!K)return v==="all";const $=new Date,ee=v==="7days"?7:30,me=new Date;return me.setDate($.getDate()-ee),K>=me}),[n,m,v]),X=()=>{T(null),M(""),L("")},V=A=>{G(),M(A.name),T({type:"editUser",data:A,title:`Edit ${A.name}`})},H=()=>{const A=C.trim(),P=x==null?void 0:x.data;A&&P?(e(n.map(K=>K.email===P.email?{...K,name:A}:K)),Y(),T({type:"info",title:"Success",data:{message:`User ${P.email} has been updated.`}})):(O(),T({type:"error",title:"Invalid Name",data:{message:"User name cannot be empty."}}))},Q=A=>{G(),T({type:"removeUser",data:A,title:`Remove ${A.name}`})},j=()=>{const A=x==null?void 0:x.data;e(n.filter(P=>P.email!==A.email)),Y(),T({type:"info",title:"User Removed",data:{message:`User ${A.email} has been removed.`}})},Z=A=>{G(),T({type:"resetPassword",data:A,title:`Reset Password for ${A.name}`})},oe=()=>{const A=x==null?void 0:x.data;Y(),T({type:"info",title:"Password Reset",data:{message:`A password reset link has been sent to ${A.email} (simulated).`}})},ie=A=>{G();const P=i.map(K=>K.id===A?{...K,status:"approved"}:K);l(P);try{localStorage.setItem("linguacare_exercise_history",JSON.stringify(P)),Y()}catch(K){console.error("Failed to update session status in localStorage",K),O()}},ae=A=>{G(),T({type:"rejectSession",data:A,title:"Reject Session"})},Xe=()=>{const A=x==null?void 0:x.data,P=C.trim();if(!P){O(),T({type:"error",title:"Reason Required",data:{message:"Please provide a reason for rejection."}});return}const K=i.map($=>$.id===A.id?{...$,status:"rejected",rejectionReason:P}:$);l(K);try{localStorage.setItem("linguacare_exercise_history",JSON.stringify(K));const $="linguacare_admin_feedback",ee=localStorage.getItem($),me=ee?JSON.parse(ee):[],fe={id:crypto.randomUUID(),userEmail:A.userEmail,message:`Your practice session for "${A.phrase}" was rejected. Reason: ${P}`,date:new Date().toISOString(),read:!1,context:{phrase:A.phrase}};localStorage.setItem($,JSON.stringify([fe,...me])),Y(),T({type:"info",title:"Session Rejected",data:{message:"The session has been marked as rejected and the user has been notified."}})}catch($){console.error("Failed to save rejection feedback or sessions",$),O(),T({type:"error",title:"Save Error",data:{message:"Could not save the changes."}})}},de=(A,P,K)=>{G(),["updateAnnouncements","addUser","postAnnouncement"].includes(A)?T({type:A,title:P}):T({type:"info",title:P,data:{message:K}})},ge=()=>{const A=C.trim(),P=w.trim();if(A&&P){const K={name:A,email:P,role:"user",signupDate:new Date().toISOString()};e($=>[K,...$]),Y(),T({type:"info",title:"Success",data:{message:`User ${P} has been created.`}})}else O(),T({type:"error",title:"Invalid Input",data:{message:"Name and email cannot be empty."}})},q=()=>{const A=C.trim();A?(Y(),T({type:"info",title:"Success",data:{message:`Announcement posted: "${A}"`}})):(O(),T({type:"error",title:"Invalid Input",data:{message:"Announcement cannot be empty."}}))},W=(A,P)=>{const K=c.map($=>$.id===A?{...$,status:P}:$);d(K),localStorage.setItem("linguacare_user_feedback",JSON.stringify(K)),G()},le=A=>{const P=c.filter(K=>K.id!==A);d(P),localStorage.setItem("linguacare_user_feedback",JSON.stringify(P)),Y()},Te=A=>{const P={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",new:"bg-blue-100 text-blue-800",viewed:"bg-indigo-100 text-indigo-800",resolved:"bg-gray-100 text-gray-800"},K=A||"pending";return g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${P[K]}`,children:K.charAt(0).toUpperCase()+K.slice(1)})};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"animate-fade-in space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Admin Dashboard"}),g.jsx("p",{className:"text-slate-600 mt-1",children:"Manage users, review sessions, and oversee the platform."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("main",{className:"lg:col-span-2 space-y-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-200",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[g.jsx(Xy,{})," User Management"]}),g.jsxs("button",{onClick:()=>de("addUser","Add New User"),className:"flex items-center gap-2 bg-teal-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-teal-700 text-sm",children:[g.jsx($y,{className:"h-5 w-5"})," Add User"]})]}),g.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 pb-4 border-b border-slate-200",children:[g.jsxs("div",{className:"flex-1 min-w-[150px]",children:[g.jsx("label",{htmlFor:"role-filter",className:"block text-sm font-medium text-slate-600 mb-1",children:"Filter by Role"}),g.jsxs("select",{id:"role-filter",value:m,onChange:A=>y(A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[g.jsx("option",{value:"all",children:"All Roles"}),g.jsx("option",{value:"user",children:"User"}),g.jsx("option",{value:"admin",children:"Admin"})]})]}),g.jsxs("div",{className:"flex-1 min-w-[150px]",children:[g.jsx("label",{htmlFor:"date-filter",className:"block text-sm font-medium text-slate-600 mb-1",children:"Filter by Signup Date"}),g.jsxs("select",{id:"date-filter",value:v,onChange:A=>h(A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[g.jsx("option",{value:"all",children:"All Time"}),g.jsx("option",{value:"7days",children:"Last 7 Days"}),g.jsx("option",{value:"30days",children:"Last 30 Days"})]})]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[g.jsx("thead",{className:"bg-slate-50",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"User"}),g.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Role"}),g.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Signup Date"}),g.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:I.map(A=>g.jsxs("tr",{children:[g.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[g.jsx("div",{className:"text-sm font-medium text-slate-900",children:A.name}),g.jsx("div",{className:"text-sm text-slate-500",children:A.email})]}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-500",children:A.role}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-500",children:A.signupDate?new Date(A.signupDate).toLocaleDateString():"N/A"}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>V(A),className:"p-2 text-slate-500 hover:text-teal-600 hover:bg-slate-100 rounded-md","aria-label":`Edit user ${A.name}`,children:g.jsx(Qy,{})}),g.jsx("button",{onClick:()=>Z(A),className:"p-2 text-slate-500 hover:text-yellow-600 hover:bg-slate-100 rounded-md","aria-label":`Reset password for ${A.name}`,children:g.jsx(hh,{})}),g.jsx("button",{onClick:()=>Q(A),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-slate-100 rounded-md","aria-label":`Remove user ${A.name}`,children:g.jsx(bm,{})})]})})]},A.email))})]})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-200",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[g.jsx(Zy,{})," Session Management & Feedback"]}),g.jsx("div",{className:"max-h-96 overflow-y-auto space-y-3 pr-2",children:i.length>0?i.map(A=>g.jsxs("div",{className:"p-4 rounded-lg border border-slate-200 bg-slate-50/50",children:[g.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-2",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"font-semibold text-slate-800",children:['"',A.phrase,'"']}),g.jsxs("p",{className:"text-sm text-slate-500",children:["User: ",A.userEmail,"  Score: ",A.score]})]}),g.jsx("div",{className:"flex-shrink-0",children:Te(A.status||"pending")})]}),(!A.status||A.status==="pending")&&g.jsxs("div",{className:"flex items-center gap-3 mt-3 pt-3 border-t border-slate-200",children:[g.jsx("button",{onClick:()=>ie(A.id),className:"flex-1 bg-green-600 text-white text-sm font-semibold py-2 px-3 rounded-lg hover:bg-green-700",children:"Approve"}),g.jsx("button",{onClick:()=>ae(A),className:"flex-1 bg-red-600 text-white text-sm font-semibold py-2 px-3 rounded-lg hover:bg-red-700",children:"Reject"})]})]},A.id)):g.jsx("p",{className:"text-slate-500 text-center py-4",children:"No user sessions found."})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-200",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[g.jsx(tv,{})," User Feedback"]}),g.jsx("div",{className:"max-h-96 overflow-y-auto space-y-3 pr-2",children:c.length>0?c.map(A=>g.jsxs("div",{className:"p-4 rounded-lg border border-slate-200 bg-slate-50/50",children:[g.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-2 mb-2",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"font-semibold text-slate-800",children:[A.userName," ",g.jsxs("span",{className:"font-normal text-slate-500",children:["(",A.userEmail,")"]})]}),g.jsxs("p",{className:"text-sm text-slate-500",children:["Type: ",g.jsx("span",{className:"font-medium capitalize",children:A.type})]})]}),g.jsx("div",{className:"flex-shrink-0",children:Te(A.status)})]}),g.jsxs("p",{className:"text-slate-700 bg-white p-2 rounded border border-slate-200 text-sm",children:['"',A.message,'"']}),g.jsxs("div",{className:"flex items-center justify-between gap-3 mt-3 pt-3 border-t border-slate-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>W(A.id,"viewed"),disabled:A.status==="viewed"||A.status==="resolved",className:"text-xs font-medium text-indigo-600 hover:underline disabled:text-slate-400 disabled:no-underline",children:"Mark as Viewed"}),g.jsx("button",{onClick:()=>W(A.id,"resolved"),disabled:A.status==="resolved",className:"text-xs font-medium text-green-600 hover:underline disabled:text-slate-400 disabled:no-underline",children:"Mark as Resolved"})]}),g.jsx("button",{onClick:()=>le(A.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-100 rounded-full",children:g.jsx(bm,{className:"h-4 w-4"})})]})]},A.id)):g.jsx("p",{className:"text-slate-500 text-center py-4",children:"No user feedback submitted yet."})})]})]}),g.jsxs("aside",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-200",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[g.jsx(Wy,{})," Content Management"]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:()=>de("uploadMaterials","Upload Materials","This would open a file dialog to upload new learning materials."),className:"w-full text-left bg-slate-100 hover:bg-slate-200 p-3 rounded-lg font-medium text-slate-700",children:"Upload Learning Materials"}),g.jsx("button",{onClick:()=>de("postAnnouncement","Post Announcement"),className:"w-full text-left bg-slate-100 hover:bg-slate-200 p-3 rounded-lg font-medium text-slate-700",children:"Post Announcement"})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-200",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[g.jsx(jy,{})," Support & Feedback"]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:()=>de("viewQueries","User Queries","This would navigate to a page for viewing and responding to user support tickets."),className:"w-full text-left bg-slate-100 hover:bg-slate-200 p-3 rounded-lg font-medium text-slate-700",children:"View User Queries"}),g.jsx("button",{onClick:()=>de("accessFeedback","Feedback Forms","This would navigate to a page for accessing user feedback forms."),className:"w-full text-left bg-slate-100 hover:bg-slate-200 p-3 rounded-lg font-medium text-slate-700",children:"Access Feedback Forms"})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-200",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[g.jsx(vu,{})," Settings"]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:()=>de("changePassword","Change Password","This would open a form to change the admin password."),className:"w-full text-left bg-slate-100 hover:bg-slate-200 p-3 rounded-lg font-medium text-slate-700",children:"Change Admin Password"}),g.jsx("button",{onClick:()=>de("configureSettings","Site Settings","This would navigate to a page for configuring site settings like branding and notifications."),className:"w-full text-left bg-slate-100 hover:bg-slate-200 p-3 rounded-lg font-medium text-slate-700",children:"Configure Site Settings"}),g.jsx("button",{onClick:()=>de("manageRoles","Manage Roles","This would open an interface for managing user roles and permissions."),className:"w-full text-left bg-slate-100 hover:bg-slate-200 p-3 rounded-lg font-medium text-slate-700",children:"Manage Roles"})]})]})]})]})]}),g.jsx(MM,{isOpen:!!x,onClose:X,title:(x==null?void 0:x.title)||"",children:g.jsx(RM,{modalState:x,closeModal:X,modalInputValue:C,setModalInputValue:M,modalInputEmail:w,setModalInputEmail:L,confirmEditUser:H,confirmResetPassword:oe,confirmRemoveUser:j,confirmAddUser:ge,confirmPostAnnouncement:q,confirmRejectSession:Xe})})]})},RM=({modalState:n,closeModal:e,modalInputValue:i,setModalInputValue:l,modalInputEmail:c,setModalInputEmail:d,confirmEditUser:m,confirmResetPassword:y,confirmRemoveUser:v,confirmAddUser:h,confirmPostAnnouncement:x,confirmRejectSession:T})=>{if(!n)return null;const C=(L,G,Y,O,I="text")=>g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:L}),g.jsx("input",{type:I,value:Y,onChange:X=>O(X.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:G,autoFocus:I==="text"})]}),M=(L,G,Y,O,I="bg-red-600 hover:bg-red-700")=>g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-yellow-100",children:Y}),g.jsx("p",{className:"text-slate-600 mt-1.5",children:L})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{onClick:e,className:"bg-slate-200 text-slate-800 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancel"}),g.jsx("button",{onClick:G,className:`${I} text-white font-semibold py-2 px-4 rounded-lg`,children:O})]})]}),w=(L,G=!1)=>g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${G?"bg-red-100":"bg-blue-100"}`,children:G?g.jsx(_s,{className:"w-6 h-6 text-red-600"}):g.jsx(mh,{className:"w-6 h-6 text-blue-600"})}),g.jsx("p",{className:"text-slate-600 mt-1.5",children:L})]}),g.jsx("div",{className:"flex justify-end pt-2",children:g.jsx("button",{onClick:e,className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:"OK"})})]});switch(n.type){case"info":return w(n.data.message);case"error":return w(n.data.message,!0);case"editUser":return g.jsxs("div",{className:"space-y-4",children:[C("New Name","Enter new name...",i,l),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{onClick:m,className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Save Changes"})})]});case"resetPassword":return M(`Are you sure you want to send a password reset link to ${n.data.email}?`,y,g.jsx(hh,{className:"w-6 h-6 text-yellow-600"}),"Send Link","bg-yellow-500 hover:bg-yellow-600");case"removeUser":return M(`This will permanently delete the user ${n.data.email}. This action cannot be undone.`,v,g.jsx(ev,{className:"w-6 h-6 text-red-600"}),"Delete User");case"addUser":return g.jsxs("div",{className:"space-y-4",children:[C("Full Name","John Doe...",i,l),C("Email Address","user@example.com...",c,d,"email"),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{onClick:h,className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Add User"})})]});case"postAnnouncement":return g.jsxs("div",{className:"space-y-4",children:[C("Announcement","Type here...",i,l),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{onClick:x,className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Post"})})]});case"rejectSession":return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-slate-600 text-sm",children:['Please provide a reason for rejecting the session for "',n.data.phrase,'". This will be sent to the user.']}),C("Reason for Rejection","e.g., Background noise too high...",i,l),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{onClick:T,className:"bg-red-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Reject & Send Feedback"})})]});default:return null}},bM=new Zh({apiKey:"PLACEHOLDER_API_KEY"}),DM=(n,e)=>{const c=n==="admin"?["admin_panel","settings"]:["dashboard","exercises","schedule","settings"],d={english:`You are a friendly and helpful navigation assistant for the 'Linguacare' web app.
Your only purpose is to help users find and navigate to different pages.
Do not answer any questions that are not related to navigation within the Linguacare app. If the user asks an off-topic question, politely decline and steer the conversation back to navigation.

First, provide a short, conversational response. If a navigation action is required, you MUST append a special command at the very end of your response in the format [action:navigate,page:PAGE_NAME]. Do not add this command if no navigation is needed.

The available pages for this user are: ${c.join(", ")}.

Example 1:
User: "Take me to the exercises"
Your response:
Sure, heading to the exercises page now![action:navigate,page:exercises]

Example 2:
User: "What's the weather like?"
Your response:
I can only help you navigate the Linguacare app. Is there a page I can take you to?

Example 3:
User: "Hi there!"
Your response:
Hello! How can I help you? You can ask me to go to any of your available pages.
`,tamil:` ''       .
        .
       .     , hflich ,   .

,  ,   .   ,    [action:navigate,page:PAGE_NAME]        .       .

   : ${c.join(", ")}.
`,malayalam:` ''       .
          .
      .       ,      .

,  ,    .    ,    [action:navigate,page:PAGE_NAME]      .     .

   : ${c.join(", ")}.
`};return d[e]||d.english},sh=(n,e)=>{const i=bM.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:DM(n,e),thinkingConfig:{thinkingBudget:0}}});return{sendMessageStream:async l=>{try{return await i.sendMessageStream({message:l})}catch(c){console.error("Error communicating with chatbot API:",c);async function*d(){yield{text:"Sorry, I'm having a little trouble right now. Please try again in a moment."}}return d()}}}},IM={english:"Hello! I'm the navigation assistant. How can I help you find your way around the app today?",tamil:"!   .         ?",malayalam:"!   .        ?"},ah={english:["Go to Exercises","My Dashboard","Settings"],tamil:[" "," ",""],malayalam:[" "," ",""]},UM=({user:n,onNavigate:e,language:i})=>{const[l,c]=F.useState(!1),[d,m]=F.useState([]),[y,v]=F.useState(""),[h,x]=F.useState(!1),[T,C]=F.useState(!1),[M,w]=F.useState(!0),{isRecording:L,startRecording:G,stopRecording:Y,audioBlob:O,recorderError:I,volume:X}=jh(),V=F.useRef(sh(n.role,i)),H=F.useRef(null);F.useEffect(()=>{V.current=sh(n.role,i)},[n.role,i]),F.useEffect(()=>{var de;(de=H.current)==null||de.scrollIntoView({behavior:"smooth"})},[d,h]);const Q=F.useCallback(async de=>{const ge=(de||y).trim();if(!ge||h)return;w(!1);const q={id:crypto.randomUUID(),role:"user",text:ge};m(W=>[...W,q]),v(""),x(!0);try{const W=await V.current.sendMessageStream(ge);let le="",Te=null;for await(const K of W){const $=K.text;if($)if(le+=$,Te)m(ee=>ee.map(me=>me.id===Te?{...me,text:le}:me));else{x(!1);const ee={id:crypto.randomUUID(),role:"bot",text:le};Te=ee.id,m(me=>[...me,ee])}}h&&x(!1);const A=/\[action:(\w+),page:([\w_]+)\]/,P=le.match(A);if(Te){const K=le.replace(A,"").trim();m($=>$.map(ee=>ee.id===Te?{...ee,text:K}:ee))}if(P){const[,K,$]=P;K==="navigate"&&$&&setTimeout(()=>{e($),c(!1)},1e3)}}catch(W){console.error("Failed to handle chatbot stream:",W),m(le=>[...le,{id:crypto.randomUUID(),role:"bot",text:"An unexpected error occurred."}])}finally{h&&x(!1)}},[y,h,e]);F.useEffect(()=>{O&&(async()=>{C(!0);try{const ge=await mM(O);ge.trim()&&Q(ge)}catch(ge){console.error("Transcription failed:",ge),m(q=>[...q,{id:crypto.randomUUID(),role:"bot",text:"Sorry, I couldn't understand that. Please try again."}])}finally{C(!1)}})()},[O,Q]),F.useEffect(()=>{I&&(console.error("Recorder Error:",I),m(de=>[...de,{id:crypto.randomUUID(),role:"bot",text:`Mic error: ${I}`}]))},[I]);const j=de=>{de.key==="Enter"&&Q()},Z=()=>{h||T||(v(""),G())},oe=()=>{L&&Y()},ie=()=>{c(!0),m([{id:crypto.randomUUID(),role:"bot",text:IM[i]}]),w(!0)},ae=y.trim()!==""&&!L,Xe=ah[i]||ah.english;return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed bottom-6 right-6 z-30 transition-all duration-300 ${l?"opacity-0 scale-90 pointer-events-none":"opacity-100 scale-100"}`,children:g.jsx("button",{onClick:ie,className:"bg-teal-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center hover:bg-teal-700 focus:outline-none focus:ring-4 focus:ring-teal-300 focus:ring-offset-2 transform hover:scale-110 transition-transform","aria-label":"Open navigation chatbot",children:g.jsx(Ts,{className:"h-8 w-8"})})}),g.jsxs("div",{className:`fixed bottom-6 right-6 z-40 w-[calc(100vw-3rem)] max-w-sm bg-white rounded-2xl shadow-2xl flex flex-col transition-all duration-300 ease-in-out border border-slate-200 ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}`,role:"dialog","aria-modal":"true","aria-labelledby":"chatbot-heading",children:[g.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[g.jsxs("h2",{id:"chatbot-heading",className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Ts,{className:"h-6 w-6 text-teal-600"}),g.jsx("span",{className:"absolute -top-1 -right-1 block h-2.5 w-2.5 rounded-full bg-green-400 ring-2 ring-white"})]}),g.jsx("span",{children:"Navigation Helper"})]}),g.jsx("button",{onClick:()=>c(!1),className:"p-1 text-slate-500 hover:text-slate-900 hover:bg-slate-100 rounded-full","aria-label":"Close chatbot",children:g.jsx(Yo,{className:"h-6 w-6"})})]}),g.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto h-96 bg-slate-50/50","aria-live":"polite",children:[d.map(de=>g.jsxs("div",{className:`flex items-end gap-2 animate-fade-in ${de.role==="user"?"justify-end":"justify-start"}`,children:[de.role==="bot"&&g.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-500 flex-shrink-0 flex items-center justify-center text-white font-bold text-sm",children:"AI"}),g.jsx("div",{className:`max-w-[80%] px-4 py-2.5 rounded-2xl ${de.role==="user"?"bg-teal-600 text-white rounded-br-none":"bg-slate-100 text-slate-800 rounded-bl-none"}`,children:g.jsx("p",{className:"text-sm",style:{whiteSpace:"pre-wrap"},children:de.text})})]},de.id)),h&&g.jsxs("div",{className:"flex items-end gap-2 justify-start animate-fade-in",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-500 flex-shrink-0 flex items-center justify-center text-white font-bold text-sm",children:"AI"}),g.jsx("div",{className:"px-4 py-3 bg-slate-100 rounded-2xl rounded-bl-none",children:g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),g.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),g.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),M&&!h&&g.jsx("div",{className:"flex flex-wrap gap-2 justify-start pl-10 pt-2 animate-fade-in",children:Xe.map(de=>g.jsx("button",{onClick:()=>Q(de),className:"px-3 py-1.5 bg-slate-200 text-slate-800 text-sm font-medium rounded-full hover:bg-slate-300 transition-colors",children:de},de))}),g.jsx("div",{ref:H})]}),g.jsx("div",{className:"p-3 border-t border-slate-200 bg-white rounded-b-2xl",children:g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"chatbot-input",className:"sr-only",children:"Chat message"}),g.jsx("input",{id:"chatbot-input",type:"text",value:y,onChange:de=>v(de.target.value),onKeyPress:j,placeholder:L?"Listening...":T?"Transcribing...":"Type or use the mic...",className:"w-full pl-4 pr-12 py-2.5 border border-slate-300 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-1 transition",disabled:h||L||T}),L&&g.jsx("div",{className:"absolute right-1.5 top-1/2 w-9 h-9 bg-teal-400/40 rounded-full transition-transform duration-100 ease-out pointer-events-none",style:{transform:`translateY(-50%) scale(${1+X*1.5})`},"aria-hidden":"true"}),g.jsx("button",{onClick:ae?()=>Q():void 0,onMouseDown:ae?void 0:Z,onMouseUp:ae?void 0:oe,onMouseLeave:ae?void 0:oe,onTouchStart:ae?void 0:Z,onTouchEnd:ae?void 0:oe,disabled:h||T,className:`absolute right-1.5 top-1/2 -translate-y-1/2 w-9 h-9 text-white rounded-full flex items-center justify-center transition-all duration-300 ease-in-out disabled:bg-slate-400 disabled:cursor-not-allowed transform active:scale-90 ${L?"bg-red-500":"bg-teal-600 hover:bg-teal-700"}`,"aria-label":ae?"Send message":"Hold to record and speak",children:ae?g.jsx(dh,{className:"h-5 w-5"}):g.jsx(As,{className:"h-6 w-6"})})]})})]})]})},kM=({breakEndTime:n})=>{const[e,i]=F.useState("");return F.useEffect(()=>{if(!n)return;const l=()=>{const d=n-Date.now();if(d<=0)return"00:00";const m=Math.floor(d/1e3/60),y=Math.floor(d/1e3%60);return`${String(m).padStart(2,"0")}:${String(y).padStart(2,"0")}`};i(l());const c=setInterval(()=>{const d=l();i(d),d==="00:00"&&clearInterval(c)},1e3);return()=>clearInterval(c)},[n]),n?g.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 animate-fade-in-fast",role:"dialog","aria-modal":"true","aria-labelledby":"break-reminder-title",children:[g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 md:p-8 text-center space-y-5 transform transition-all animate-modal-pop-in",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(zy,{className:"h-12 w-12 text-teal-500"})}),g.jsx("h2",{id:"break-reminder-title",className:"text-2xl font-bold text-slate-800",children:"Time for a Break!"}),g.jsx("p",{className:"text-slate-600",children:"You've been practicing hard. To stay sharp, you must take a 10-minute break. The exercise will resume automatically."}),g.jsxs("div",{className:"py-2",children:[g.jsx("p",{className:"text-sm text-slate-500",children:"Time remaining:"}),g.jsx("div",{className:"text-5xl font-bold font-mono text-teal-600 tracking-wider",children:e})]}),g.jsx("div",{className:"w-full bg-slate-200 text-slate-600 font-semibold py-3 px-6 rounded-lg cursor-not-allowed",children:"Break in progress..."})]}),g.jsx("style",{children:`
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                .animate-fade-in-fast { animation: fadeIn 0.3s ease-out forwards; }
                
                @keyframes popIn { 
                    from { opacity: 0; transform: scale(0.95) translateY(10px); } 
                    to { opacity: 1; transform: scale(1) translateY(0); } 
                }
                .animate-modal-pop-in { animation: popIn 0.3s ease-out forwards; }
            `})]}):null},ys=[{icon:Qi,title:"Welcome to Linguacare!",text:"This quick tour will guide you through the key features to help you get started on your speech therapy journey."},{icon:gu,title:"Choose Your Practice",text:"Head to the 'Exercises' page from the sidebar. Here, you can select your language, age group, and difficulty to find the perfect practice session for you."},{icon:As,title:"Get Instant Feedback",text:"In Pronunciation Practice, just tap the microphone, say the phrase, and our AI will provide instant, detailed feedback on your speech to help you improve."},{icon:Ts,title:"Your Navigation Assistant",text:"Need help getting around? Use our friendly chatbot in the bottom-right corner. Just tell it where you want to go!"}],LM=({onComplete:n})=>{const[e,i]=F.useState(0),l=()=>{e<ys.length-1?i(e+1):n()},c=()=>{e>0&&i(e-1)},d=ys[e];return g.jsxs("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":"onboarding-title",children:[g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 text-center space-y-6 relative transform transition-all animate-modal-pop-in",children:[g.jsx("button",{onClick:n,className:"absolute top-3 right-3 p-1.5 text-slate-400 hover:text-slate-700 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Skip tour",children:g.jsx(Yo,{className:"h-6 w-6"})}),g.jsx("div",{className:"flex justify-center text-teal-500",children:g.jsx(d.icon,{className:"w-16 h-16"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{id:"onboarding-title",className:"text-2xl font-bold text-slate-800",children:d.title}),g.jsx("p",{className:"text-slate-600",children:d.text})]}),g.jsx("div",{className:"flex items-center justify-center space-x-2",children:Array.from({length:ys.length}).map((m,y)=>g.jsx("div",{className:`w-2.5 h-2.5 rounded-full transition-colors ${y===e?"bg-teal-500":"bg-slate-300"}`},y))}),g.jsxs("div",{className:"flex items-center justify-between gap-4 pt-2",children:[e>0?g.jsx("button",{onClick:c,className:"bg-slate-200 text-slate-700 font-semibold py-2.5 px-6 rounded-lg hover:bg-slate-300 transition-colors",children:"Back"}):g.jsx("div",{className:"w-24"}),g.jsx("button",{onClick:l,className:"bg-teal-600 text-white font-semibold py-2.5 px-6 rounded-lg hover:bg-teal-700 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 flex-1",children:e===ys.length-1?"Let's Get Started!":"Next"})]})]}),g.jsx("style",{children:`
          @keyframes popIn { 
              from { opacity: 0; transform: scale(0.95) translateY(10px); } 
              to { opacity: 1; transform: scale(1) translateY(0); } 
          }
          .animate-modal-pop-in { animation: popIn 0.3s ease-out forwards; }
      `})]})},rh="linguacare_onboarding_completed",VM=()=>{const[n,e]=F.useState(!1);F.useEffect(()=>{try{localStorage.getItem(rh)||e(!0)}catch(l){console.error("Failed to read onboarding status from localStorage",l),e(!1)}},[]);const i=F.useCallback(()=>{try{localStorage.setItem(rh,"true"),e(!1)}catch(l){console.error("Failed to save onboarding status to localStorage",l),e(!1)}},[]);return{showTour:n,completeOnboarding:i}},PM=()=>{const[n,e]=F.useState(null),[i,l]=F.useState(null),[c,d]=F.useState("dashboard"),[m,y]=F.useState({language:"english",ageGroup:"kids",difficulty:"easy"}),[v,h]=F.useState(null),[x,T]=F.useState({isActive:!1,endTime:null}),{showTour:C,completeOnboarding:M}=VM(),w=["pronunciation_exercise","listening_exercise","exercises"],L=2700*1e3,G=600*1e3;F.useEffect(()=>{const H=()=>{if(typeof window<"u"&&window.speechSynthesis){const Q=new SpeechSynthesisUtterance("");Q.volume=0,window.speechSynthesis.speak(Q)}cv(),console.log("Audio APIs unlocked by user gesture.")};return window.addEventListener("click",H,{once:!0}),window.addEventListener("touchstart",H,{once:!0}),()=>{window.removeEventListener("click",H),window.removeEventListener("touchstart",H)}},[]),F.useEffect(()=>{const H=w.includes(c);H&&v===null?h(Date.now()):!H&&v!==null&&(h(null),T({isActive:!1,endTime:null}))},[c,v]),F.useEffect(()=>{let H;return v!==null&&!x.isActive&&(H=window.setInterval(()=>{Date.now()-v>L&&T({isActive:!0,endTime:Date.now()+G})},6e4)),()=>{H&&clearInterval(H)}},[v,x.isActive]),F.useEffect(()=>{if(!x.isActive||!x.endTime)return;const H=x.endTime-Date.now(),Q=setTimeout(()=>{T({isActive:!1,endTime:null}),h(Date.now())},H>0?H:0);return()=>clearTimeout(Q)},[x]);const Y=H=>{e(H),l(null),d(H.role==="admin"?"admin_panel":"dashboard")},O=()=>{e(null),l(null)},I=(H,Q)=>{if((n==null?void 0:n.role)==="admin"&&w.includes(H)){console.warn("Admin navigation to exercise page blocked. Redirecting to admin panel."),d("admin_panel");return}Q&&y(Q),d(H)},X=H=>{e(H)};if(!n)return i?g.jsx(lv,{role:i,onLogin:Y,onBack:()=>l(null)}):g.jsx(iv,{onSelectRole:l});const V=()=>{const H=["admin_panel","schedule","settings"];if(n.role==="admin"&&!H.includes(c))return g.jsx(lh,{});switch(c){case"dashboard":return g.jsx(Zr,{user:n,onNavigate:I});case"exercises":return g.jsx(pv,{onNavigate:I});case"pronunciation_exercise":return g.jsx(TM,{user:n,settings:m,startTime:v,isFrozen:x.isActive});case"listening_exercise":return g.jsx(CM,{user:n,settings:m,startTime:v,isFrozen:x.isActive});case"schedule":return g.jsx(EM,{});case"settings":return g.jsx(_M,{user:n,onUpdateUser:X});case"admin_panel":return n.role==="admin"?g.jsx(lh,{}):g.jsx(Zr,{user:n,onNavigate:I});default:return g.jsx(Zr,{user:n,onNavigate:I})}};return g.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[C&&n.role!=="admin"&&g.jsx(LM,{onComplete:M}),g.jsx(ov,{user:n,onLogout:O}),g.jsxs("div",{className:"flex flex-1",children:[g.jsx(rv,{user:n,activePage:c,onNavigate:I}),g.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:V()})]}),g.jsx(UM,{user:n,onNavigate:I,language:m.language}),g.jsx(kM,{breakEndTime:x.endTime})]})},ng=document.getElementById("root");if(!ng)throw new Error("Could not find root element to mount to");const qM=Vy.createRoot(ng);qM.render(g.jsx(wy.StrictMode,{children:g.jsx(PM,{})}));
